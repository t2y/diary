<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>2024/01 on forest nook</title><link>/diary/dates/2024/01/</link><description>Recent content in 2024/01 on forest nook</description><generator>Hugo -- gohugo.io</generator><language>ja-jp</language><copyright>© 2021 Tetsuya Morimoto</copyright><atom:icon>/diary/favicon.ico</atom:icon><icon>/diary/favicon.ico</icon><atom:link href="/diary/dates/2024/01/index.xml" rel="self" type="application/rss+xml"/><item><title>年明けからコーポレート業務いろいろ</title><link>/diary/posts/2024/0119/</link><pubDate>Fri, 19 Jan 2024 08:37:01 +0900</pubDate><guid>/diary/posts/2024/0119/</guid><description>23時に寝て4時半頃に起きてそのまま6時半までだらだらして起きた。早寝早起き。
今日の筋トレは腹筋:20x1,腕立て:15x1,スクワット20x1をした。
隔週の雑談 顧問のはらさんと隔週の打ち合わせ。今日の議題はこれら。内容が多くて1時間超えた。
電子帳簿保存法対応の事務処理規定の共有 まだ始まったばかりで税理士さんの温度感も低い 事務処理規定が省令に沿っているかどうかの判断はプロセス監査で行われる 電子帳簿保存法には規定されていないため、事務処理規定の妥当性の検証は行われない 融資を受ける構想作り 日本政策金融公庫のみで検討していたが、融資実績を作りたいなら信用金庫も加えた方がよい 借金のメンタリティ、担当者との折衝や審査など余裕のあるときに経験を積んでおくことはよいように思えた ファイナンシャルプランナーさんとのやり取り 会社の経費で役員のための保険に入ろうと考えている 個人の保険控除は8万円らしい ローカル複業化プロジェクトの考察 IT コミュニティに老人や子どもたちは入りにくい。農業なら老若男女誰でも入れる気がする 農業や地元の特産品を切り口にコワーキング (コミュニティ) で街の人たちと田舎の人たちをつなげるのはすごいことだと思う (関係人口の創出) 地元の有力者と仲良くなると、行政の口利きもしてくれて活動しやすくなる はらさんが よりひろいフロントエンド を始めたそうでその話しも聞いていた。個人のブログサイトにするのか、複数人で記事を共有するサイトにするのかもまだ曖昧だという。Contentful + Next.js + Cloudflare Pages という構成らしい。Contentful というツールを私が知らなかったのでまた時間のあるときに調べてみようと思う。
母が一人暮らしをしていて体調もよくないことから要介護状態になるリスクがそこそこあると考えている。最悪の場合、会社を休眠させてしばらく介護をするかもしれない。はらさんが仰るには休眠はよいアイディアだという。会社員に例えると退職した日の帰り道を想像するとよいと話されていたのだけど、私は過去の記憶があまりないというのもあるが、これまで6回も退職してきたのに退職日を特別に思ったことはあまりない。退職日と他の日に大きな違いはなくて、次のお仕事の準備や調査をしていることが私は多かったと思う。それでも退職にあわせて有休を1-2ヶ月とってゆっくり過ごしていたことには変わりない。私もそういう、メリハリのある働き方が好きだ。
smtp 接続のタイムアウト たまたまメンバーが誤った設定で smtp サーバーに接続したときにタイムアウトするまで5分ほどかかるという現象を発見した。タイムアウトの設定をせずに接続しようとするからそんなことが起きるのかな？と考えて smtp クライアントのタイムアウト設定を調べてみると net.DialTimeout を使えばよいという。
https://github.com/golang/go/issues/16436#issuecomment-233829112 多めに見積もって30秒のタイムアウトを設定して接続するようにして再度メンバーに再現検証してもらったら直っていないという。接続そのものは出来ていたのだ。ソースを読んでみると、smtp クライアントを生成するときに 220 というレスポンスを読むことがわかる。誤った接続設定でもコネクションは確立するが、レスポンスが返ってこなくて待ち状態になっていた。
func NewClient(conn net.Conn, host string) (*Client, error) { text := textproto.NewConn(conn) _, _, err := text.ReadResponse(220) if err != nil { text.Close() return nil, err } c := &amp;amp;Client{Text: text, conn: conn, serverName: host, localName: &amp;#34;localhost&amp;#34;} _, c.</description><content>&lt;p>23時に寝て4時半頃に起きてそのまま6時半までだらだらして起きた。早寝早起き。&lt;/p>
&lt;p>今日の筋トレは腹筋:20x1,腕立て:15x1,スクワット20x1をした。&lt;/p>
&lt;h2 id="隔週の雑談">隔週の雑談&lt;/h2>
&lt;p>顧問のはらさんと隔週の打ち合わせ。今日の議題はこれら。内容が多くて1時間超えた。&lt;/p>
&lt;ul>
&lt;li>&lt;a href="/diary/diary/posts/2024/0105/#事務処理規定の叩き台作成">電子帳簿保存法対応の事務処理規定の共有&lt;/a>
&lt;ul>
&lt;li>まだ始まったばかりで税理士さんの温度感も低い&lt;/li>
&lt;li>事務処理規定が省令に沿っているかどうかの判断はプロセス監査で行われる&lt;/li>
&lt;li>電子帳簿保存法には規定されていないため、事務処理規定の妥当性の検証は行われない&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="/diary/diary/posts/2024/0107/#経営の価値観と財務">融資を受ける構想作り&lt;/a>
&lt;ul>
&lt;li>日本政策金融公庫のみで検討していたが、融資実績を作りたいなら信用金庫も加えた方がよい&lt;/li>
&lt;li>借金のメンタリティ、担当者との折衝や審査など余裕のあるときに経験を積んでおくことはよいように思えた&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="/diary/diary/posts/2024/0113/#ファイナンシャルプランナーとの打ち合わせ">ファイナンシャルプランナーさんとのやり取り&lt;/a>
&lt;ul>
&lt;li>会社の経費で役員のための保険に入ろうと考えている&lt;/li>
&lt;li>個人の保険控除は8万円らしい&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="https://note.com/kanzan10to9/n/n49d8fe09ad5b">ローカル複業化プロジェクトの考察&lt;/a>
&lt;ul>
&lt;li>IT コミュニティに老人や子どもたちは入りにくい。農業なら老若男女誰でも入れる気がする&lt;/li>
&lt;li>農業や地元の特産品を切り口にコワーキング (コミュニティ) で街の人たちと田舎の人たちをつなげるのはすごいことだと思う (関係人口の創出)&lt;/li>
&lt;li>地元の有力者と仲良くなると、行政の口利きもしてくれて活動しやすくなる&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>はらさんが &lt;a href="https://yorihiroi-frontend.engineer/ja">よりひろいフロントエンド&lt;/a> を始めたそうでその話しも聞いていた。個人のブログサイトにするのか、複数人で記事を共有するサイトにするのかもまだ曖昧だという。&lt;a href="https://www.contentful.com/">Contentful&lt;/a> + Next.js + Cloudflare Pages という構成らしい。Contentful というツールを私が知らなかったのでまた時間のあるときに調べてみようと思う。&lt;/p>
&lt;p>母が一人暮らしをしていて体調もよくないことから要介護状態になるリスクがそこそこあると考えている。最悪の場合、会社を休眠させてしばらく介護をするかもしれない。はらさんが仰るには休眠はよいアイディアだという。会社員に例えると退職した日の帰り道を想像するとよいと話されていたのだけど、私は過去の記憶があまりないというのもあるが、これまで6回も退職してきたのに退職日を特別に思ったことはあまりない。退職日と他の日に大きな違いはなくて、次のお仕事の準備や調査をしていることが私は多かったと思う。それでも退職にあわせて有休を1-2ヶ月とってゆっくり過ごしていたことには変わりない。私もそういう、メリハリのある働き方が好きだ。&lt;/p>
&lt;h2 id="smtp-接続のタイムアウト">smtp 接続のタイムアウト&lt;/h2>
&lt;p>たまたまメンバーが誤った設定で smtp サーバーに接続したときにタイムアウトするまで5分ほどかかるという現象を発見した。タイムアウトの設定をせずに接続しようとするからそんなことが起きるのかな？と考えて smtp クライアントのタイムアウト設定を調べてみると &lt;a href="https://pkg.go.dev/net#DialTimeout">net.DialTimeout&lt;/a> を使えばよいという。&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/golang/go/issues/16436#issuecomment-233829112">https://github.com/golang/go/issues/16436#issuecomment-233829112&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>多めに見積もって30秒のタイムアウトを設定して接続するようにして再度メンバーに再現検証してもらったら直っていないという。接続そのものは出来ていたのだ。ソースを読んでみると、smtp クライアントを生成するときに &lt;code>220&lt;/code> というレスポンスを読むことがわかる。誤った接続設定でもコネクションは確立するが、レスポンスが返ってこなくて待ち状態になっていた。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-go" data-lang="go">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">func&lt;/span> &lt;span style="color:#a6e22e">NewClient&lt;/span>(&lt;span style="color:#a6e22e">conn&lt;/span> &lt;span style="color:#a6e22e">net&lt;/span>.&lt;span style="color:#a6e22e">Conn&lt;/span>, &lt;span style="color:#a6e22e">host&lt;/span> &lt;span style="color:#66d9ef">string&lt;/span>) (&lt;span style="color:#f92672">*&lt;/span>&lt;span style="color:#a6e22e">Client&lt;/span>, &lt;span style="color:#66d9ef">error&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">text&lt;/span> &lt;span style="color:#f92672">:=&lt;/span> &lt;span style="color:#a6e22e">textproto&lt;/span>.&lt;span style="color:#a6e22e">NewConn&lt;/span>(&lt;span style="color:#a6e22e">conn&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">_&lt;/span>, &lt;span style="color:#a6e22e">_&lt;/span>, &lt;span style="color:#a6e22e">err&lt;/span> &lt;span style="color:#f92672">:=&lt;/span> &lt;span style="color:#a6e22e">text&lt;/span>.&lt;span style="color:#a6e22e">ReadResponse&lt;/span>(&lt;span style="color:#ae81ff">220&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> &lt;span style="color:#a6e22e">err&lt;/span> &lt;span style="color:#f92672">!=&lt;/span> &lt;span style="color:#66d9ef">nil&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">text&lt;/span>.&lt;span style="color:#a6e22e">Close&lt;/span>()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#66d9ef">nil&lt;/span>, &lt;span style="color:#a6e22e">err&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">c&lt;/span> &lt;span style="color:#f92672">:=&lt;/span> &lt;span style="color:#f92672">&amp;amp;&lt;/span>&lt;span style="color:#a6e22e">Client&lt;/span>{&lt;span style="color:#a6e22e">Text&lt;/span>: &lt;span style="color:#a6e22e">text&lt;/span>, &lt;span style="color:#a6e22e">conn&lt;/span>: &lt;span style="color:#a6e22e">conn&lt;/span>, &lt;span style="color:#a6e22e">serverName&lt;/span>: &lt;span style="color:#a6e22e">host&lt;/span>, &lt;span style="color:#a6e22e">localName&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;localhost&amp;#34;&lt;/span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">_&lt;/span>, &lt;span style="color:#a6e22e">c&lt;/span>.&lt;span style="color:#a6e22e">tls&lt;/span> = &lt;span style="color:#a6e22e">conn&lt;/span>.(&lt;span style="color:#f92672">*&lt;/span>&lt;span style="color:#a6e22e">tls&lt;/span>.&lt;span style="color:#a6e22e">Conn&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#a6e22e">c&lt;/span>, &lt;span style="color:#66d9ef">nil&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>調べてみると Conn インターフェースにデッドラインを設定する API が提供されている。注意事項としては接続した後にデッドラインをリセットしないといけない。&lt;/p>
&lt;blockquote>
&lt;p>デッドラインとは、I/O操作がブロックされずに失敗する絶対時間のことである。デッドラインは、ReadやWriteを呼び出した直後のI/Oだけでなく、将来の保留中の I/O すべてに適用される。デッドラインを超過した後は、未来にデッドラインを設定することで、接続をリフレッシュすることができる。&lt;/p>
&lt;p>デッドラインを超えた場合、ReadやWrite、その他のI/Oメソッドの呼び出しは、os.ErrDeadlineExceeded をラップしたエラーを返します。これは、errors.Is(err, os.ErrDeadlineExceeded)を使用してテストすることができます。errorのTimeoutメソッドはtrueを返しますが、期限を超過していなくてもTimeoutメソッドがtrueを返すエラーが他にもあることに注意してください。&lt;/p>
&lt;p>アイドルタイムアウトは、ReadまたはWrite呼び出しに成功した後、デッドラインを繰り返し延長することで実装できる。tの値が0であれば、I/O操作はタイムアウトしない。&lt;/p>
&lt;p>&lt;a href="https://pkg.go.dev/net#Conn">https://pkg.go.dev/net#Conn&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;p>次のように &lt;code>SetReadDeadline()&lt;/code> を使ってタイムアウトを5分から30秒に短縮できた。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-go" data-lang="go">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">func&lt;/span> (&lt;span style="color:#a6e22e">s&lt;/span> &lt;span style="color:#f92672">*&lt;/span>&lt;span style="color:#a6e22e">Clinet&lt;/span>) &lt;span style="color:#a6e22e">connectWithReadDeadline&lt;/span>(&lt;span style="color:#a6e22e">conn&lt;/span> &lt;span style="color:#a6e22e">net&lt;/span>.&lt;span style="color:#a6e22e">Conn&lt;/span>) (&lt;span style="color:#f92672">*&lt;/span>&lt;span style="color:#a6e22e">smtp&lt;/span>.&lt;span style="color:#a6e22e">Client&lt;/span>, &lt;span style="color:#66d9ef">error&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> &lt;span style="color:#a6e22e">err&lt;/span> &lt;span style="color:#f92672">:=&lt;/span> &lt;span style="color:#a6e22e">conn&lt;/span>.&lt;span style="color:#a6e22e">SetReadDeadline&lt;/span>(&lt;span style="color:#a6e22e">time&lt;/span>.&lt;span style="color:#a6e22e">Now&lt;/span>().&lt;span style="color:#a6e22e">Add&lt;/span>(&lt;span style="color:#a6e22e">dialTimeout&lt;/span>)); &lt;span style="color:#a6e22e">err&lt;/span> &lt;span style="color:#f92672">!=&lt;/span> &lt;span style="color:#66d9ef">nil&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#66d9ef">nil&lt;/span>, &lt;span style="color:#a6e22e">fmt&lt;/span>.&lt;span style="color:#a6e22e">Errorf&lt;/span>(&lt;span style="color:#e6db74">&amp;#34;failed to set read deadline: %w&amp;#34;&lt;/span>, &lt;span style="color:#a6e22e">err&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">c&lt;/span>, &lt;span style="color:#a6e22e">err&lt;/span> &lt;span style="color:#f92672">:=&lt;/span> &lt;span style="color:#a6e22e">smtp&lt;/span>.&lt;span style="color:#a6e22e">NewClient&lt;/span>(&lt;span style="color:#a6e22e">conn&lt;/span>, &lt;span style="color:#a6e22e">s&lt;/span>.&lt;span style="color:#a6e22e">config&lt;/span>.&lt;span style="color:#a6e22e">Host&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> &lt;span style="color:#a6e22e">err&lt;/span> &lt;span style="color:#f92672">!=&lt;/span> &lt;span style="color:#66d9ef">nil&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#66d9ef">nil&lt;/span>, &lt;span style="color:#a6e22e">fmt&lt;/span>.&lt;span style="color:#a6e22e">Errorf&lt;/span>(&lt;span style="color:#e6db74">&amp;#34;failed to connect to the smtp server: %w&amp;#34;&lt;/span>, &lt;span style="color:#a6e22e">err&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">// clear read deadline
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#66d9ef">if&lt;/span> &lt;span style="color:#a6e22e">err&lt;/span> &lt;span style="color:#f92672">:=&lt;/span> &lt;span style="color:#a6e22e">conn&lt;/span>.&lt;span style="color:#a6e22e">SetReadDeadline&lt;/span>(&lt;span style="color:#a6e22e">time&lt;/span>.&lt;span style="color:#a6e22e">Time&lt;/span>{}); &lt;span style="color:#a6e22e">err&lt;/span> &lt;span style="color:#f92672">!=&lt;/span> &lt;span style="color:#66d9ef">nil&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#66d9ef">nil&lt;/span>, &lt;span style="color:#a6e22e">fmt&lt;/span>.&lt;span style="color:#a6e22e">Errorf&lt;/span>(&lt;span style="color:#e6db74">&amp;#34;failed to reset read deadline: %w&amp;#34;&lt;/span>, &lt;span style="color:#a6e22e">err&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#a6e22e">c&lt;/span>, &lt;span style="color:#66d9ef">nil&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></content></item><item><title>ローカルに window server をインストールした</title><link>/diary/posts/2024/0118/</link><pubDate>Thu, 18 Jan 2024 09:28:57 +0900</pubDate><guid>/diary/posts/2024/0118/</guid><description>1時過ぎに寝て6時半に起きた。久しぶりによく眠れた。6時半に起きてたのに8時ぐらいまでだらだらしてた。
今日の筋トレは腹筋:20x1,腕立て:15x1,スクワット20x1をした。
windows server 2022 試用版のインストール Windows Server 2022 の試用版が提供されていると知ったのでローカルの VirtualBox 環境にインストールしてみた。Active Directory の検証に使うのでディレクトサービスや ldaps 接続のための証明書サービスなどを設定する。メンバーがインストールして課題管理システムにメモを残してくれてあったのでそれを見ながらインストールや設定自体はすぐにできた。1つだけうまく接続できないことがあった。
ホスト os から ldapsearch で ldaps で接続しようとすると次のようなエラーになる。
$ ldapsearch -x -H &amp;#34;ldaps://192.168.56.101&amp;#34; -W -b &amp;#34;CN=Users,DC=myad,DC=com&amp;#34; -D &amp;#34;CN=Administrator,CN=Users,DC=myad,DC=com&amp;#34; ldap_sasl_bind(SIMPLE): Can&amp;#39;t contact LDAP server (-1) ldap では接続できるので tls の検証のチェックに失敗していることは自明だったが、メンバーは接続できているようにみえたので私の環境の設定が誤っているのかどうかを調べていた。2時間ぐらいデバッグしたりしながら調べてもよくわからなくて、たまたまチーム勉強会があったので終わったときにメンバーに聞いてみた。すぐに完結した。ldapsearch は LDAPTLS_REQCERT という環境変数で tls のリクエストの振る舞いを制御できる。次のように明示的に指定すると接続できる。
$ LDAPTLS_REQCERT=never ldapsearch -x -H &amp;#34;ldaps://192.168.56.101&amp;#34; ... この設定はいくつかの方法で設定ファイルに書いておくこともできる。メンバーが使っている環境には ldap.conf でこの設定を有効にしていたので ldaps 接続できていたというオチだった。私が openldap について明るくないのでこういった背景知識をもっていなくてはまっていただけだった。
Thus the following files and variables are read, in order: variable $LDAPNOINIT, and if that is not set: system file /etc/openldap/ldap.</description><content>&lt;p>1時過ぎに寝て6時半に起きた。久しぶりによく眠れた。6時半に起きてたのに8時ぐらいまでだらだらしてた。&lt;/p>
&lt;p>今日の筋トレは腹筋:20x1,腕立て:15x1,スクワット20x1をした。&lt;/p>
&lt;h2 id="windows-server-2022-試用版のインストール">windows server 2022 試用版のインストール&lt;/h2>
&lt;p>&lt;a href="https://www.microsoft.com/ja-jp/evalcenter/evaluate-windows-server-2022">Windows Server 2022&lt;/a> の試用版が提供されていると知ったのでローカルの &lt;a href="https://www.virtualbox.org/">VirtualBox&lt;/a> 環境にインストールしてみた。Active Directory の検証に使うのでディレクトサービスや ldaps 接続のための証明書サービスなどを設定する。メンバーがインストールして課題管理システムにメモを残してくれてあったのでそれを見ながらインストールや設定自体はすぐにできた。1つだけうまく接続できないことがあった。&lt;/p>
&lt;p>ホスト os から ldapsearch で ldaps で接続しようとすると次のようなエラーになる。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>$ ldapsearch -x -H &lt;span style="color:#e6db74">&amp;#34;ldaps://192.168.56.101&amp;#34;&lt;/span> -W -b &lt;span style="color:#e6db74">&amp;#34;CN=Users,DC=myad,DC=com&amp;#34;&lt;/span> -D &lt;span style="color:#e6db74">&amp;#34;CN=Administrator,CN=Users,DC=myad,DC=com&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ldap_sasl_bind&lt;span style="color:#f92672">(&lt;/span>SIMPLE&lt;span style="color:#f92672">)&lt;/span>: Can&lt;span style="color:#960050;background-color:#1e0010">&amp;#39;&lt;/span>t contact LDAP server &lt;span style="color:#f92672">(&lt;/span>-1&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ldap では接続できるので tls の検証のチェックに失敗していることは自明だったが、メンバーは接続できているようにみえたので私の環境の設定が誤っているのかどうかを調べていた。2時間ぐらいデバッグしたりしながら調べてもよくわからなくて、たまたまチーム勉強会があったので終わったときにメンバーに聞いてみた。すぐに完結した。ldapsearch は &lt;code>LDAPTLS_REQCERT&lt;/code> という環境変数で tls のリクエストの振る舞いを制御できる。次のように明示的に指定すると接続できる。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>$ LDAPTLS_REQCERT&lt;span style="color:#f92672">=&lt;/span>never ldapsearch -x -H &lt;span style="color:#e6db74">&amp;#34;ldaps://192.168.56.101&amp;#34;&lt;/span> ...
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>この設定はいくつかの方法で設定ファイルに書いておくこともできる。メンバーが使っている環境には &lt;code>ldap.conf&lt;/code> でこの設定を有効にしていたので ldaps 接続できていたというオチだった。私が openldap について明るくないのでこういった背景知識をもっていなくてはまっていただけだった。&lt;/p>
&lt;pre tabindex="0">&lt;code>Thus the following files and variables are read, in order:
variable $LDAPNOINIT, and if that is not set:
system file /etc/openldap/ldap.conf,
user files $HOME/ldaprc, $HOME/.ldaprc, ./ldaprc,
system file $LDAPCONF,
user files $HOME/$LDAPRC, $HOME/.$LDAPRC, ./$LDAPRC,
variables $LDAP&amp;lt;uppercase option name&amp;gt;.
Settings late in the list override earlier ones.
&lt;/code>&lt;/pre>&lt;h2 id="明石海峡大橋海上ウォーク">明石海峡大橋海上ウォーク&lt;/h2>
&lt;p>神戸ジャーナルの記事をみかけて、そういうイベントがあるのは知っていた。&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://kaijo-uzushio-walk.jp/">神戸淡路鳴門自動車道 2橋ウォーク同時開催！ 明石海峡大橋海上ウォーク/大鳴門橋うずしおウォーク 令和6年3月9日(土)・10日(日)&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>開発合宿の翌週だし、わざわざ行くほどでもないかとスルーしていたものの、関東から知人がわざわざ歩きに来るという話しを聞いて、せっかくの機会なので私も参加することにした。土曜日の午前中に明石海峡大橋を歩いてくる。まだ申込みが始まったばかりなので希望の時間帯を選択できると思う。&lt;/p></content></item><item><title>勉強のやり方の基本</title><link>/diary/posts/2024/0117/</link><pubDate>Wed, 17 Jan 2024 01:52:58 +0900</pubDate><guid>/diary/posts/2024/0117/</guid><description>3時過ぎに寝て1度起きて7時半に起きた。また体調を崩さないか心配になってくる。
今日の筋トレは腹筋:15x2,腕立て:10x1,スクワット20x1をした。
業務での勉強のやり方の基本 隔週で水曜日はメンバーと1on1をしている。今日は年明けで最初の1on1になる。あるメンバーと勉強のやり方について話題になった。私が普段、業務で行っている勉強のやり方を紹介してみた。
業務の中で未知の内容やわからないことに遭遇する ツールやフレームワークを学ぶなら公式ドキュメントを一通り読む チュートリアルやサンプルコードを書くためにサンプルリポジトリを作る 実際にコードを書いて、動かしてみて、ドキュメントの内容を理解する 自分が理解した内容をテックブログに書く 対象への理解の解像度が上がってから業務に応用する 業務をしながらこれを繰り返してプロダクト開発をしている。
私からみると、経験の浅い開発者は勉強せずに、インターネットでググった内容をそのまま業務に応用しようとする。そして、理解の解像度が低いために誤った設計や実装をしてしまう。それで手戻りが発生したり、品質が悪かったりする。何度も公式ドキュメントを読んだ方がよいと提唱しているものの、これがなかなか勉強しないといけない人には通じない。私も過去にそういう時期があったので意図が理解できないというのも理解できる。だからこそ、この話しは何度でもするし、いつかそのことを理解できるときがきたら役に立つことだと考えている。
メンバーから「公式ドキュメントを読んでも書いてあることが理解できない」というコメントをもらう。そう。理解できないから自分でコードを書いて、動かしてみて、その勉強をするんだよと教える。本当にそれだけのことなんだけど、それだけのことも理解できずに他人が書いた信頼できるかどうかわからない記事のコードを使う人が多い。本質的には技術の勉強を過小評価している。経験の浅い人は1-2時間読み書きしただけでモダンなフレームワークの抽象化や振る舞いを理解できるはずがない。私でもバックエンドならたいていのことは理解できるが、経験の浅いフロントエンドは怪しい。だから、分かるまでもっともっと勉強しないといけないという認識が必要だ。1-2時間で終えようではなく、勉強も含めて2-3日かけようと思うぐらいでちょうどよい。
さらに私はメンバーに「時間がかかってもよいからちゃんと理解して開発しなさい」と、これも何度も何度もメンバーに伝えている。それによってタスクが遅れても構わないとすら言っている。他社のプロダクト開発でそこまで言うと経営者からクレームがくる可能性はあるが、おそらくお手伝い先の経営者もいっときの開発の速度よりも、地に足の着いた開発者として成長してもらう方がずっと価値があると理解してもらっていると、私は考えている。だからこそ、メンバーにそう言って、みせかけだけで開発しないように伝えている。
今日話していて、ようやく自覚できるようになってきたんじゃないかと手応えを感じた。1年かかったけれど。私自身マネージャーとして未熟でもあるし、マネジメントがよくなかったところもあるし、伝え方もよくなかったのかもしれない。それでも繰り返し繰り返し、開発において大事な価値観はメンバーに伝えていこうと気持ちを新たにした。
災害義援金の推移 先日 石川県の災害義援金に寄付した ときにサイトにその日の残高を掲載していることに気付いた。関心をもったのでその記録を付けている。チェックを忘れたときは internet archive から分かる範囲で調べた。次のような感じに推移していて、そろそろ落ち着くのかもしれない。約60億円といったところ。他の団体や期間からの寄付もあるだろうけど、被害総額は約8,000億円らしいのでまだまだ全然足らない。
コワーキングのオンラインイベント 月例のカフーツさんのオンラインイベントに参加した。前回の所感はここ 。今回のテーマは「自治体とコワーキング」だった。私は行政を好ましく思っていない。行政と関わるお仕事もいくつかやってきた中で行政側の態度がよくなかったり、担当者も上から指示されたからやってますといったやっつけだったり、若い担当者は理解があっても決済権をもってなくて上司に没にされたり、一緒に働いていて楽しいようなお仕事に巡りあわなかったからだ。そして、目的意識からの違いから行政とのお仕事やプロジェクトが失敗とまで言わなくても、うまくいかないケースをいくつも見聞きしてきた。うまくいかないのに対して、うまくいったというのはほとんど聞いたことがないからまずうまくいかない。
それはともかく、行政と一緒になってコワーキングの事業をやろうとしている人たちもいるのでそれはそれでどんなことをやっているのかを聞いていた。今回は新しい参加者がいてその人の経歴ややっているコワーキングの行動なども聞けておもしろかった。街の人たちとどうやって仲良くなるかという話しで単純接触効果がもっとも効果が大きいのではないかと話されていた。なにもしなくてもそこにいて、徐々に人がくるようになって、人と会っているうちに仲良くなるといった話し。営業さんが取引先をまわるのもその戦略。
空き家バンク は住居向けしか対象としていなくて事業用にはなっていない。事業に使える空き家を探すのが難しい。空き家のマッチングシステムはあるようでないらしい。空き家がいっぱいあるのはわかっているので空き家をコワーキングスペースに改装して、町興しの拠点に使えばいいのではないかといった話しがあった。それはそうかもしれないが、私の感覚では、田舎にスペースは山ほどあるが人がいない。コワーキング的な新しい価値観で個々が自律して課題解決するような人を田舎でみつけるのはなかなか難しいと考えている。どちらかというと、一定の人口がいる地方都市や大きめの市が落とし所なのではないかと思う。</description><content>&lt;p>3時過ぎに寝て1度起きて7時半に起きた。また体調を崩さないか心配になってくる。&lt;/p>
&lt;p>今日の筋トレは腹筋:15x2,腕立て:10x1,スクワット20x1をした。&lt;/p>
&lt;h2 id="業務での勉強のやり方の基本">業務での勉強のやり方の基本&lt;/h2>
&lt;p>隔週で水曜日はメンバーと1on1をしている。今日は年明けで最初の1on1になる。あるメンバーと勉強のやり方について話題になった。私が普段、業務で行っている勉強のやり方を紹介してみた。&lt;/p>
&lt;ol>
&lt;li>業務の中で未知の内容やわからないことに遭遇する&lt;/li>
&lt;li>ツールやフレームワークを学ぶなら公式ドキュメントを一通り読む&lt;/li>
&lt;li>チュートリアルやサンプルコードを書くためにサンプルリポジトリを作る&lt;/li>
&lt;li>実際にコードを書いて、動かしてみて、ドキュメントの内容を理解する&lt;/li>
&lt;li>自分が理解した内容をテックブログに書く&lt;/li>
&lt;li>対象への理解の解像度が上がってから業務に応用する&lt;/li>
&lt;/ol>
&lt;p>業務をしながらこれを繰り返してプロダクト開発をしている。&lt;/p>
&lt;p>私からみると、経験の浅い開発者は勉強せずに、インターネットでググった内容をそのまま業務に応用しようとする。そして、理解の解像度が低いために誤った設計や実装をしてしまう。それで手戻りが発生したり、品質が悪かったりする。何度も公式ドキュメントを読んだ方がよいと提唱しているものの、これがなかなか勉強しないといけない人には通じない。私も過去にそういう時期があったので意図が理解できないというのも理解できる。だからこそ、この話しは何度でもするし、いつかそのことを理解できるときがきたら役に立つことだと考えている。&lt;/p>
&lt;p>メンバーから「公式ドキュメントを読んでも書いてあることが理解できない」というコメントをもらう。そう。理解できないから自分でコードを書いて、動かしてみて、その勉強をするんだよと教える。本当にそれだけのことなんだけど、それだけのことも理解できずに他人が書いた信頼できるかどうかわからない記事のコードを使う人が多い。本質的には技術の勉強を過小評価している。経験の浅い人は1-2時間読み書きしただけでモダンなフレームワークの抽象化や振る舞いを理解できるはずがない。私でもバックエンドならたいていのことは理解できるが、経験の浅いフロントエンドは怪しい。だから、分かるまでもっともっと勉強しないといけないという認識が必要だ。1-2時間で終えようではなく、勉強も含めて2-3日かけようと思うぐらいでちょうどよい。&lt;/p>
&lt;p>さらに私はメンバーに「時間がかかってもよいからちゃんと理解して開発しなさい」と、これも何度も何度もメンバーに伝えている。それによってタスクが遅れても構わないとすら言っている。他社のプロダクト開発でそこまで言うと経営者からクレームがくる可能性はあるが、おそらくお手伝い先の経営者もいっときの開発の速度よりも、地に足の着いた開発者として成長してもらう方がずっと価値があると理解してもらっていると、私は考えている。だからこそ、メンバーにそう言って、みせかけだけで開発しないように伝えている。&lt;/p>
&lt;p>今日話していて、ようやく自覚できるようになってきたんじゃないかと手応えを感じた。1年かかったけれど。私自身マネージャーとして未熟でもあるし、マネジメントがよくなかったところもあるし、伝え方もよくなかったのかもしれない。それでも繰り返し繰り返し、開発において大事な価値観はメンバーに伝えていこうと気持ちを新たにした。&lt;/p>
&lt;h2 id="災害義援金の推移">災害義援金の推移&lt;/h2>
&lt;p>先日 &lt;a href="/diary/diary/posts/2024/0109/#災害義援金の寄付">石川県の災害義援金に寄付した&lt;/a> ときにサイトにその日の残高を掲載していることに気付いた。関心をもったのでその記録を付けている。チェックを忘れたときは internet archive から分かる範囲で調べた。次のような感じに推移していて、そろそろ落ち着くのかもしれない。約60億円といったところ。他の団体や期間からの寄付もあるだろうけど、被害総額は約8,000億円らしいのでまだまだ全然足らない。&lt;/p>
&lt;figure>&lt;img src="/diary/diary/img/2024/0116_donation.png"/>
&lt;/figure>
&lt;h2 id="コワーキングのオンラインイベント">コワーキングのオンラインイベント&lt;/h2>
&lt;p>月例のカフーツさんのオンラインイベントに参加した。&lt;a href="/diary/diary/posts/2023/1220/#コワーキングのオンラインイベント">前回の所感はここ&lt;/a> 。今回のテーマは「自治体とコワーキング」だった。私は行政を好ましく思っていない。行政と関わるお仕事もいくつかやってきた中で行政側の態度がよくなかったり、担当者も上から指示されたからやってますといったやっつけだったり、若い担当者は理解があっても決済権をもってなくて上司に没にされたり、一緒に働いていて楽しいようなお仕事に巡りあわなかったからだ。そして、目的意識からの違いから行政とのお仕事やプロジェクトが失敗とまで言わなくても、うまくいかないケースをいくつも見聞きしてきた。うまくいかないのに対して、うまくいったというのはほとんど聞いたことがないからまずうまくいかない。&lt;/p>
&lt;p>それはともかく、行政と一緒になってコワーキングの事業をやろうとしている人たちもいるのでそれはそれでどんなことをやっているのかを聞いていた。今回は新しい参加者がいてその人の経歴ややっているコワーキングの行動なども聞けておもしろかった。街の人たちとどうやって仲良くなるかという話しで単純接触効果がもっとも効果が大きいのではないかと話されていた。なにもしなくてもそこにいて、徐々に人がくるようになって、人と会っているうちに仲良くなるといった話し。営業さんが取引先をまわるのもその戦略。&lt;/p>
&lt;p>&lt;a href="https://www.homes.co.jp/akiyabank/">空き家バンク&lt;/a> は住居向けしか対象としていなくて事業用にはなっていない。事業に使える空き家を探すのが難しい。空き家のマッチングシステムはあるようでないらしい。空き家がいっぱいあるのはわかっているので空き家をコワーキングスペースに改装して、町興しの拠点に使えばいいのではないかといった話しがあった。それはそうかもしれないが、私の感覚では、田舎にスペースは山ほどあるが人がいない。コワーキング的な新しい価値観で個々が自律して課題解決するような人を田舎でみつけるのはなかなか難しいと考えている。どちらかというと、一定の人口がいる地方都市や大きめの市が落とし所なのではないかと思う。&lt;/p></content></item><item><title>テスト環境を作り直す</title><link>/diary/posts/2024/0116/</link><pubDate>Tue, 16 Jan 2024 11:10:20 +0900</pubDate><guid>/diary/posts/2024/0116/</guid><description>21時頃から寝て何度か起きて7時半に起きた。昨日は頭が痛かったら早く帰って安静にしてた。安静にしたら直ったので大したことはなかったみたい。
今日の筋トレは腹筋:15x2,腕立て:10x1,スクワット15x2をした。
テスト環境の見直し いまどきの開発の定番としては ci/cd でコミット単位にテスト環境にデプロイする仕組みを構築している。テスト環境は1つだけになるのだけど、プロダクトの開発を1年以上やってきて機能が増えたことによって、1つのテスト環境で相容れない複数の要件や機能を混在させることで管理や運用が煩雑になってきた。気付いたタイミングがよい時期だと思うのでこの機会に1つのテスト環境を3つのテスト環境に分散させようと思う。既存データを確認するだけなら1つでもよいが、id 連携という機能の特性上、複数のシステム間でデータ連携するため、システム間での依存関係が発生する。それを整理しないといけなくなったという次第。今日のところは現状把握や移行に必要な段取りなどを設計していた。
hugo のハンズオン資料作り 昨日の続き 。23時過ぎに外に出たついでにオフィスに寄り道して書き始めたらまた熱中してしまって2時ぐらいまで書いていた。ハンズオンで説明する内容は一通り書いたつもり。せっかくの機会だから上級者向けにもう少し知っていることを書いてみようとは思う。</description><content>&lt;p>21時頃から寝て何度か起きて7時半に起きた。昨日は頭が痛かったら早く帰って安静にしてた。安静にしたら直ったので大したことはなかったみたい。&lt;/p>
&lt;p>今日の筋トレは腹筋:15x2,腕立て:10x1,スクワット15x2をした。&lt;/p>
&lt;h2 id="テスト環境の見直し">テスト環境の見直し&lt;/h2>
&lt;p>いまどきの開発の定番としては ci/cd でコミット単位にテスト環境にデプロイする仕組みを構築している。テスト環境は1つだけになるのだけど、プロダクトの開発を1年以上やってきて機能が増えたことによって、1つのテスト環境で相容れない複数の要件や機能を混在させることで管理や運用が煩雑になってきた。気付いたタイミングがよい時期だと思うのでこの機会に1つのテスト環境を3つのテスト環境に分散させようと思う。既存データを確認するだけなら1つでもよいが、id 連携という機能の特性上、複数のシステム間でデータ連携するため、システム間での依存関係が発生する。それを整理しないといけなくなったという次第。今日のところは現状把握や移行に必要な段取りなどを設計していた。&lt;/p>
&lt;h2 id="hugo-のハンズオン資料作り">hugo のハンズオン資料作り&lt;/h2>
&lt;p>&lt;a href="/diary/diary/posts/2024/0115/">昨日の続き&lt;/a> 。23時過ぎに外に出たついでにオフィスに寄り道して書き始めたらまた熱中してしまって2時ぐらいまで書いていた。ハンズオンで説明する内容は一通り書いたつもり。せっかくの機会だから上級者向けにもう少し知っていることを書いてみようとは思う。&lt;/p></content></item><item><title>頭痛でダウン</title><link>/diary/posts/2024/0115/</link><pubDate>Mon, 15 Jan 2024 09:24:49 +0900</pubDate><guid>/diary/posts/2024/0115/</guid><description>4時半に寝て7時半に起きた。深夜にハンズオン資料を作っていたらまた眠れなくなった。朝から頭痛くて調子が悪い。きっと生活のリズムが崩れているせい。早くお仕事を終えて帰って寝てた。
今日の筋トレは腕立て:10x1,スクワット15x1をした。
ldap エントリーの更新リクエストをランダムに行うツール 先週末から作っていたテストツールがようやく一通り動くようになった。ldap エントリーを生成したり、既存のエントリーに対して更新、削除、パスワード変更のリクエストをランダムに自動生成して送る。常時 id 連携の処理を動かしたときの並行処理の問題であったり、やや負荷をかけたときになにかの敷居値を超えて不具合がないかといった検証に使える。8月末に開発に着手して、年末から再開して、1月明けでようやく完成した。テストツールの開発の優先度が低いので後回し後回しにしているうちにどんどん後ろに流れていった。悪い開発の典型例。
hugo のハンズオン資料作り 昨日の続き 、、、をやろうと思っていたけど、頭痛でしんどかったので今日はお休み。イベントが公開された。
静的サイトジェネレーター勉強会 他のツールをみていて slate というツールは知らなかった。api ドキュメントを書くためのツールとある。
https://github.com/slatedocs/slate https://slatedocs.github.io/slate/ うちはいま redocly というツールを使って openapi のフォーマット (yml) で api ドキュメントを管理している。開発は openapi を使ってなくてドキュメントのためだけに openapi を使っている。量が増えてくると yml でドキュメントを書くのも辛くなってくるので markdown で api ドキュメントを書けるならそれもよいかもしれない。</description><content>&lt;p>4時半に寝て7時半に起きた。深夜にハンズオン資料を作っていたらまた眠れなくなった。朝から頭痛くて調子が悪い。きっと生活のリズムが崩れているせい。早くお仕事を終えて帰って寝てた。&lt;/p>
&lt;p>今日の筋トレは腕立て:10x1,スクワット15x1をした。&lt;/p>
&lt;h2 id="ldap-エントリーの更新リクエストをランダムに行うツール">ldap エントリーの更新リクエストをランダムに行うツール&lt;/h2>
&lt;p>先週末から作っていたテストツールがようやく一通り動くようになった。ldap エントリーを生成したり、既存のエントリーに対して更新、削除、パスワード変更のリクエストをランダムに自動生成して送る。常時 id 連携の処理を動かしたときの並行処理の問題であったり、やや負荷をかけたときになにかの敷居値を超えて不具合がないかといった検証に使える。8月末に開発に着手して、年末から再開して、1月明けでようやく完成した。テストツールの開発の優先度が低いので後回し後回しにしているうちにどんどん後ろに流れていった。悪い開発の典型例。&lt;/p>
&lt;h2 id="hugo-のハンズオン資料作り">hugo のハンズオン資料作り&lt;/h2>
&lt;p>&lt;a href="/diary/diary/posts/2024/0114/">昨日の続き&lt;/a> 、、、をやろうと思っていたけど、頭痛でしんどかったので今日はお休み。イベントが公開された。&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://fin-py.connpass.com/event/307453/">静的サイトジェネレーター勉強会&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>他のツールをみていて slate というツールは知らなかった。api ドキュメントを書くためのツールとある。&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/slatedocs/slate">https://github.com/slatedocs/slate&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://slatedocs.github.io/slate/">https://slatedocs.github.io/slate/&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>うちはいま &lt;a href="https://redocly.com/">redocly&lt;/a> というツールを使って openapi のフォーマット (yml) で api ドキュメントを管理している。開発は openapi を使ってなくてドキュメントのためだけに openapi を使っている。量が増えてくると yml でドキュメントを書くのも辛くなってくるので markdown で api ドキュメントを書けるならそれもよいかもしれない。&lt;/p></content></item><item><title>ハンズオン資料を作って、出掛けて、ハンズオン資料を作って</title><link>/diary/posts/2024/0114/</link><pubDate>Sun, 14 Jan 2024 10:36:09 +0900</pubDate><guid>/diary/posts/2024/0114/</guid><description>2時過ぎに帰ってなんか眠れなくて4時半に寝て8時に起きた。なんか夜型になってきて変な生活リズム。
今日の筋トレは腕立て:10x1,スクワット15x1をした。
hugo のハンズオン資料作り 昨日の続き 。
朝からいろいろ直していた。やり始めると凝ってくる。スタイルやシンタックスハイライトなどを修正していた。
もくもく会 新年もくもく会 に参加した。なぜか今回は参加者が多くて15人ぐらいほぼ満席だった。lt 大会の内容は新年なので今年はこんなことやりたいという抱負を発表する人が多かったように思う。一通り lt を聞いてから、午前中に引き続き、ハンズオン資料の調査をしていた。夕方眠くなって集中力がなくなっていた。軽く1次会だけ行って眠くてそのまま帰ってきた。
hugo のハンズオン資料作り (2回目) 飲み会から帰ってきて2時間ほど寝て、それからまた再開して2時半ぐらいまでやってた。サイトの構築とテーマの設定のところを書き終えた。初心者向けにハンズオン資料を書いているが、テーマの設定はなかなか難しいなと思える。拡張を作り込んでいるテーマもあるが、設定方法のドキュメントはあまりないことが多い。デモ画面とそのソースの設定ファイルをみながら空気を読むみたいなところで初期設定をしていかないといけない。</description><content>&lt;p>2時過ぎに帰ってなんか眠れなくて4時半に寝て8時に起きた。なんか夜型になってきて変な生活リズム。&lt;/p>
&lt;p>今日の筋トレは腕立て:10x1,スクワット15x1をした。&lt;/p>
&lt;h2 id="hugo-のハンズオン資料作り">hugo のハンズオン資料作り&lt;/h2>
&lt;p>&lt;a href="/diary/diary/posts/2024/0113/#hugo-のハンズオン資料作り">昨日の続き&lt;/a> 。&lt;/p>
&lt;p>朝からいろいろ直していた。やり始めると凝ってくる。スタイルやシンタックスハイライトなどを修正していた。&lt;/p>
&lt;h2 id="もくもく会">もくもく会&lt;/h2>
&lt;p>&lt;a href="https://kobe-sannomiya-dev.connpass.com/event/305200/">新年もくもく会&lt;/a> に参加した。なぜか今回は参加者が多くて15人ぐらいほぼ満席だった。lt 大会の内容は新年なので今年はこんなことやりたいという抱負を発表する人が多かったように思う。一通り lt を聞いてから、午前中に引き続き、ハンズオン資料の調査をしていた。夕方眠くなって集中力がなくなっていた。軽く1次会だけ行って眠くてそのまま帰ってきた。&lt;/p>
&lt;h2 id="hugo-のハンズオン資料作り-2回目">hugo のハンズオン資料作り (2回目)&lt;/h2>
&lt;p>飲み会から帰ってきて2時間ほど寝て、それからまた再開して2時半ぐらいまでやってた。サイトの構築とテーマの設定のところを書き終えた。初心者向けにハンズオン資料を書いているが、テーマの設定はなかなか難しいなと思える。拡張を作り込んでいるテーマもあるが、設定方法のドキュメントはあまりないことが多い。デモ画面とそのソースの設定ファイルをみながら空気を読むみたいなところで初期設定をしていかないといけない。&lt;/p></content></item><item><title>ハンズオン資料の作成に着手</title><link>/diary/posts/2024/0113/</link><pubDate>Sat, 13 Jan 2024 14:34:38 +0900</pubDate><guid>/diary/posts/2024/0113/</guid><description>晩ご飯食べてくつろいでからまたオフィスに戻って作業してた。3時過ぎに寝て8時に起きた。寝不足のせいか、今日も夕方に眠くなって家に戻って3時間ほど寝てた。
今日の筋トレは腹筋:25x1,腕立て:10x0,スクワット15x1をした。
ストレッチ 今週もとくにお仕事で疲労や負荷はないものの、筋トレを継続しているせいか、やや腰が痛いかなといったところ。トレーナーさんによると、筋トレで筋肉痛になっていると体が硬くなるという。おそらくそのせいでやや硬めの印象になっているのだと思う。腰や太ももの前・後ろの筋に張りがあったのでこれらはスクワットの反動ではないかと思われる。今日の開脚幅は開始前152cmで、ストレッチ後157cmだった。先週と同じだ。
ハンガーラック受け取り ジモティーで「ハンガーラック」を500円で購入した。これもコワーキングスペースで使う。この前帰ったときにジャケットを掛けるものがないと気付いた。引き取りに東灘区へ行く機会が増えてきてだいぶ道を覚えてきた。マンションの駐車場まで行って、そこでハンガーラックを受け取った。解体してくれていたので難なく荷室に積めた。丁寧な方で駐車場から車が出ていくときまでお見送りしてくれた。ジモティーだと受け渡しが終わったらすぐ帰る人の方が普通なので性格なのかホスピタリティの違いが出るなと思った。
iostat-tool のメンテナンス 日記を書こうと決めて初日に書いた内容 が iostat-tool の保守だったなと思い出した。2年半ほど前。一昨日からプルリクエストが届いていたのでレビューしたり、CI 環境の設定を更新したりしてマージした。
Use %H for output generated with iostat -t #6 マージしてから 0.3.1 として https://pypi.org/project/iostat-tool/ にパッケージをアップロードした。
ファイナンシャルプランナーとの打ち合わせ 先週の続き 。17時からの予定だったが、プランナーさんの前の予定が早く終わったそうで15時半からに変更になった。お昼以降ならいつでもよいと伝えていたのでこういった調整ができてよいと思う。卓上カレンダーをお土産にもってきてくれた。今日は次のような内容を話した。
人生のキャッシュフローに問題ない 預貯金が多いのでもう少し運用にまわしたい どういった運用があるのかノーアイディアなので提案してほしい 資産形成ではなく万が一のときのための役員向けの保険を提案してほしい 先方もどうせ来るならもっと準備して来たらいいんじゃないかとも思うが、次は teams でテレビ会議にしましょうと提案した。30分の打ち合わせのために三ノ宮のオフィスまで来てもらうのも申し訳なく思えてきた。その際にメールアドレスを伝えていて「すべて小文字ですか？」と聞くのでメールアドレス (ドメイン名) は大文字小文字を区別せず、大文字でも届きますよと教えてあげたら思いの外驚かれていた。昔からある古い仕様は大文字小文字を区別しなかったりする。大文字小文字を区別しないというのは、多くのケースで百害あって一利なしだけれども、互換性のために変更することもできない。
hugo のハンズオン資料作り 先日の打ち合わせ を受けて資料作りに着手した。hugo のサイト構築やテーマ設定は一度行ったらそうそう変更することはないので久しぶりに設定したら忘れていて、これどうだったかな？とか、このフォーマットはどこからきているのか？とか、いろいろ調べて思い出しながらやっていた。
hugo は設定ファイルを yaml, toml, json で記述できる。フォーマットを複数対応するというのはよくないということに気付いた。json はみたことないけど、テーマのサンプルの設定ファイルを yaml と toml の、開発者が慣れた方を使う。そうすると、テーマのサンプルの設定ファイルを yaml で提供していて、hugo.toml でサイトの設定をしていた場合、テーマの設定を yaml から toml に変換する作業が発生する。コンテンツの markdown も toml と yaml の両方で記述できるからフォーマットの統一感もなかったりする。なによりも初心者が調べたときに設定ファイルが toml だったり、yaml だったりして混乱する。</description><content>&lt;p>晩ご飯食べてくつろいでからまたオフィスに戻って作業してた。3時過ぎに寝て8時に起きた。寝不足のせいか、今日も夕方に眠くなって家に戻って3時間ほど寝てた。&lt;/p>
&lt;p>今日の筋トレは腹筋:25x1,腕立て:10x0,スクワット15x1をした。&lt;/p>
&lt;h2 id="ストレッチ">ストレッチ&lt;/h2>
&lt;p>今週もとくにお仕事で疲労や負荷はないものの、筋トレを継続しているせいか、やや腰が痛いかなといったところ。トレーナーさんによると、筋トレで筋肉痛になっていると体が硬くなるという。おそらくそのせいでやや硬めの印象になっているのだと思う。腰や太ももの前・後ろの筋に張りがあったのでこれらはスクワットの反動ではないかと思われる。今日の開脚幅は開始前152cmで、ストレッチ後157cmだった。先週と同じだ。&lt;/p>
&lt;h2 id="ハンガーラック受け取り">ハンガーラック受け取り&lt;/h2>
&lt;p>ジモティーで「ハンガーラック」を500円で購入した。これもコワーキングスペースで使う。この前帰ったときにジャケットを掛けるものがないと気付いた。引き取りに東灘区へ行く機会が増えてきてだいぶ道を覚えてきた。マンションの駐車場まで行って、そこでハンガーラックを受け取った。解体してくれていたので難なく荷室に積めた。丁寧な方で駐車場から車が出ていくときまでお見送りしてくれた。ジモティーだと受け渡しが終わったらすぐ帰る人の方が普通なので性格なのかホスピタリティの違いが出るなと思った。&lt;/p>
&lt;h2 id="iostat-tool-のメンテナンス">iostat-tool のメンテナンス&lt;/h2>
&lt;p>&lt;a href="/diary/diary/posts/2021/0926/">日記を書こうと決めて初日に書いた内容&lt;/a> が iostat-tool の保守だったなと思い出した。2年半ほど前。一昨日からプルリクエストが届いていたのでレビューしたり、CI 環境の設定を更新したりしてマージした。&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/t2y/iostat-tool/pull/6">Use %H for output generated with iostat -t #6&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>マージしてから 0.3.1 として &lt;a href="https://pypi.org/project/iostat-tool/">https://pypi.org/project/iostat-tool/&lt;/a> にパッケージをアップロードした。&lt;/p>
&lt;h2 id="ファイナンシャルプランナーとの打ち合わせ">ファイナンシャルプランナーとの打ち合わせ&lt;/h2>
&lt;p>&lt;a href="/diary/diary/posts/2024/0106/#ファイナンシャルプランナーとの打ち合わせ">先週の続き&lt;/a> 。17時からの予定だったが、プランナーさんの前の予定が早く終わったそうで15時半からに変更になった。お昼以降ならいつでもよいと伝えていたのでこういった調整ができてよいと思う。卓上カレンダーをお土産にもってきてくれた。今日は次のような内容を話した。&lt;/p>
&lt;ul>
&lt;li>人生のキャッシュフローに問題ない&lt;/li>
&lt;li>預貯金が多いのでもう少し運用にまわしたい
&lt;ul>
&lt;li>どういった運用があるのかノーアイディアなので提案してほしい&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>資産形成ではなく万が一のときのための役員向けの保険を提案してほしい&lt;/li>
&lt;/ul>
&lt;p>先方もどうせ来るならもっと準備して来たらいいんじゃないかとも思うが、次は teams でテレビ会議にしましょうと提案した。30分の打ち合わせのために三ノ宮のオフィスまで来てもらうのも申し訳なく思えてきた。その際にメールアドレスを伝えていて「すべて小文字ですか？」と聞くのでメールアドレス (ドメイン名) は大文字小文字を区別せず、大文字でも届きますよと教えてあげたら思いの外驚かれていた。昔からある古い仕様は大文字小文字を区別しなかったりする。大文字小文字を区別しないというのは、多くのケースで百害あって一利なしだけれども、互換性のために変更することもできない。&lt;/p>
&lt;h2 id="hugo-のハンズオン資料作り">hugo のハンズオン資料作り&lt;/h2>
&lt;p>&lt;a href="/diary/diary/posts/2024/0111/#静的サイトジェネレーターの勉強会の打ち合わせ">先日の打ち合わせ&lt;/a> を受けて資料作りに着手した。hugo のサイト構築やテーマ設定は一度行ったらそうそう変更することはないので久しぶりに設定したら忘れていて、これどうだったかな？とか、このフォーマットはどこからきているのか？とか、いろいろ調べて思い出しながらやっていた。&lt;/p>
&lt;p>hugo は設定ファイルを yaml, toml, json で記述できる。フォーマットを複数対応するというのはよくないということに気付いた。json はみたことないけど、テーマのサンプルの設定ファイルを yaml と toml の、開発者が慣れた方を使う。そうすると、テーマのサンプルの設定ファイルを yaml で提供していて、hugo.toml でサイトの設定をしていた場合、テーマの設定を yaml から toml に変換する作業が発生する。コンテンツの markdown も toml と yaml の両方で記述できるからフォーマットの統一感もなかったりする。なによりも初心者が調べたときに設定ファイルが toml だったり、yaml だったりして混乱する。&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://gohugo.io/getting-started/configuration/">Configure Hugo&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>デフォルト設定は toml になっているので hugo で yaml は使わない方がいいんだろうなと思えた。&lt;/p>
&lt;p>さらに設定ファイルの名前も昔は &lt;code>config.toml&lt;/code> だったのが、最近は &lt;code>hugo.toml&lt;/code> に変わり、さらにどちらのファイル名でもよいという仕様になっている。こんなことになんの意味があるのかもわからない。&lt;/p>
&lt;blockquote>
&lt;p>With v0.109.0 and earlier the basename of the site configuration file was config instead of hugo. You can use either, but should transition to the new naming convention when practical.&lt;/p>
&lt;/blockquote>
&lt;p>まずはサイト構築して github actions で github pages へアップロードする環境構築を完了した。&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://t2y.github.io/hugo-hands-on/">https://t2y.github.io/hugo-hands-on/&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>徐々にコンテンツを追加していく。&lt;/p></content></item><item><title>RWMutex の試用</title><link>/diary/posts/2024/0112/</link><pubDate>Fri, 12 Jan 2024 09:03:15 +0900</pubDate><guid>/diary/posts/2024/0112/</guid><description>0時に寝て3時半に起きてネットみたてたら6時半になってそれから寝て7時半に起きた。やっぱり生活のリズムがおかしい。
今日の筋トレは腹筋:20x1,腕立て:10x1,スクワット10x1をした。あと1kmほど散歩した。
go の RWMutex を使う テストツールでちょっとしたプールを実装していて mutex を使うコードを書いた。書き込みはロックしないといけないけど、読み込みはロックする必要がないようなものは RWMutex を使うと普通の Mutex よりは読み込みが並行に動くので効率がよくなる。実際に RWMutex を使ってコードを書いたことがなかったので試しに書いて単体テストを実行して振る舞いを確認してみた。
type pool struct { l []string m map[string]struct{} mu sync.RWMutex } func (p *pool) exists(dn *ldap.DN) bool { p.mu.RLock() defer p.mu.RUnlock() _, ok := p.m[dn.String()] return ok } func (p *pool) get() *ldap.DN { p.mu.RLock() defer p.mu.RUnlock() length := len(p.l) if length == 0 { return nil } s := p.l[rand.Intn(length)] return mustParseDN(s) } func (p *pool) put(dn *ldap.</description><content>&lt;p>0時に寝て3時半に起きてネットみたてたら6時半になってそれから寝て7時半に起きた。やっぱり生活のリズムがおかしい。&lt;/p>
&lt;p>今日の筋トレは腹筋:20x1,腕立て:10x1,スクワット10x1をした。あと1kmほど散歩した。&lt;/p>
&lt;h2 id="go-の-rwmutex-を使う">go の RWMutex を使う&lt;/h2>
&lt;p>テストツールでちょっとしたプールを実装していて mutex を使うコードを書いた。書き込みはロックしないといけないけど、読み込みはロックする必要がないようなものは &lt;a href="https://pkg.go.dev/sync#RWMutex">RWMutex&lt;/a> を使うと普通の Mutex よりは読み込みが並行に動くので効率がよくなる。実際に RWMutex を使ってコードを書いたことがなかったので試しに書いて単体テストを実行して振る舞いを確認してみた。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-go" data-lang="go">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">type&lt;/span> &lt;span style="color:#a6e22e">pool&lt;/span> &lt;span style="color:#66d9ef">struct&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">l&lt;/span> []&lt;span style="color:#66d9ef">string&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">m&lt;/span> &lt;span style="color:#66d9ef">map&lt;/span>[&lt;span style="color:#66d9ef">string&lt;/span>]&lt;span style="color:#66d9ef">struct&lt;/span>{}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">mu&lt;/span> &lt;span style="color:#a6e22e">sync&lt;/span>.&lt;span style="color:#a6e22e">RWMutex&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">func&lt;/span> (&lt;span style="color:#a6e22e">p&lt;/span> &lt;span style="color:#f92672">*&lt;/span>&lt;span style="color:#a6e22e">pool&lt;/span>) &lt;span style="color:#a6e22e">exists&lt;/span>(&lt;span style="color:#a6e22e">dn&lt;/span> &lt;span style="color:#f92672">*&lt;/span>&lt;span style="color:#a6e22e">ldap&lt;/span>.&lt;span style="color:#a6e22e">DN&lt;/span>) &lt;span style="color:#66d9ef">bool&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">p&lt;/span>.&lt;span style="color:#a6e22e">mu&lt;/span>.&lt;span style="color:#a6e22e">RLock&lt;/span>()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">defer&lt;/span> &lt;span style="color:#a6e22e">p&lt;/span>.&lt;span style="color:#a6e22e">mu&lt;/span>.&lt;span style="color:#a6e22e">RUnlock&lt;/span>()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">_&lt;/span>, &lt;span style="color:#a6e22e">ok&lt;/span> &lt;span style="color:#f92672">:=&lt;/span> &lt;span style="color:#a6e22e">p&lt;/span>.&lt;span style="color:#a6e22e">m&lt;/span>[&lt;span style="color:#a6e22e">dn&lt;/span>.&lt;span style="color:#a6e22e">String&lt;/span>()]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#a6e22e">ok&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">func&lt;/span> (&lt;span style="color:#a6e22e">p&lt;/span> &lt;span style="color:#f92672">*&lt;/span>&lt;span style="color:#a6e22e">pool&lt;/span>) &lt;span style="color:#a6e22e">get&lt;/span>() &lt;span style="color:#f92672">*&lt;/span>&lt;span style="color:#a6e22e">ldap&lt;/span>.&lt;span style="color:#a6e22e">DN&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">p&lt;/span>.&lt;span style="color:#a6e22e">mu&lt;/span>.&lt;span style="color:#a6e22e">RLock&lt;/span>()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">defer&lt;/span> &lt;span style="color:#a6e22e">p&lt;/span>.&lt;span style="color:#a6e22e">mu&lt;/span>.&lt;span style="color:#a6e22e">RUnlock&lt;/span>()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">length&lt;/span> &lt;span style="color:#f92672">:=&lt;/span> len(&lt;span style="color:#a6e22e">p&lt;/span>.&lt;span style="color:#a6e22e">l&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> &lt;span style="color:#a6e22e">length&lt;/span> &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#66d9ef">nil&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">s&lt;/span> &lt;span style="color:#f92672">:=&lt;/span> &lt;span style="color:#a6e22e">p&lt;/span>.&lt;span style="color:#a6e22e">l&lt;/span>[&lt;span style="color:#a6e22e">rand&lt;/span>.&lt;span style="color:#a6e22e">Intn&lt;/span>(&lt;span style="color:#a6e22e">length&lt;/span>)]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#a6e22e">mustParseDN&lt;/span>(&lt;span style="color:#a6e22e">s&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">func&lt;/span> (&lt;span style="color:#a6e22e">p&lt;/span> &lt;span style="color:#f92672">*&lt;/span>&lt;span style="color:#a6e22e">pool&lt;/span>) &lt;span style="color:#a6e22e">put&lt;/span>(&lt;span style="color:#a6e22e">dn&lt;/span> &lt;span style="color:#f92672">*&lt;/span>&lt;span style="color:#a6e22e">ldap&lt;/span>.&lt;span style="color:#a6e22e">DN&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">p&lt;/span>.&lt;span style="color:#a6e22e">mu&lt;/span>.&lt;span style="color:#a6e22e">Lock&lt;/span>()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">defer&lt;/span> &lt;span style="color:#a6e22e">p&lt;/span>.&lt;span style="color:#a6e22e">mu&lt;/span>.&lt;span style="color:#a6e22e">Unlock&lt;/span>()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">s&lt;/span> &lt;span style="color:#f92672">:=&lt;/span> &lt;span style="color:#a6e22e">dn&lt;/span>.&lt;span style="color:#a6e22e">String&lt;/span>()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">p&lt;/span>.&lt;span style="color:#a6e22e">l&lt;/span> = append(&lt;span style="color:#a6e22e">p&lt;/span>.&lt;span style="color:#a6e22e">l&lt;/span>, &lt;span style="color:#a6e22e">s&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">p&lt;/span>.&lt;span style="color:#a6e22e">m&lt;/span>[&lt;span style="color:#a6e22e">s&lt;/span>] = &lt;span style="color:#66d9ef">struct&lt;/span>{}{}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="4年ぶりの神戸ルミナリエ">4年ぶりの神戸ルミナリエ&lt;/h2>
&lt;p>たまたま &lt;a href="https://www.feel-kobe.jp/kobe_luminarie/">第29回 神戸ルミナリエ&lt;/a> が1月の19日から28日にかけて行われるという記事をみかけた。そう言えば、いつも12月に開催されていたのが今回から1月に変わったみたい。毎年今回が最後みたいな含みをもたせて、なんやらかんやらでもう29回も続いているんやね。今回が第29回だからおそらく来年に第30回もやるのでしょう。「4年ぶりの開催が決定」と書いてあって、あれ？やってなかったっけ？と思ったらコロナ禍のために2020-2023年まで中止という意思決定はされていて、代替イベントとして小さいルミナリエっぽいイルミネーションをやっていたらしい。ルミナリエの展示場となる東遊園地がうちの近所なのでこれまでもやっていたような記憶があるのはそのせいかもしれない。今年は規模を拡張してやるのかな？久しぶりなので時間があるときに観に行ってみようと思う。&lt;/p></content></item><item><title>仕事して打ち合わせしてレンタカーの手配</title><link>/diary/posts/2024/0111/</link><pubDate>Thu, 11 Jan 2024 18:25:12 +0900</pubDate><guid>/diary/posts/2024/0111/</guid><description>0時に寝て何度か起きて6時半に起きた。ようやく生活のリズムが戻ってきた。
今日の筋トレは腹筋:15x1,腕立て:10x1,スクワット15x1をした。
sveltekit のエラー制御 svelte のエラーハンドラーの仕組みを調べた。
sveltekit: エラー error() ヘルパーの内部で例外を throw して +error.svelte ファイルがエラーハンドラーでその例外を捕捉してエラーの表示を制御する。とくに目新しくない、普通のフレームワークなら用意してあるであろう例外ハンドラーのようにみえる。公式ドキュメントを読みなさいと常々メンバーに言っているが、なかなか読んでくれなくて、例外ハンドラーを知らずに自前のエラー制御を実装してしまう。私からツッコミが入って作り直しになる。公式ドキュメントを一通り読んだ方が開発が速いと何度も指摘しているのだが。
静的サイトジェネレーターの勉強会の打ち合わせ fin-py で2月に静的サイトジェネレーターのハンズオンをやるそうで hugo なら私が使っているので紹介ぐらいできますよと言ったらそのままハンズオンの講師をやることになった。今日はそのための打ち合わせを行うことになった。だいたい次の内容になった。私以外にも4人ほど講師がいて、他の静的サイトジェネレーターのハンズオンも行う。
ハンズオンは1人30分を持ち時間とする 質問も込みで30分 時間に余裕があるので少しぐらいなら超えてもよい デプロイ先やホスティングについての話しは個別にやらない 静的サイトジェネレーターとは別のセッションで話す ローカルでビルドするまでをハンズオンで話す このハンズオンの対象とする参加者の要項を書く ターゲットの参加者層を決めないと、どのレベルで解説してよいかわからない git/github は使えるという前提 ターミナルでコマンドライン操作もできるという前提 1月20日までにハンズオンのドキュメントを書いて connpass の要項を完成させる hugo をインストールして、サイト環境を構築して、記事の生成／ビルドをする。あとはメタデータ付きマークダウンやテーマの設定ぐらいを説明するかなぁ。
開発合宿の準備 ちゃくちゃくと準備を進めている。今回は神戸から4人、関東から3人の合計7人が参加する。うちの会社の社用車で行く予定だったが5人しか乗れない。みんなで移動するのに車が2台になるのも面倒なのでレンタカーでミニバンを借りることにした。スタッドレスタイヤのオプションを付けると2泊3日で11,880円になる。これはスタッドレスタイヤのレンタルとほぼ同じぐらいの料金にみえる。これによって社用車のスタッドレスタイヤ換装の難しい課題からも解放される。キャンペーン割引があって保険も追加して2泊3日で合計61,215円となった。ミニバンなら7-8名は乗れるし、荷物も余裕をもって積み込みできる。このアイディアはいいなと思って、きのいえの定員もそのぐらいの人数がちょうどよさそうに思う。今回の開発合宿では人数の上限はどうかという点にも注目して取り組みたい。</description><content>&lt;p>0時に寝て何度か起きて6時半に起きた。ようやく生活のリズムが戻ってきた。&lt;/p>
&lt;p>今日の筋トレは腹筋:15x1,腕立て:10x1,スクワット15x1をした。&lt;/p>
&lt;h2 id="sveltekit-のエラー制御">sveltekit のエラー制御&lt;/h2>
&lt;p>svelte のエラーハンドラーの仕組みを調べた。&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://kit.svelte.jp/docs/errors">sveltekit: エラー&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>error()&lt;/code> ヘルパーの内部で例外を throw して &lt;code>+error.svelte&lt;/code> ファイルがエラーハンドラーでその例外を捕捉してエラーの表示を制御する。とくに目新しくない、普通のフレームワークなら用意してあるであろう例外ハンドラーのようにみえる。公式ドキュメントを読みなさいと常々メンバーに言っているが、なかなか読んでくれなくて、例外ハンドラーを知らずに自前のエラー制御を実装してしまう。私からツッコミが入って作り直しになる。公式ドキュメントを一通り読んだ方が開発が速いと何度も指摘しているのだが。&lt;/p>
&lt;h2 id="静的サイトジェネレーターの勉強会の打ち合わせ">静的サイトジェネレーターの勉強会の打ち合わせ&lt;/h2>
&lt;p>fin-py で2月に静的サイトジェネレーターのハンズオンをやるそうで hugo なら私が使っているので紹介ぐらいできますよと言ったらそのままハンズオンの講師をやることになった。今日はそのための打ち合わせを行うことになった。だいたい次の内容になった。私以外にも4人ほど講師がいて、他の静的サイトジェネレーターのハンズオンも行う。&lt;/p>
&lt;ul>
&lt;li>ハンズオンは1人30分を持ち時間とする
&lt;ul>
&lt;li>質問も込みで30分&lt;/li>
&lt;li>時間に余裕があるので少しぐらいなら超えてもよい&lt;/li>
&lt;li>デプロイ先やホスティングについての話しは個別にやらない
&lt;ul>
&lt;li>静的サイトジェネレーターとは別のセッションで話す&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ローカルでビルドするまでをハンズオンで話す&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>このハンズオンの対象とする参加者の要項を書く
&lt;ul>
&lt;li>ターゲットの参加者層を決めないと、どのレベルで解説してよいかわからない&lt;/li>
&lt;li>git/github は使えるという前提&lt;/li>
&lt;li>ターミナルでコマンドライン操作もできるという前提&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>1月20日までにハンズオンのドキュメントを書いて connpass の要項を完成させる&lt;/li>
&lt;/ul>
&lt;p>hugo をインストールして、サイト環境を構築して、記事の生成／ビルドをする。あとはメタデータ付きマークダウンやテーマの設定ぐらいを説明するかなぁ。&lt;/p>
&lt;h2 id="開発合宿の準備">開発合宿の準備&lt;/h2>
&lt;p>ちゃくちゃくと準備を進めている。今回は神戸から4人、関東から3人の合計7人が参加する。うちの会社の社用車で行く予定だったが5人しか乗れない。みんなで移動するのに車が2台になるのも面倒なのでレンタカーでミニバンを借りることにした。スタッドレスタイヤのオプションを付けると2泊3日で11,880円になる。これはスタッドレスタイヤのレンタルとほぼ同じぐらいの料金にみえる。これによって社用車のスタッドレスタイヤ換装の難しい課題からも解放される。キャンペーン割引があって保険も追加して2泊3日で合計61,215円となった。ミニバンなら7-8名は乗れるし、荷物も余裕をもって積み込みできる。このアイディアはいいなと思って、きのいえの定員もそのぐらいの人数がちょうどよさそうに思う。今回の開発合宿では人数の上限はどうかという点にも注目して取り組みたい。&lt;/p></content></item><item><title>vhs コマンドの使い方</title><link>/diary/posts/2024/0110/</link><pubDate>Wed, 10 Jan 2024 08:27:29 +0900</pubDate><guid>/diary/posts/2024/0110/</guid><description>23時過ぎに寝始めて何度か起きて7時半に起きた。
今日の筋トレは腹筋:10x1,腕立て:10x1,スクワット15x1をした。
sveltekit で context のデータを扱う ui 側でページに依存しない形で設定情報などを扱いたいとする。svelte の store と context api を組み合わせて sveltekit として context を管理するサンプルコードが紹介されている。
context と共に store を使う これだけですぐ動くのだけど、このときに LayoutData はサーバー側で作るとバックエンドの仕組みを隠蔽できて嬉しい。そういったときは src/routes/+layout.server.ts にバックエンドの api 呼び出しを隠蔽することで意図した振る舞いになる。
import type { LayoutServerLoad } from &amp;#34;./$types&amp;#34;; export const load: LayoutServerLoad = async () =&amp;gt; { const r = await fetch(`localhost:18080/myapi`); return r.json(); }; アニメ gif をスクリプトから作る お気に入りのコマンドラインツールを淡々と紹介する をみていて vhs という cli でアニメ gif を作ってくれることを知った。試しにやってみた。ターミナルを録画するようなやり方と比べて、録画時にタイプミスしてしまうようなミスを防げる。次のようなスクリプトファイルを新規作成する。
$ vhs new bf.tape Output bf.gif Require echo Set Shell &amp;#34;bash&amp;#34; Set FontSize 14 Set Width 800 Set Height 380 Type &amp;#34;genact -m bruteforce&amp;#34; Sleep 500ms Enter Sleep 10s あとはこの設定でアニメ gif を作る。</description><content>&lt;p>23時過ぎに寝始めて何度か起きて7時半に起きた。&lt;/p>
&lt;p>今日の筋トレは腹筋:10x1,腕立て:10x1,スクワット15x1をした。&lt;/p>
&lt;h2 id="sveltekit-で-context-のデータを扱う">sveltekit で context のデータを扱う&lt;/h2>
&lt;p>ui 側でページに依存しない形で設定情報などを扱いたいとする。svelte の store と context api を組み合わせて sveltekit として context を管理するサンプルコードが紹介されている。&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://kit.svelte.jp/docs/state-management#using-stores-with-context">context と共に store を使う&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>これだけですぐ動くのだけど、このときに &lt;code>LayoutData&lt;/code> はサーバー側で作るとバックエンドの仕組みを隠蔽できて嬉しい。そういったときは &lt;code>src/routes/+layout.server.ts&lt;/code> にバックエンドの api 呼び出しを隠蔽することで意図した振る舞いになる。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-typescript" data-lang="typescript">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">import&lt;/span> &lt;span style="color:#66d9ef">type&lt;/span> { &lt;span style="color:#a6e22e">LayoutServerLoad&lt;/span> } &lt;span style="color:#66d9ef">from&lt;/span> &lt;span style="color:#e6db74">&amp;#34;./$types&amp;#34;&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">export&lt;/span> &lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">load&lt;/span>: &lt;span style="color:#66d9ef">LayoutServerLoad&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#66d9ef">async&lt;/span> () &lt;span style="color:#f92672">=&amp;gt;&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">r&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#66d9ef">await&lt;/span> &lt;span style="color:#a6e22e">fetch&lt;/span>(&lt;span style="color:#e6db74">`localhost:18080/myapi`&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#a6e22e">r&lt;/span>.&lt;span style="color:#a6e22e">json&lt;/span>();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="アニメ-gif-をスクリプトから作る">アニメ gif をスクリプトから作る&lt;/h2>
&lt;p>&lt;a href="https://zenn.dev/kou_pg_0131/articles/favorite-cli-tools">お気に入りのコマンドラインツールを淡々と紹介する&lt;/a> をみていて &lt;a href="https://github.com/charmbracelet/vhs">vhs&lt;/a> という cli でアニメ gif を作ってくれることを知った。試しにやってみた。ターミナルを録画するようなやり方と比べて、録画時にタイプミスしてしまうようなミスを防げる。次のようなスクリプトファイルを新規作成する。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>$ vhs new bf.tape
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;pre tabindex="0">&lt;code>Output bf.gif
Require echo
Set Shell &amp;#34;bash&amp;#34;
Set FontSize 14
Set Width 800
Set Height 380
Type &amp;#34;genact -m bruteforce&amp;#34; Sleep 500ms Enter
Sleep 10s
&lt;/code>&lt;/pre>&lt;p>あとはこの設定でアニメ gif を作る。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>$ vhs bf.tape
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;figure>&lt;img src="/diary/diary/img/2024/0110_bf.gif"/>
&lt;/figure>
&lt;p>これで 4.8 MiB なのでサイズはまぁまぁ大きい。サイズやカラーの調整をすればもう1桁は縮小できるかもしれない。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>$ ls -lh img/2024/0110_bf.gif
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-rw-rw-r-- &lt;span style="color:#ae81ff">1&lt;/span> 4.8M 1月 &lt;span style="color:#ae81ff">10&lt;/span> 19:48 img/2024/0110_bf.gif
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></content></item><item><title>災害義援金を寄付してみた</title><link>/diary/posts/2024/0109/</link><pubDate>Tue, 09 Jan 2024 09:30:22 +0900</pubDate><guid>/diary/posts/2024/0109/</guid><description>2時半に寝て4時半に起きて6時半に起きて7時半に起きた。
今日の筋トレは腹筋:15x1,腕立て:10x1,スクワット10x1をした。
災害義援金の寄付 週末に災害の寄付をしようと思ったときに、ふと寄付を法人でやればいいんじゃないかと思い付いた。どちらも私のお金であることには変わりないのだけど、会社のお金は個人のお金という気がしないので個人よりも大きいお金を寄付できる。これは法人という人格を分けていることのメリットの1つかもしれない。
令和6年（2024年）能登半島地震に係る災害義援金の受付について 今朝から税理士さんに損金算入についての懸念がないかを確認して問題ないということだったので10万円を寄付した。領収書は電子フォームから申請したが、毎日それなりの数の人が寄付しているだろうから領収書が発送されるまで1ヶ月ぐらいはかかるのかもしれない。気長に待って領収書が届いたら軽く記事を書こうと思う。現時点での義援金の残高は 968,223,243 円とのこと。せいぜい集まるお金は数十億程度なのかな。
現時点での暫定推計で被害総額は約8,000億円
能登半島地震による経済損失について考える
はてなブックマーク数の表示 hugo ではてなブックマークの数を表示するためのカスタマイズを追加した。はてな社がそのための機能を提供しているのですぐできる。
自分のブログに「○○users」を表示する {{ $url := .Permalink }} {{ if hugo.IsDevelopment }} {{/* ローカル環境でブックマーク数の表示確認用途 */}} {{ $url = &amp;#34;https://kazamori.jp/&amp;#34; }} {{ end }} &amp;lt;span class=&amp;#34;m-1&amp;#34;&amp;gt; &amp;lt;a href=&amp;#34;{{ print &amp;#34;https://b.hatena.ne.jp/entry/&amp;#34; $url }}&amp;#34;&amp;gt; &amp;lt;img src=&amp;#34;{{ print &amp;#34;https://b.hatena.ne.jp/entry/image/&amp;#34; $url }}&amp;#34; alt=&amp;#34;はてなブックマーク - {{ .Title }}&amp;#34; title=&amp;#34;はてなブックマーク - {{ .Title }}&amp;#34; /&amp;gt; &amp;lt;/a&amp;gt; &amp;lt;/span&amp;gt; 呼び出し側はこんな風に使う。
{{ partial &amp;#34;hatebu.html&amp;#34; . }} 結果は 記事一覧 で確認できる。</description><content>&lt;p>2時半に寝て4時半に起きて6時半に起きて7時半に起きた。&lt;/p>
&lt;p>今日の筋トレは腹筋:15x1,腕立て:10x1,スクワット10x1をした。&lt;/p>
&lt;h2 id="災害義援金の寄付">災害義援金の寄付&lt;/h2>
&lt;p>週末に災害の寄付をしようと思ったときに、ふと寄付を法人でやればいいんじゃないかと思い付いた。どちらも私のお金であることには変わりないのだけど、会社のお金は個人のお金という気がしないので個人よりも大きいお金を寄付できる。これは法人という人格を分けていることのメリットの1つかもしれない。&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://www.pref.ishikawa.lg.jp/suitou/gienkinr0601.html">令和6年（2024年）能登半島地震に係る災害義援金の受付について&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>今朝から税理士さんに損金算入についての懸念がないかを確認して問題ないということだったので10万円を寄付した。領収書は電子フォームから申請したが、毎日それなりの数の人が寄付しているだろうから領収書が発送されるまで1ヶ月ぐらいはかかるのかもしれない。気長に待って領収書が届いたら軽く記事を書こうと思う。現時点での義援金の残高は 968,223,243 円とのこと。せいぜい集まるお金は数十億程度なのかな。&lt;/p>
&lt;blockquote>
&lt;p>現時点での暫定推計で被害総額は約8,000億円&lt;/p>
&lt;p>&lt;a href="https://www.nri.com/jp/knowledge/blog/lst/2024/fis/kiuchi/0105">能登半島地震による経済損失について考える&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;h2 id="はてなブックマーク数の表示">はてなブックマーク数の表示&lt;/h2>
&lt;p>hugo ではてなブックマークの数を表示するためのカスタマイズを追加した。はてな社がそのための機能を提供しているのですぐできる。&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://b.hatena.ne.jp/help/entry/count">自分のブログに「○○users」を表示する&lt;/a>&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-html" data-lang="html">&lt;span style="display:flex;">&lt;span>{{ $url := .Permalink }}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{{ if hugo.IsDevelopment }}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {{/* ローカル環境でブックマーク数の表示確認用途 */}}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {{ $url = &amp;#34;https://kazamori.jp/&amp;#34; }}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{{ end }}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&amp;lt;&lt;span style="color:#f92672">span&lt;/span> &lt;span style="color:#a6e22e">class&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;m-1&amp;#34;&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;&lt;span style="color:#f92672">a&lt;/span> &lt;span style="color:#a6e22e">href&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;{{ print &amp;#34;&lt;/span>&lt;span style="color:#a6e22e">https:&lt;/span>&lt;span style="color:#960050;background-color:#1e0010">//&lt;/span>&lt;span style="color:#a6e22e">b&lt;/span>&lt;span style="color:#960050;background-color:#1e0010">.&lt;/span>&lt;span style="color:#a6e22e">hatena&lt;/span>&lt;span style="color:#960050;background-color:#1e0010">.&lt;/span>&lt;span style="color:#a6e22e">ne&lt;/span>&lt;span style="color:#960050;background-color:#1e0010">.&lt;/span>&lt;span style="color:#a6e22e">jp&lt;/span>&lt;span style="color:#960050;background-color:#1e0010">/&lt;/span>&lt;span style="color:#a6e22e">entry&lt;/span>&lt;span style="color:#960050;background-color:#1e0010">/&amp;#34;&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">$&lt;/span>&lt;span style="color:#a6e22e">url&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">}}&amp;#34;&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;&lt;span style="color:#f92672">img&lt;/span> &lt;span style="color:#a6e22e">src&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;{{ print &amp;#34;&lt;/span>&lt;span style="color:#a6e22e">https:&lt;/span>&lt;span style="color:#960050;background-color:#1e0010">//&lt;/span>&lt;span style="color:#a6e22e">b&lt;/span>&lt;span style="color:#960050;background-color:#1e0010">.&lt;/span>&lt;span style="color:#a6e22e">hatena&lt;/span>&lt;span style="color:#960050;background-color:#1e0010">.&lt;/span>&lt;span style="color:#a6e22e">ne&lt;/span>&lt;span style="color:#960050;background-color:#1e0010">.&lt;/span>&lt;span style="color:#a6e22e">jp&lt;/span>&lt;span style="color:#960050;background-color:#1e0010">/&lt;/span>&lt;span style="color:#a6e22e">entry&lt;/span>&lt;span style="color:#960050;background-color:#1e0010">/&lt;/span>&lt;span style="color:#a6e22e">image&lt;/span>&lt;span style="color:#960050;background-color:#1e0010">/&amp;#34;&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">$&lt;/span>&lt;span style="color:#a6e22e">url&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">}}&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">alt&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;はてなブックマーク - {{ .Title }}&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">title&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;はてなブックマーク - {{ .Title }}&amp;#34;&lt;/span> /&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;/&lt;span style="color:#f92672">a&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&amp;lt;/&lt;span style="color:#f92672">span&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>呼び出し側はこんな風に使う。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-html" data-lang="html">&lt;span style="display:flex;">&lt;span>{{ partial &amp;#34;hatebu.html&amp;#34; . }}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>結果は &lt;a href="https://blog.osstech.co.jp/posts/">記事一覧&lt;/a> で確認できる。&lt;/p></content></item><item><title>evernote から upnote への移行</title><link>/diary/posts/2024/0108/</link><pubDate>Mon, 08 Jan 2024 01:15:31 +0900</pubDate><guid>/diary/posts/2024/0108/</guid><description>6時に寝て8時半に起きた。オフィスで3時前ぐらいまで調べものして、帰ってからも眠れなくてネットしてたら朝になった。
今日の筋トレは腹筋:15x2,腕立て:10x1,スクワット10x1をした。
サンライズ出雲の予約 以前 やまさきさんに教えていただいた夜行列車 を予約してみた。列車は瀬戸と出雲の2つがある。岡山〜東京間は瀬戸と出雲が連結して運行するそうなのでどちらを選択しても同じだと思うけれど、出雲で予約してみた。乗り込む車両が異なるのかな？
三ノ宮(00:11発) =&amp;gt; 東京 (07:08着)
特急サンライズ出雲（シングル） 料金券部分 10,460円 (三ノ宮 - 東京) 乗車券部分 9,460円 (神戸市内 - 東京都区内 2月6日～2月9日まで有効) 前回に 専用の予約画面 があることを調査済みだったので迷わず予約を取れた。唯一、面倒なところがオンラインで予約した後に紙の切符を発行しないといけないところ。切符を発行するには緑の窓口・券売機へ行かないといけない。三ノ宮駅にはあるので問題はない。発行には次の3つが必要になる。初めてだから予約後、すぐに駅へ行って発行してみた。迷わず簡単にできたのでこれなら乗車する直前でもそう困らないように思える。
予約したクレジットカード 電話番号の下四桁 予約番号 upnote への移行 数年前から evernote のビジネスが安定していないのは既知になっていたが、ここ1-2年でフリープランをどんどん縮小して投資回収的な値上げを強行している。
「Evernote」無料プランの上限変更が正式決定、導入は12月4日から 値上げするだけならまだしも、アプリを開くたびに有料プランにアップグレードするためのダイアログを表示して、意図的にユーザー体験を悪化させて、フリープランのユーザーを退会させたいようにみえる。ここまで露骨にやって既存の課金ユーザーだけで十分にビジネスはペイするという目論見なのか、経営陣が短期的にV字回復させたという実績作りなのか。いずれにしても、私のようなちょっと使いのフリープランユーザーはターゲットではないらしい。どうやら2011年6月から使っていたらしいが、件数にすると216件のノートしかない。週に1-2回は使うのだけど、なくなったら別アプリに移行しても困らない程度の用途にしか使っていない。
ずっと移行したいと思いつつ、なおざりにしていた理由として移行先のアプリを選定していなかった。私の用途としては次のような使い方をしている。
買いものの備忘録として思いついたときにパソコンから記録し、スマホでチェックしながら買いものする 法人番号、住所、家族の誕生日など、オンラインで手入力しないといけないときなどのコピペ元 郵便受けのダイヤルロックを忘れたときのメモ パソコンやデバイスを購入したときのスペックを記録しておく オンラインの記事やサイトを保管しておくときの web クリップ 正直メモ帳アプリでなくても、他のアプリへ移行することもできるが、惰性で使っているのでできればそのまま移行したい。私の周りでは obsidian を使っている人も多く評判もいいからこれでもよかったんだけど、いくつか記事を読んでいると upnote の評判もよさそうにみえた。また upnote はサブスクリプションモデルではなく、パッケージライセンスなのでコストが安い。app store 経由でプレミアムのライセンスを購入する。為替によって値段が変わると思うが、いま買ったら3,500円だった。この値段で未来永劫 upnote のインフラコストを賄えるのかは懐疑的だが、3,500円ぐらいならそうなったときにまた別のメモ帳アプリへ移行するのでもよいかなというぐらいの気持ちで upnote を使ってみることにした。
ノートアプリ難民必見！UpNoteが超気に入った理由を語りたい web 版はなくて、それぞれのデバイスごとにインストールする。linux は snap パッケージが用意されているので ubuntu なら次のようにインストールする。
$ sudo snap install upnote evernote から移行をするにあたり、.</description><content>&lt;p>6時に寝て8時半に起きた。オフィスで3時前ぐらいまで調べものして、帰ってからも眠れなくてネットしてたら朝になった。&lt;/p>
&lt;p>今日の筋トレは腹筋:15x2,腕立て:10x1,スクワット10x1をした。&lt;/p>
&lt;h2 id="サンライズ出雲の予約">サンライズ出雲の予約&lt;/h2>
&lt;p>以前 &lt;a href="/diary/diary/posts/2023/1119/#サンライズ瀬戸・出雲">やまさきさんに教えていただいた夜行列車&lt;/a> を予約してみた。列車は瀬戸と出雲の2つがある。岡山〜東京間は瀬戸と出雲が連結して運行するそうなのでどちらを選択しても同じだと思うけれど、出雲で予約してみた。乗り込む車両が異なるのかな？&lt;/p>
&lt;p>三ノ宮(00:11発) =&amp;gt; 東京 (07:08着)&lt;/p>
&lt;ul>
&lt;li>特急サンライズ出雲（シングル）
&lt;ul>
&lt;li>料金券部分 10,460円 (三ノ宮 - 東京)&lt;/li>
&lt;li>乗車券部分 9,460円 (神戸市内 - 東京都区内 2月6日～2月9日まで有効)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>前回に &lt;a href="https://www.jr-odekake.net/goyoyaku/campaign/sunriseseto_izumo/form.html">専用の予約画面&lt;/a> があることを調査済みだったので迷わず予約を取れた。唯一、面倒なところがオンラインで予約した後に紙の切符を発行しないといけないところ。切符を発行するには緑の窓口・券売機へ行かないといけない。三ノ宮駅にはあるので問題はない。発行には次の3つが必要になる。初めてだから予約後、すぐに駅へ行って発行してみた。迷わず簡単にできたのでこれなら乗車する直前でもそう困らないように思える。&lt;/p>
&lt;ul>
&lt;li>予約したクレジットカード&lt;/li>
&lt;li>電話番号の下四桁&lt;/li>
&lt;li>予約番号&lt;/li>
&lt;/ul>
&lt;h2 id="upnote-への移行">upnote への移行&lt;/h2>
&lt;p>数年前から evernote のビジネスが安定していないのは既知になっていたが、ここ1-2年でフリープランをどんどん縮小して投資回収的な値上げを強行している。&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://forest.watch.impress.co.jp/docs/news/1550894.html">「Evernote」無料プランの上限変更が正式決定、導入は12月4日から&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>値上げするだけならまだしも、アプリを開くたびに有料プランにアップグレードするためのダイアログを表示して、意図的にユーザー体験を悪化させて、フリープランのユーザーを退会させたいようにみえる。ここまで露骨にやって既存の課金ユーザーだけで十分にビジネスはペイするという目論見なのか、経営陣が短期的にV字回復させたという実績作りなのか。いずれにしても、私のようなちょっと使いのフリープランユーザーはターゲットではないらしい。どうやら2011年6月から使っていたらしいが、件数にすると216件のノートしかない。週に1-2回は使うのだけど、なくなったら別アプリに移行しても困らない程度の用途にしか使っていない。&lt;/p>
&lt;p>ずっと移行したいと思いつつ、なおざりにしていた理由として移行先のアプリを選定していなかった。私の用途としては次のような使い方をしている。&lt;/p>
&lt;ul>
&lt;li>買いものの備忘録として思いついたときにパソコンから記録し、スマホでチェックしながら買いものする&lt;/li>
&lt;li>法人番号、住所、家族の誕生日など、オンラインで手入力しないといけないときなどのコピペ元&lt;/li>
&lt;li>郵便受けのダイヤルロックを忘れたときのメモ&lt;/li>
&lt;li>パソコンやデバイスを購入したときのスペックを記録しておく&lt;/li>
&lt;li>オンラインの記事やサイトを保管しておくときの web クリップ&lt;/li>
&lt;/ul>
&lt;p>正直メモ帳アプリでなくても、他のアプリへ移行することもできるが、惰性で使っているのでできればそのまま移行したい。私の周りでは &lt;a href="https://obsidian.md/">obsidian&lt;/a> を使っている人も多く評判もいいからこれでもよかったんだけど、いくつか記事を読んでいると &lt;a href="https://getupnote.com/">upnote&lt;/a> の評判もよさそうにみえた。また upnote はサブスクリプションモデルではなく、パッケージライセンスなのでコストが安い。app store 経由でプレミアムのライセンスを購入する。為替によって値段が変わると思うが、いま買ったら3,500円だった。この値段で未来永劫 upnote のインフラコストを賄えるのかは懐疑的だが、3,500円ぐらいならそうなったときにまた別のメモ帳アプリへ移行するのでもよいかなというぐらいの気持ちで upnote を使ってみることにした。&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://ryob.net/upnote/">ノートアプリ難民必見！UpNoteが超気に入った理由を語りたい&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>web 版はなくて、それぞれのデバイスごとにインストールする。linux は snap パッケージが用意されているので ubuntu なら次のようにインストールする。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>$ sudo snap install upnote
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>evernote から移行をするにあたり、&lt;code>.enex&lt;/code> という xml ファイル形式でデータをエクスポートできる。これは macos または windows アプリでないとエクスポートできない。仕方ないから macos に evernote のアプリをインストールしてエクスポートする。ノートブック単位でエクスポートできる。&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://help.evernote.com/hc/ja/articles/209005557-%E3%83%8E%E3%83%BC%E3%83%88%E3%81%A8%E3%83%8E%E3%83%BC%E3%83%88%E3%83%96%E3%83%83%E3%82%AF%E3%82%92-ENEX-%E3%81%BE%E3%81%9F%E3%81%AF-HTML-%E5%BD%A2%E5%BC%8F%E3%81%A7%E3%82%A8%E3%82%AF%E3%82%B9%E3%83%9D%E3%83%BC%E3%83%88">ノートとノートブックを ENEX または HTML 形式でエクスポート&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>その後、upnote の macos アプリでインポートしようと試みるも macos 版にはインポート機能が見当たらない。linux 版にはインポート機能があったので &lt;code>.enex&lt;/code> ファイルを linux にコピーしてきて linux 版でインポートしたら移行を完了した。移行の制約事項は次の通り。216件のノートしかないので10分もあれば完了した。同期もかなり速くて、すぐに iphone, macos, linux でノートが同期された。&lt;/p>
&lt;blockquote>
&lt;p>最適なパフォーマンスを得るには、次の点に注意してください。&lt;/p>
&lt;ul>
&lt;li>多数のノートをインポートすると、アプリのパフォーマンスに影響を与える可能性があります。&lt;/li>
&lt;li>20MBを超えるファイルはインポートされません。&lt;/li>
&lt;li>300,000文字を超えるノートはインポートされません。&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;p>インストールしてから、このアプリの開発元はどこなんだろう？と調べてみるとベトナムの会社らしい。ややセキュリティは大丈夫なのかな？と不安に思ってしまう。&lt;a href="https://getupnote.com/support.html">Frequently Asked Questions&lt;/a> から引用する。firebase を使っているならストレージは強固だし、同期も firebase に委譲すればおかしなことも起こらないだろう。&lt;/p>
&lt;blockquote>
&lt;p>アップノートはどのように私のデータを保存するのですか？&lt;/p>
&lt;p>UpNoteは、アカウントにサインアップしなくても確実に動作するように設計されています。サインインしない場合、メモはあなたのデバイスにローカルに残ります。デバイス間でメモを同期したい場合は、アカウントにサインアップすると、UpNoteが中央サーバーにメモを保存し、他のデバイスと同期できるようになります。&lt;/p>
&lt;p>お客様はご自身のデータを完全に管理することができ、アップノートがお客様のデータにアクセスしたり、お客様のデータを第三者に販売したりすることは決してありません。プライバシーに関する詳細は、プライバシーポリシーをご覧ください。&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>&lt;strong>アップノートのサーバーはどこにありますか？安全ですか？&lt;/strong>&lt;/p>
&lt;p>UpNoteはFirebaseサーバー（Googleが提供するサービス）にデータを保存します。Firebaseプラットフォームは、主要なプライバシーおよびセキュリティ基準で認定されており、EU一般データ保護規則（GDPR）およびカリフォルニア州消費者プライバシー法（CCPA）を完全にサポートしています。Firebaseは、HTTPSを使用して転送中のデータを暗号化し、静止時のデータを暗号化します。詳しくは &lt;a href="https://firebase.google.com/support/privacy">https://firebase.google.com/support/privacy&lt;/a> をご覧ください。また、お客様のデータが安全に保護され、お客様だけがアクセスできるように細心の注意を払っています。&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>&lt;strong>アップノートはエンドツーエンド暗号化に対応していますか？&lt;/strong>&lt;/p>
&lt;p>エンドツーエンド暗号化（E2EE）は、データを暗号化・復号化するための高度なセキュリティ手法で、機密性の高い情報を保護するために設計されています。実装が複雑なため、アップノートでは現在E2EEをサポートする予定はありません。パスワードやクレジットカード番号などの機密情報を保存する場合は、機密情報を暗号化するために特別に設計されたパスワードマネージャーアプリケーションを使用することをお勧めします。&lt;/p>
&lt;/blockquote>
&lt;p>e2ee に対応していないところは残念なところ。未対応のセキュリティリスクの懸念としては、upnote 社の社員が私のノートの内容を閲覧できる可能性があったり、攻撃者が upnote 社のインフラに侵入してしまった場合、メモ帳の内容が外部に漏洩してしまう可能性がある。とはいえ、値段も安いのだからそこは割り切って機密情報はすべてパスワードマネージャに移行せよという戦略は理解できる。私の用途だと、メモ帳に機密情報はほとんどないけれど、賃貸の部屋のインターネット接続のアカウント情報や wifi パスワードなどを書いていたりする。こういった内容もこの機会に整理して 1password へ移行していくのがよいように思う。&lt;/p></content></item><item><title>経営の価値観にもの思い</title><link>/diary/posts/2024/0107/</link><pubDate>Sun, 07 Jan 2024 10:31:51 +0900</pubDate><guid>/diary/posts/2024/0107/</guid><description>2時に寝て途中起きて7時半に起きた。久しぶりによく眠れた。
今日の筋トレは腹筋:10x2,腕立て:10x1,スクワット15x1をした。
経営の価値観と財務 年末から読み進めて 昨日読み終えた本 の書評を書いた。こういったアウトプットをすることで学びを強化できるし、忘れてしまったときにまた自分の記事を読み返すこともできる。南原さんの経営の価値観に共感するところも多かった。
「絶対無理」なんて「絶対」ない！ 以前読んだ 貧乏はお金持ち にも書いてあったことだけれども、会社の資金繰りが厳しくなって、いざお金を借りようと思ったときに返済実績がないと借りられないことがあると書いてあった。余裕のあるときに借りて返済したという融資実績を作ることは会社の信用において意味があることだという。南原さんも同じことを指摘していて、その融資を受ける上で事業計画書が大事だという。これまで事業計画書を作るという考えが私にはなかったが、融資を受けるタイミングで試しに作ってみて外部の人たちが私の作った事業計画に対してどういった評価をするかで、やりたい事業の客観的な評価をするのもよさそうだと思い始めた。
2024年度中には投資フェーズに入り、その時点がもっともうちの会社の財務諸表の見栄えがよいと想定される。そのタイミングで事業計画書を作り、この先の5年程度の財務の安定化を図るというのも戦略の1つとして構想を進めていこうと思う。</description><content>&lt;p>2時に寝て途中起きて7時半に起きた。久しぶりによく眠れた。&lt;/p>
&lt;p>今日の筋トレは腹筋:10x2,腕立て:10x1,スクワット15x1をした。&lt;/p>
&lt;h2 id="経営の価値観と財務">経営の価値観と財務&lt;/h2>
&lt;p>年末から読み進めて &lt;a href="/diary/diary/posts/2024/0106/#社用車の1年点検">昨日読み終えた本&lt;/a> の書評を書いた。こういったアウトプットをすることで学びを強化できるし、忘れてしまったときにまた自分の記事を読み返すこともできる。南原さんの経営の価値観に共感するところも多かった。&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://note.com/t2y1979/n/n5fffbeaf494b">「絶対無理」なんて「絶対」ない！&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>以前読んだ &lt;a href="https://note.com/t2y1979/n/n634abc4c3941">貧乏はお金持ち&lt;/a> にも書いてあったことだけれども、会社の資金繰りが厳しくなって、いざお金を借りようと思ったときに返済実績がないと借りられないことがあると書いてあった。余裕のあるときに借りて返済したという融資実績を作ることは会社の信用において意味があることだという。南原さんも同じことを指摘していて、その融資を受ける上で事業計画書が大事だという。これまで事業計画書を作るという考えが私にはなかったが、融資を受けるタイミングで試しに作ってみて外部の人たちが私の作った事業計画に対してどういった評価をするかで、やりたい事業の客観的な評価をするのもよさそうだと思い始めた。&lt;/p>
&lt;p>2024年度中には投資フェーズに入り、その時点がもっともうちの会社の財務諸表の見栄えがよいと想定される。そのタイミングで事業計画書を作り、この先の5年程度の財務の安定化を図るというのも戦略の1つとして構想を進めていこうと思う。&lt;/p></content></item><item><title>機械の調子がよいと嬉しい</title><link>/diary/posts/2024/0106/</link><pubDate>Sat, 06 Jan 2024 14:18:00 +0900</pubDate><guid>/diary/posts/2024/0106/</guid><description>6時頃に寝て8時半に起きた。昔の トリック のドラマをみていたらついついみてしまった。
今日の筋トレは腹筋:10x1,腕立て:10x1,スクワット15x1をした。
ストレッチ お正月休みだったので疲労はないのだけど、だらけ過ぎたせいか全体的に体がちょっと硬かった。トレーナーさんと年始の災害や事故の話しなどをしながらいつも通りのストレッチのメニューをこなしていく。先月ぐらいか太もも後ろの筋に張りがずっとある。今日はとくに右太もも後ろの筋が張っていてかなりきつかった。年始から軽い筋トレを始めために、その影響もあって肩から胸周りは軽い筋肉痛で硬くなっていたのかもしれない。1ヶ月は継続して習慣化したいと共有した。今日の開脚幅は開始前152cmで、ストレッチ後157cmだった。
社用車の1年点検 13時から1時間半の予定が12時12分にディーラーさんに着いてしまった。営業さんからは13時からの予約なのでそれまで待ってもらうとお断りがあり、それは全然構わないと 年末から読みかけの本 を持ち込んで、ディーラーさんの待合室で本読みながら待ってますと伝えて、それから1時間半ほど読書していて、ちょうどその本を読み終えて、スマホを触っていたら13時38分には整備士さんから点検を終えたと一報があった。整備士さんによると、点検の順番を入れ替えて先にやってくれたみたい。
今回の点検で初めてのオイル交換となる。整備士さんから説明を受けると、なんの問題もなくて調子がよいという。私も1年間乗ってきて調子がよいですと答えた。ただのプラセボ効果だと思うけれど、整備を終えたばかりの車はさらに調子がよいように感じた。
走行距離の推移は次の通り。
購入時: 49,426 km 6ヶ月点検: 50,156 km 12ヶ月点検: 52,594 km 1年で 52594 - 49426 = 3,168 km 走ったことになる。学生の頃にバイクに乗っていた。そのときは1-2ヶ月で3000kmほど走ってオイル交換していた。もっともよく走ったのは北海道にツーリングへ行ったときで1週間で3000km走ったことがある。それと比べるとまったく走っていない。いまは月に1-2回実家へ帰るのが主な用途で片道約80kmとして往復で約160kmになる。3168 / 160 ≒ 20 回なので感覚的にも合致する。今後もコワーキングスペース作りのためにちょくちょく実家に帰るかもしれない。
ファイナンシャルプランナーとの打ち合わせ 本当は点検の終了が14時半だったので15時から打ち合わせを入れていた。点検から家に戻ってきて、すぐにオフィスへ行ったら14時14分だった。
ファイナンシャルプランナーさんに電話して、もうオフィスにいるので早く来られるならいつでもよいと一言伝えた。すると、プランナーさんも14半過ぎには着く予定だという。これは私もそうなんだが、初めて行く場所で打ち合わせ時間ぎりぎりの時間にあわせて訪問するということはない。不測の事態に備えて20-30分は余裕をもって行き、ビルの場所を確認してから周りをうろうろしたりする。プランナーさんもそういう性格なのかどうかは知らないが、早めに来られていたので早く打ち合わせして早く終わる分には問題ないだろうと思えた。早起きは三文の得。その後14時33分にオフィスへ来られて、いろいろお話しして15時半頃には終えた。また来週、人生のキャッシュフロー表のようなものを作ってくれるそうなのでそれを踏まえて話しをしてくれるらしい。
そのプランナーさんは大阪支社に勤めている。「大阪からわざわざ来ていただいてすみません。」と伝えると、今日は西宮、姫路と2件まわってその帰りだという。その会社は47都道府県すべてに支社があり、兵庫県は、姫路と姫路中央、神戸、三宮と4つの支社があるらしい。兵庫県は広いので移動に時間がかかると話されていた。おそらく姫路支社の担当者は赤穂や加古川をカバーして、神戸や三ノ宮の担当者は三木や三田、丹波もカバーするのだと推測する。とはいえ、三ノ宮に支社があるので時間調整は行いやすいため、うちのオフィスに来るのは大した労力でもないと話されていた。
ファイナンシャルプランナーさんとの相談そのものは無期限・無料でいくらでも行ってくれるらしい。その際に保険を提案して、保険会社からバックマージンを得るようなビジネスモデルにみえる。私は保険とは無縁の人間なのでしがらみも競合もなく、相手からするとターゲットそのものにみえる。話しを聞いていて、会社の経費で役員向けの保険に入って、私が重病になって働けなくなったときにその保険を解約して、保険金を現物支給するといった取り組みは検討に値するように思えた。そのときの保険金は退職金として支給されるので税金も優遇されるという。
いまのところ、個人で保険に加入する気はない。一方で 家族信託を介して相続税対策における母の生命保険 に今後加入する可能性がある。軽く説明すると、プランナーさんも「はいはい」って感じですぐに意図を汲み取っていたようにみえた。あとは会社の損金になるのであれば保険に入るのもやぶさかではないかもしれない。しばらくファイナンシャルプランナーとの打ち合わせを継続してみようと思う。</description><content>&lt;p>6時頃に寝て8時半に起きた。昔の &lt;a href="https://ja.wikipedia.org/wiki/%E3%83%88%E3%83%AA%E3%83%83%E3%82%AF_(%E3%83%86%E3%83%AC%E3%83%93%E3%83%89%E3%83%A9%E3%83%9E)">トリック&lt;/a> のドラマをみていたらついついみてしまった。&lt;/p>
&lt;p>今日の筋トレは腹筋:10x1,腕立て:10x1,スクワット15x1をした。&lt;/p>
&lt;h2 id="ストレッチ">ストレッチ&lt;/h2>
&lt;p>お正月休みだったので疲労はないのだけど、だらけ過ぎたせいか全体的に体がちょっと硬かった。トレーナーさんと年始の災害や事故の話しなどをしながらいつも通りのストレッチのメニューをこなしていく。先月ぐらいか太もも後ろの筋に張りがずっとある。今日はとくに右太もも後ろの筋が張っていてかなりきつかった。年始から軽い筋トレを始めために、その影響もあって肩から胸周りは軽い筋肉痛で硬くなっていたのかもしれない。1ヶ月は継続して習慣化したいと共有した。今日の開脚幅は開始前152cmで、ストレッチ後157cmだった。&lt;/p>
&lt;h2 id="社用車の1年点検">社用車の1年点検&lt;/h2>
&lt;p>13時から1時間半の予定が12時12分にディーラーさんに着いてしまった。営業さんからは13時からの予約なのでそれまで待ってもらうとお断りがあり、それは全然構わないと &lt;a href="/diary/diary/posts/2023/1230/#絶対無理なんて絶対ない">年末から読みかけの本&lt;/a> を持ち込んで、ディーラーさんの待合室で本読みながら待ってますと伝えて、それから1時間半ほど読書していて、ちょうどその本を読み終えて、スマホを触っていたら13時38分には整備士さんから点検を終えたと一報があった。整備士さんによると、点検の順番を入れ替えて先にやってくれたみたい。&lt;/p>
&lt;p>今回の点検で初めてのオイル交換となる。整備士さんから説明を受けると、なんの問題もなくて調子がよいという。私も1年間乗ってきて調子がよいですと答えた。ただのプラセボ効果だと思うけれど、整備を終えたばかりの車はさらに調子がよいように感じた。&lt;/p>
&lt;p>走行距離の推移は次の通り。&lt;/p>
&lt;ul>
&lt;li>購入時: 49,426 km&lt;/li>
&lt;li>6ヶ月点検: 50,156 km&lt;/li>
&lt;li>12ヶ月点検: 52,594 km&lt;/li>
&lt;/ul>
&lt;p>1年で 52594 - 49426 = 3,168 km 走ったことになる。学生の頃にバイクに乗っていた。そのときは1-2ヶ月で3000kmほど走ってオイル交換していた。もっともよく走ったのは北海道にツーリングへ行ったときで1週間で3000km走ったことがある。それと比べるとまったく走っていない。いまは月に1-2回実家へ帰るのが主な用途で片道約80kmとして往復で約160kmになる。3168 / 160 ≒ 20 回なので感覚的にも合致する。今後もコワーキングスペース作りのためにちょくちょく実家に帰るかもしれない。&lt;/p>
&lt;h2 id="ファイナンシャルプランナーとの打ち合わせ">ファイナンシャルプランナーとの打ち合わせ&lt;/h2>
&lt;p>本当は点検の終了が14時半だったので15時から打ち合わせを入れていた。点検から家に戻ってきて、すぐにオフィスへ行ったら14時14分だった。&lt;/p>
&lt;p>ファイナンシャルプランナーさんに電話して、もうオフィスにいるので早く来られるならいつでもよいと一言伝えた。すると、プランナーさんも14半過ぎには着く予定だという。これは私もそうなんだが、初めて行く場所で打ち合わせ時間ぎりぎりの時間にあわせて訪問するということはない。不測の事態に備えて20-30分は余裕をもって行き、ビルの場所を確認してから周りをうろうろしたりする。プランナーさんもそういう性格なのかどうかは知らないが、早めに来られていたので早く打ち合わせして早く終わる分には問題ないだろうと思えた。早起きは三文の得。その後14時33分にオフィスへ来られて、いろいろお話しして15時半頃には終えた。また来週、人生のキャッシュフロー表のようなものを作ってくれるそうなのでそれを踏まえて話しをしてくれるらしい。&lt;/p>
&lt;p>そのプランナーさんは大阪支社に勤めている。「大阪からわざわざ来ていただいてすみません。」と伝えると、今日は西宮、姫路と2件まわってその帰りだという。その会社は47都道府県すべてに支社があり、兵庫県は、姫路と姫路中央、神戸、三宮と4つの支社があるらしい。兵庫県は広いので移動に時間がかかると話されていた。おそらく姫路支社の担当者は赤穂や加古川をカバーして、神戸や三ノ宮の担当者は三木や三田、丹波もカバーするのだと推測する。とはいえ、三ノ宮に支社があるので時間調整は行いやすいため、うちのオフィスに来るのは大した労力でもないと話されていた。&lt;/p>
&lt;p>ファイナンシャルプランナーさんとの相談そのものは無期限・無料でいくらでも行ってくれるらしい。その際に保険を提案して、保険会社からバックマージンを得るようなビジネスモデルにみえる。私は保険とは無縁の人間なのでしがらみも競合もなく、相手からするとターゲットそのものにみえる。話しを聞いていて、会社の経費で役員向けの保険に入って、私が重病になって働けなくなったときにその保険を解約して、保険金を現物支給するといった取り組みは検討に値するように思えた。そのときの保険金は退職金として支給されるので税金も優遇されるという。&lt;/p>
&lt;p>いまのところ、個人で保険に加入する気はない。一方で &lt;a href="/diary/diary/posts/2023/1124/#家族信託の打ち合わせ">家族信託を介して相続税対策における母の生命保険&lt;/a> に今後加入する可能性がある。軽く説明すると、プランナーさんも「はいはい」って感じですぐに意図を汲み取っていたようにみえた。あとは会社の損金になるのであれば保険に入るのもやぶさかではないかもしれない。しばらくファイナンシャルプランナーとの打ち合わせを継続してみようと思う。&lt;/p></content></item><item><title>コミュニティとコワーキングの違いを説明できるようになってきた</title><link>/diary/posts/2024/0105/</link><pubDate>Fri, 05 Jan 2024 09:13:07 +0900</pubDate><guid>/diary/posts/2024/0105/</guid><description>4時過ぎに寝て8時半に起きた。まだ年明けだし10時ぐらいにオフィスへ行こうかとのんびりしていたら9時からのはらさんの打ち合わせを忘れていた。慌てて準備して5分ほど遅刻した。
今日の筋トレは腹筋:10x1,腕立て:10x1,スクワット15x1をした。このぐらいなら時間を取らないので日記をアップするために筋トレする動機づけになる。
隔週の雑談 顧問のはらさんと隔週の打ち合わせ。今日も事前に慌てて議題を準備した。
税理士さんとの打ち合わせ内容 の共有 コミュニティとコワーキングの違い の共有 年始というのもあってほぼ雑談に近いものだったけれど、時間もあったのでわりと盛り上がって話していた。
はらさんも過去にコワーキングスペースの手伝いのようなお仕事をしたことがあったらしく、コワーキングマネージャーのあれこれで盛り上がった。コワーキングスペースは値段が安いため、ビジネスとして成り立たないという懸念についても私も同意する。コワーキングスペースを本業にするのではなく副業でやるのがよいと私も考えている。コワーキングスペースへ来る方は、他のコワーカーとのコミュニケーションを価値と考える方と単純に作業スペースを必要として来る方の2通りに分かれる。いとうさんは後者の用途はコワーキングスペースとは分けて、ワーキングプレースと呼ぼうと提案している。もちろん作業場としてのニーズがあることは間違いないし、そういった用途を否定するものでもない。しかし、いとうさんの仰る、本来の意図のコワーキングスペースというのは、他のコワーカーたちと協調しながら独りでは為し得なかったアイディアや価値を創り出すことにある。最初にワーキングプレースではないといったことを明言して来られる方を選択するのがよいのだろう。
あと sns を開発するのは難しいという話題も盛り上がった。とくに dm と決済は難しいという。dm は犯罪の温床になる懸念からプラットフォーマーとしての責任と利用者のプライバシー配慮の双方がぶつかり合う機能になるため、どういった実装をするかのバランスが難しいのだろうと推測する。
最果てのユースホステルのドキュメンタリー はらさんが休暇中にみたという番組を教えていただいた。コミュニティやコワーキングの文脈で参考になるのではないかと。
ドキュメント７２時間　北海道・礼文島　最果てのユースホステルで もしかしたらドキュメンタリーだから意図的に特徴のある人を選択している可能性はあるけれど、人生に迷った人の境遇が紹介されていた。進路を悩んでいる、大学を休学している、組織の論理に従うのが嫌になったなど。以前からコワーキングやコミュニティに来る人たちは社会から弾かれた人が多いような気が私はしていた。既存の大勢派の考え方や論理に馴染めず、その枠組みとは異なる価値観や考え方を求めているような気がする。そして、それは人生においては、どちらかと言えば、順風満帆よりもうまくいっていないときに考える機会の方が多いのではないかと思う。
この番組で紹介していた事例は紛れもなくうまくいっている (即席の) コミュニティにみえる。宿泊者も一緒になってコミュニティのメンバーの一員としてイベントを盛り上げる役割を担っていて、そういう仕掛けをヘルパーと呼ばれる人たちがうまく誘導しているようにみえる。ヘルパーは実質的にコミュニティマネージャーを務めている。離島に数日泊まるという閉鎖的な環境や非日常が、そこに一緒にいる人たちと小さいコミュニティを築く上での装置としてうまく作用しているように私からは思えた。
事務処理規定の叩き台作成 年末に税理士さんと打ち合わせ した主な議題の1つで 電子帳簿保存法 対応のための事務処理規定の叩き台を作成した。今日のところは叩き台を作成して税理士さんにレビュー依頼した。レビュー依頼が通ったら実際のワークフローや手順を細かく記載したガイドラインを notion に作ろうと思う。他に社員がいないのもあって、私だけわかればよいのであれば、課題管理システムの issue のみで事足りて、ほとんど notion を使う機会がないというのが現状。いつか社員雇う日がくるのかどうか。</description><content>&lt;p>4時過ぎに寝て8時半に起きた。まだ年明けだし10時ぐらいにオフィスへ行こうかとのんびりしていたら9時からのはらさんの打ち合わせを忘れていた。慌てて準備して5分ほど遅刻した。&lt;/p>
&lt;p>今日の筋トレは腹筋:10x1,腕立て:10x1,スクワット15x1をした。このぐらいなら時間を取らないので日記をアップするために筋トレする動機づけになる。&lt;/p>
&lt;h2 id="隔週の雑談">隔週の雑談&lt;/h2>
&lt;p>顧問のはらさんと隔週の打ち合わせ。今日も事前に慌てて議題を準備した。&lt;/p>
&lt;ul>
&lt;li>&lt;a href="/diary/diary/posts/2023/1227/">税理士さんとの打ち合わせ内容&lt;/a> の共有&lt;/li>
&lt;li>&lt;a href="/diary/diary/posts/2023/1229/#コミュニティとコワーキングの違い">コミュニティとコワーキングの違い&lt;/a> の共有&lt;/li>
&lt;/ul>
&lt;p>年始というのもあってほぼ雑談に近いものだったけれど、時間もあったのでわりと盛り上がって話していた。&lt;/p>
&lt;p>はらさんも過去にコワーキングスペースの手伝いのようなお仕事をしたことがあったらしく、コワーキングマネージャーのあれこれで盛り上がった。コワーキングスペースは値段が安いため、ビジネスとして成り立たないという懸念についても私も同意する。コワーキングスペースを本業にするのではなく副業でやるのがよいと私も考えている。コワーキングスペースへ来る方は、他のコワーカーとのコミュニケーションを価値と考える方と単純に作業スペースを必要として来る方の2通りに分かれる。いとうさんは後者の用途はコワーキングスペースとは分けて、ワーキングプレースと呼ぼうと提案している。もちろん作業場としてのニーズがあることは間違いないし、そういった用途を否定するものでもない。しかし、いとうさんの仰る、本来の意図のコワーキングスペースというのは、他のコワーカーたちと協調しながら独りでは為し得なかったアイディアや価値を創り出すことにある。最初にワーキングプレースではないといったことを明言して来られる方を選択するのがよいのだろう。&lt;/p>
&lt;p>あと sns を開発するのは難しいという話題も盛り上がった。とくに dm と決済は難しいという。dm は犯罪の温床になる懸念からプラットフォーマーとしての責任と利用者のプライバシー配慮の双方がぶつかり合う機能になるため、どういった実装をするかのバランスが難しいのだろうと推測する。&lt;/p>
&lt;h3 id="最果てのユースホステルのドキュメンタリー">最果てのユースホステルのドキュメンタリー&lt;/h3>
&lt;p>はらさんが休暇中にみたという番組を教えていただいた。コミュニティやコワーキングの文脈で参考になるのではないかと。&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://www.nhk-ondemand.jp/goods/G2023130567SA000/">ドキュメント７２時間　北海道・礼文島　最果てのユースホステルで&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>もしかしたらドキュメンタリーだから意図的に特徴のある人を選択している可能性はあるけれど、人生に迷った人の境遇が紹介されていた。進路を悩んでいる、大学を休学している、組織の論理に従うのが嫌になったなど。以前からコワーキングやコミュニティに来る人たちは社会から弾かれた人が多いような気が私はしていた。既存の大勢派の考え方や論理に馴染めず、その枠組みとは異なる価値観や考え方を求めているような気がする。そして、それは人生においては、どちらかと言えば、順風満帆よりもうまくいっていないときに考える機会の方が多いのではないかと思う。&lt;/p>
&lt;p>この番組で紹介していた事例は紛れもなくうまくいっている (即席の) コミュニティにみえる。宿泊者も一緒になってコミュニティのメンバーの一員としてイベントを盛り上げる役割を担っていて、そういう仕掛けをヘルパーと呼ばれる人たちがうまく誘導しているようにみえる。ヘルパーは実質的にコミュニティマネージャーを務めている。離島に数日泊まるという閉鎖的な環境や非日常が、そこに一緒にいる人たちと小さいコミュニティを築く上での装置としてうまく作用しているように私からは思えた。&lt;/p>
&lt;h2 id="事務処理規定の叩き台作成">事務処理規定の叩き台作成&lt;/h2>
&lt;p>&lt;a href="/diary/diary/posts/2023/1227/">年末に税理士さんと打ち合わせ&lt;/a> した主な議題の1つで &lt;a href="https://www.nta.go.jp/law/joho-zeikaishaku/sonota/jirei/tokusetsu/index.htm">電子帳簿保存法&lt;/a> 対応のための事務処理規定の叩き台を作成した。今日のところは叩き台を作成して税理士さんにレビュー依頼した。レビュー依頼が通ったら実際のワークフローや手順を細かく記載したガイドラインを &lt;a href="https://www.notion.so/ja-jp">notion&lt;/a> に作ろうと思う。他に社員がいないのもあって、私だけわかればよいのであれば、課題管理システムの issue のみで事足りて、ほとんど notion を使う機会がないというのが現状。いつか社員雇う日がくるのかどうか。&lt;/p></content></item><item><title>年始は事務手続きからぼちぼち</title><link>/diary/posts/2024/0104/</link><pubDate>Thu, 04 Jan 2024 15:43:56 +0900</pubDate><guid>/diary/posts/2024/0104/</guid><description>0時に寝て何度か起きて7時過ぎに起きた。午前中はだらだらして午後からオフィスに出て会計や税務の財務の事務手続きをまとめてやっていた。
今日の筋トレは腹筋:10x1,腕立て:10x1,スクワット10x2をした。昨日さぼったから罪悪感が出て今日はちゃんとやろうと思った。
給与支払報告書の申告 年末に作成済みの書類データ を送信した。
給与支払報告書は神戸市へ、ほとんど同じ内容の法定調書合計表と源泉徴収票を税務署へ提出する。eltax のアカウントに e-tax のアカウントも紐付けることで、給与支払報告書の送信時に e-tax へ法定調書合計表と源泉徴収票のデータも送信してくれる。本来は2つ行う必要がある書類の作成／データ送信の作業が1つに軽減されるのでこれは便利な仕組みだと思う。
うちは社員1人なので手入力で書類を新規作成している。それ自体は簡単なのだけど、年に1回しかやらない作業なので書類のどこにどの値を入力するか、毎回忘れて過去の issue をみながら作業することになる。
償却資産 (固定資産税) の申告 会計システムの固定資産台帳だけを眺めていると、基本的には30万円以内の機器を購入して次の特例を使って一括損金算入するので減価償却中の固定資産はないようにみえる。
No.5408 中小企業者等の少額減価償却資産の取得価額の損金算入の特例 しかし、この特例は国税 (法人税と地方法人税) の減税のための制度であって、地方税である固定資産税とは無関係になる。だから固定資産台帳にある取得価額を資産が増加したら申告データに含めて登録する必要がある。課税標準額が150万円未満であれば、固定資産税そのものは課税されないが、申告そのものは必要になる。私も起業してから2年目のときにはらさんと話していて国税と地方税の違いによるこの誤解に気付いた。この申告も年に1回しかやらないので書類のフォーマットを思い出して理解するのにいつもまごまごする。
オンラインで調べると、課税標準額は先方で自動算出されるように書いてあったりするので eltax のアプリ内で算出してくれたらよいようにも思うのだけど、アプリ上ではとくに算出されない。もしかしたら取得価額の合計が150万円未満ならそもそも非課税になるので計算しないといった仕様なのかもしれないし、課税標準額も定額法や定率法のなにで算出するかで変わってくるから一概に算出できないのかもしれない。謎い。
源泉所得税の納付 半期に1回の源泉所得税の納付。これは手慣れたもので15分あれば申請と納付と会計システムに取引明細の登録までできる。
No.2505 源泉所得税及び復興特別所得税の納付期限と納期の特例 小規模企業共済オンライン手続きポータルのログイン確認 以前 アカウント申請して 翌日には本登録されていたものの、その後、ログインしていなかった気がしたのでついでに調べてみた。
ログインしたら e-私書箱 と連携しろと言われ、そのシステムと連携したら今度は e-私書箱と マイナポータル を連携しろと言われて、3つのシステムを連携した。開発者の私でもこれは？？？になってしまう。私はシステム側の都合があることを理解できるが、こんな一方的な複数のシステム間連携を一般ユーザーは理解できるのかな？とか疑問に思いつつ、ひとまず連携設定はしておいた。マイナンバーカードで何度もパスワード入力さえすればすぐに連携できる。
小規模企業共済オンライン手続きポータルにおいても年間の納付データや証明書を取得できた。そして連携しているe-私書箱でも確認できるようになっていて、おそらくこの状態ならマイナポータルにも連携されるのだろうと推測する。私の場合、確定申告は freee で書類作成してやるからマイナポータルから確定申告をまとめてやることはないけれど、いずれ移行する可能性はあるのでシステム間連携は徐々に進めて仕組みなども理解していこうとは思う。</description><content>&lt;p>0時に寝て何度か起きて7時過ぎに起きた。午前中はだらだらして午後からオフィスに出て会計や税務の財務の事務手続きをまとめてやっていた。&lt;/p>
&lt;p>今日の筋トレは腹筋:10x1,腕立て:10x1,スクワット10x2をした。昨日さぼったから罪悪感が出て今日はちゃんとやろうと思った。&lt;/p>
&lt;h2 id="給与支払報告書の申告">給与支払報告書の申告&lt;/h2>
&lt;p>&lt;a href="/diary/diary/posts/2023/1229/#年末の事務手続き">年末に作成済みの書類データ&lt;/a> を送信した。&lt;/p>
&lt;p>給与支払報告書は神戸市へ、ほとんど同じ内容の法定調書合計表と源泉徴収票を税務署へ提出する。eltax のアカウントに e-tax のアカウントも紐付けることで、給与支払報告書の送信時に e-tax へ法定調書合計表と源泉徴収票のデータも送信してくれる。本来は2つ行う必要がある書類の作成／データ送信の作業が1つに軽減されるのでこれは便利な仕組みだと思う。&lt;/p>
&lt;p>うちは社員1人なので手入力で書類を新規作成している。それ自体は簡単なのだけど、年に1回しかやらない作業なので書類のどこにどの値を入力するか、毎回忘れて過去の issue をみながら作業することになる。&lt;/p>
&lt;h2 id="償却資産-固定資産税-の申告">償却資産 (固定資産税) の申告&lt;/h2>
&lt;p>会計システムの固定資産台帳だけを眺めていると、基本的には30万円以内の機器を購入して次の特例を使って一括損金算入するので減価償却中の固定資産はないようにみえる。&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://www.nta.go.jp/taxes/shiraberu/taxanswer/hojin/5408.htm">No.5408 中小企業者等の少額減価償却資産の取得価額の損金算入の特例&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>しかし、この特例は国税 (法人税と地方法人税) の減税のための制度であって、地方税である固定資産税とは無関係になる。だから固定資産台帳にある取得価額を資産が増加したら申告データに含めて登録する必要がある。課税標準額が150万円未満であれば、固定資産税そのものは課税されないが、申告そのものは必要になる。私も起業してから2年目のときにはらさんと話していて国税と地方税の違いによるこの誤解に気付いた。この申告も年に1回しかやらないので書類のフォーマットを思い出して理解するのにいつもまごまごする。&lt;/p>
&lt;p>オンラインで調べると、課税標準額は先方で自動算出されるように書いてあったりするので eltax のアプリ内で算出してくれたらよいようにも思うのだけど、アプリ上ではとくに算出されない。もしかしたら取得価額の合計が150万円未満ならそもそも非課税になるので計算しないといった仕様なのかもしれないし、課税標準額も定額法や定率法のなにで算出するかで変わってくるから一概に算出できないのかもしれない。謎い。&lt;/p>
&lt;h2 id="源泉所得税の納付">源泉所得税の納付&lt;/h2>
&lt;p>半期に1回の源泉所得税の納付。これは手慣れたもので15分あれば申請と納付と会計システムに取引明細の登録までできる。&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://www.nta.go.jp/taxes/shiraberu/taxanswer/gensen/2505.htm">No.2505 源泉所得税及び復興特別所得税の納付期限と納期の特例&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="小規模企業共済オンライン手続きポータルのログイン確認">小規模企業共済オンライン手続きポータルのログイン確認&lt;/h2>
&lt;p>以前 &lt;a href="/diary/diary/posts/2023/1127/#小規模企業共済オンライン手続きポータル">アカウント申請して&lt;/a> 翌日には本登録されていたものの、その後、ログインしていなかった気がしたのでついでに調べてみた。&lt;/p>
&lt;p>ログインしたら &lt;a href="https://e-shishobako.ne.jp/resources/pages/esapos8030.html">e-私書箱&lt;/a> と連携しろと言われ、そのシステムと連携したら今度は e-私書箱と &lt;a href="https://myna.go.jp/">マイナポータル&lt;/a> を連携しろと言われて、3つのシステムを連携した。開発者の私でもこれは？？？になってしまう。私はシステム側の都合があることを理解できるが、こんな一方的な複数のシステム間連携を一般ユーザーは理解できるのかな？とか疑問に思いつつ、ひとまず連携設定はしておいた。マイナンバーカードで何度もパスワード入力さえすればすぐに連携できる。&lt;/p>
&lt;p>小規模企業共済オンライン手続きポータルにおいても年間の納付データや証明書を取得できた。そして連携しているe-私書箱でも確認できるようになっていて、おそらくこの状態ならマイナポータルにも連携されるのだろうと推測する。私の場合、確定申告は freee で書類作成してやるからマイナポータルから確定申告をまとめてやることはないけれど、いずれ移行する可能性はあるのでシステム間連携は徐々に進めて仕組みなども理解していこうとは思う。&lt;/p></content></item><item><title>冬休み1</title><link>/diary/posts/2024/0103/</link><pubDate>Wed, 03 Jan 2024 11:43:54 +0900</pubDate><guid>/diary/posts/2024/0103/</guid><description>離れで0時に寝て3時半に起きて5時半に起きて8時前に起きた。起きたときの室温が5℃ぐらい。農業倉庫のせいか、部屋の保温性はほぼない。エアコンを入れないと室温と外気温はほぼ同じように感じた。普通に布団と毛布で寝る分にはエアコンなしでも問題はないが、外気温が一桁だとエアコンなしで作業するのは厳しい。
今日の筋トレは腹筋:10x1のみだった。ちょっとさぼった。
戻神戸 お昼から雨降りという予報だったので朝ご飯を食べてからお昼前には神戸に戻ってきた。とくに予定もなかったので午後からオフィスで作業しようかと思っていたものの、帰ってきて一息ついて、いつの間にか昼寝していて、そのままだらだらしていた。まぁいっかと思ってお休みしていた。</description><content>&lt;p>離れで0時に寝て3時半に起きて5時半に起きて8時前に起きた。起きたときの室温が5℃ぐらい。農業倉庫のせいか、部屋の保温性はほぼない。エアコンを入れないと室温と外気温はほぼ同じように感じた。普通に布団と毛布で寝る分にはエアコンなしでも問題はないが、外気温が一桁だとエアコンなしで作業するのは厳しい。&lt;/p>
&lt;p>今日の筋トレは腹筋:10x1のみだった。ちょっとさぼった。&lt;/p>
&lt;h2 id="戻神戸">戻神戸&lt;/h2>
&lt;p>お昼から雨降りという予報だったので朝ご飯を食べてからお昼前には神戸に戻ってきた。とくに予定もなかったので午後からオフィスで作業しようかと思っていたものの、帰ってきて一息ついて、いつの間にか昼寝していて、そのままだらだらしていた。まぁいっかと思ってお休みしていた。&lt;/p></content></item><item><title>MBTI 性格診断とか</title><link>/diary/posts/2024/0102/</link><pubDate>Tue, 02 Jan 2024 08:45:02 +0900</pubDate><guid>/diary/posts/2024/0102/</guid><description>2時過ぎに寝て6時半に起きて7時半に起きた。夜に相棒の元旦スペシャルをみていて、最後の方でニュースに切り替わって、その後、相棒の別の再放送？がまた始まるみたいな変な番組編成になっていた。起きてから神棚にお供えをしたり親戚を迎える準備をしていた。
今日の筋トレは腹筋:10x1,腕立て:10x1,スクワット10x1のように毎日書いていけば1ヶ月ぐらいは継続できるのではないか？
親戚とお昼ご飯 毎年2日は親戚がやってきてお昼ご飯を食べる。昨年は訃報でやらなかったので2年ぶり。今年は離れのスペースにダイニングテーブルを2つ入れた。この形態でやるのは初めて。鍋にすき焼きをつくり、あとお寿司とお刺身を7人で食べた。このぐらいの人数でご飯を食べるのはとくに問題なさそう。ご飯を食べたりするなら電子レンジもあった方が便利だと気付いた。11時から準備して12時頃から食べ始めて14時前ぐらいで解散。お年玉をあげたり、親戚の姪や甥の話しを聞いたりしていた。
この春から働き始める姪が言うには MBTI 性格診断 というのが流行っていて、就職活動で適正診断の1つとしてやるようなものになる。なぜかそれが一般にも流行っていて、若い人だとこのタイプをインスタのプロフィールに書いてあったりもするらしい。試しにやってみたら私は 建築家 INTJ-A タイプだった。タイプが16個あるので複数人でやったらタイプがバラけて盛り上がるのかもしれない。今度の開発合宿でもネタの1つにみんなにやってもらってもよいかもしれない。
iphone のテザリングの自動切断 iphone を wifi ルーター代わりにテザリングをしていると気付かないときに切断していることがある。調べてみると、通信がないと約90秒で自動切断するという仕様になっているらしい。これはテザリング接続のアクセスポイントの電波も停止してしまっていることから、iphone の設定を開いてインターネット共有の on/off をしないといけないという面倒さがある。
この振る舞いはバッテリーを節約したいデバイス側と通信帯域を節約したいキャリア側の思惑が一致するせいか、ユーザー設定でこの振る舞いをカスタマイズすることはできないようにみえる。
iPhone-iPad間テザリングの接続切れ問題を解消したので解説したい なにかしら通信していれば自動切断はしない仕様にみえるので ping コマンドで icmp パケットを定期的に (次の例では60秒ごと) に送るといったことをしていれば切断はされないようにみえる。
&amp;gt; ping -i 60 www.yahoo.co.jp 開発者ならすぐワークアラウンドを思いつくが、一般ユーザー向けに iphone のテザリングが自動切断されない接続アプリのようなものを作ってあげると一般ユーザーにウケるんじゃないかと考えたりもした。</description><content>&lt;p>2時過ぎに寝て6時半に起きて7時半に起きた。夜に相棒の元旦スペシャルをみていて、最後の方でニュースに切り替わって、その後、相棒の別の再放送？がまた始まるみたいな変な番組編成になっていた。起きてから神棚にお供えをしたり親戚を迎える準備をしていた。&lt;/p>
&lt;p>今日の筋トレは腹筋:10x1,腕立て:10x1,スクワット10x1のように毎日書いていけば1ヶ月ぐらいは継続できるのではないか？&lt;/p>
&lt;h2 id="親戚とお昼ご飯">親戚とお昼ご飯&lt;/h2>
&lt;p>毎年2日は親戚がやってきてお昼ご飯を食べる。昨年は訃報でやらなかったので2年ぶり。今年は離れのスペースにダイニングテーブルを2つ入れた。この形態でやるのは初めて。鍋にすき焼きをつくり、あとお寿司とお刺身を7人で食べた。このぐらいの人数でご飯を食べるのはとくに問題なさそう。ご飯を食べたりするなら電子レンジもあった方が便利だと気付いた。11時から準備して12時頃から食べ始めて14時前ぐらいで解散。お年玉をあげたり、親戚の姪や甥の話しを聞いたりしていた。&lt;/p>
&lt;p>この春から働き始める姪が言うには &lt;a href="https://www.16personalities.com/ja">MBTI 性格診断&lt;/a> というのが流行っていて、就職活動で適正診断の1つとしてやるようなものになる。なぜかそれが一般にも流行っていて、若い人だとこのタイプをインスタのプロフィールに書いてあったりもするらしい。試しにやってみたら私は &lt;a href="https://www.16personalities.com/ja/intj%E5%9E%8B%E3%81%AE%E6%80%A7%E6%A0%BC">建築家 INTJ-A&lt;/a> タイプだった。タイプが16個あるので複数人でやったらタイプがバラけて盛り上がるのかもしれない。今度の開発合宿でもネタの1つにみんなにやってもらってもよいかもしれない。&lt;/p>
&lt;h2 id="iphone-のテザリングの自動切断">iphone のテザリングの自動切断&lt;/h2>
&lt;p>iphone を wifi ルーター代わりにテザリングをしていると気付かないときに切断していることがある。調べてみると、通信がないと約90秒で自動切断するという仕様になっているらしい。これはテザリング接続のアクセスポイントの電波も停止してしまっていることから、iphone の設定を開いてインターネット共有の on/off をしないといけないという面倒さがある。&lt;/p>
&lt;p>この振る舞いはバッテリーを節約したいデバイス側と通信帯域を節約したいキャリア側の思惑が一致するせいか、ユーザー設定でこの振る舞いをカスタマイズすることはできないようにみえる。&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://note.com/runisan/n/n81c34518e1e0">iPhone-iPad間テザリングの接続切れ問題を解消したので解説したい&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>なにかしら通信していれば自動切断はしない仕様にみえるので ping コマンドで icmp パケットを定期的に (次の例では60秒ごと) に送るといったことをしていれば切断はされないようにみえる。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-zsh" data-lang="zsh">&lt;span style="display:flex;">&lt;span>&amp;gt; ping -i &lt;span style="color:#ae81ff">60&lt;/span> www.yahoo.co.jp
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>開発者ならすぐワークアラウンドを思いつくが、一般ユーザー向けに iphone のテザリングが自動切断されない接続アプリのようなものを作ってあげると一般ユーザーにウケるんじゃないかと考えたりもした。&lt;/p></content></item><item><title>筋トレの習慣作り</title><link>/diary/posts/2024/0101/</link><pubDate>Mon, 01 Jan 2024 01:45:15 +0900</pubDate><guid>/diary/posts/2024/0101/</guid><description>離れで2時過ぎに寝て7時半に起きた。いつもと寝床が違うせいか、起きたらやや腰が痛い。昨日は暖かくて室温が13℃ほどあったのでエアコンなしで寝てもとくに寒くはなかった。
すぐやる筋トレ 朝からテレビをみていたら 谷本道哉 先生が出演していて筋トレについて紹介していた。最近の研究で1週間に30-60分筋トレをすることで総死亡・心血管疾患・がん・糖尿病などのリスクが10〜17%下がるらしい。なにもしないより、やった方が健康によさそうというのは直感的でもある。先生のモットーは次になると言う。
筋トレはやるか、すぐやるか
やるのは前提でいつやるかだけを言っている。こういうキャッチフレーズはいいなと素直に感心してテレビでやっている筋トレを実際にやってみた。10-20回/1セットをやればよいという。紹介していた筋トレを今日は10回2セットをやってみた。
椅子に座っての足上げ (腹筋) 机を使っての腕立て伏せ (腕立て) スクワット (スクワット) 谷本道哉【第4回】いますぐできる！オフィスでかんたん筋トレ – 筋肉貯金で長くたくましく働ける体を作る の記事で紹介されているものが近い。これぐらいならオフィスでも確かにすぐできる。なにかを始めても長続きせずすぐにやめてしまう。人間が弱いから継続できない。習慣化のための平均66日 という仮説がある。日記はこの仮説を意識して習慣化に成功した数少ない事例の1つ。簡単なことは1ヶ月程度でよいはず。もしこの筋トレを1月いっぱい継続できれば習慣化できるかもしれない。なるべく朝か午前中にやるのがよいのではないかと考えている。先生によると、筋トレすると乳酸が出てくる。これまで乳酸はよくないものと考えられていたが、最近の研究では乳酸が脳のエネルギー源になっているとわかってきたらしい。
日記はほぼ毎日書くのでここに筋トレのやった回数を書いていくのがやらないといけない強制力が働いてよいような気がしてきた。試しに明日からやってみようと思う。
コワーキングスペース化へ向けての準備 実家の離れをコワーキングスペース化するために少しずつ取り組む。もともと使っていない部屋だったので、半分は物置となっていた。不要な棚やタンスなども放置されていた。昔は祖父が住んでいたこともあるので祖父の生活品なども少しそのまま残っている。まずはそれらを整理しないといけない。具体的には不要なものを捨てて粗大ゴミとして出す。コワーキングスペースとして足りないものを備えていく必要もある。
今日のところは次の大きなものを外に排出した。その後、掃いたり拭いたり掃除をしていた。物を動かすといろいろ汚い。
タンス 棚 こたつ ローテーブル ベッド マットレス 付随するいろいろ 空きスペースができて広くなった。いずれはソファも片付けて椅子のみにしたい。
いまダイニングテーブルは2つある。スペース的にはもう1つ置けそう。あとテーブルと椅子を一式探してみようと思う。
縦 (cm) 幅 (cm) 高さ (cm) 色 80 130 68 ダークブラウン 75 120 70 ナチュラル ダイニングテーブルの前後に向かい合って2人で使うのがスペースを広く使えて快適に思える。どうせそんな多くの人は来ない。せいぜい4-5人程度がゆったり作業できればよい。
その他、気付いたこと。
4-5人が作業できるだけの wifi ネットワークをどうするか いまは iijmio 5ギガプラン を使っている 1ヶ月に1週間お仕事する程度ならこれで十分 昼間は電気をつけても少し暗い感じがする 補助的な光を置いてもよいかもしれない 部屋の隅には蜘蛛の巣がある 夏は暑く冬は寒いので窓をカスタマイズしてもよいかもしれない 宿泊はスペースと布団の準備がいるのでしばらくはやらない</description><content>&lt;p>離れで2時過ぎに寝て7時半に起きた。いつもと寝床が違うせいか、起きたらやや腰が痛い。昨日は暖かくて室温が13℃ほどあったのでエアコンなしで寝てもとくに寒くはなかった。&lt;/p>
&lt;h2 id="すぐやる筋トレ">すぐやる筋トレ&lt;/h2>
&lt;p>朝からテレビをみていたら &lt;a href="https://ja.wikipedia.org/wiki/%E8%B0%B7%E6%9C%AC%E9%81%93%E5%93%89">谷本道哉&lt;/a> 先生が出演していて筋トレについて紹介していた。最近の研究で1週間に30-60分筋トレをすることで総死亡・心血管疾患・がん・糖尿病などのリスクが10〜17%下がるらしい。なにもしないより、やった方が健康によさそうというのは直感的でもある。先生のモットーは次になると言う。&lt;/p>
&lt;blockquote>
&lt;p>筋トレはやるか、すぐやるか&lt;/p>
&lt;/blockquote>
&lt;p>やるのは前提でいつやるかだけを言っている。こういうキャッチフレーズはいいなと素直に感心してテレビでやっている筋トレを実際にやってみた。10-20回/1セットをやればよいという。紹介していた筋トレを今日は10回2セットをやってみた。&lt;/p>
&lt;ul>
&lt;li>椅子に座っての足上げ (腹筋)&lt;/li>
&lt;li>机を使っての腕立て伏せ (腕立て)&lt;/li>
&lt;li>スクワット (スクワット)&lt;/li>
&lt;/ul>
&lt;p>&lt;a href="https://www.nobetech-mag.jp/column/%E8%B0%B7%E6%9C%AC%E9%81%93%E5%93%89%E7%AD%8B%E8%82%89%E8%B2%AF%E9%87%914/">谷本道哉【第4回】いますぐできる！オフィスでかんたん筋トレ – 筋肉貯金で長くたくましく働ける体を作る&lt;/a> の記事で紹介されているものが近い。これぐらいならオフィスでも確かにすぐできる。なにかを始めても長続きせずすぐにやめてしまう。人間が弱いから継続できない。&lt;a href="/diary/diary/posts/2021/1130/#習慣化のための平均66日">習慣化のための平均66日&lt;/a> という仮説がある。日記はこの仮説を意識して習慣化に成功した数少ない事例の1つ。簡単なことは1ヶ月程度でよいはず。もしこの筋トレを1月いっぱい継続できれば習慣化できるかもしれない。なるべく朝か午前中にやるのがよいのではないかと考えている。先生によると、筋トレすると乳酸が出てくる。これまで乳酸はよくないものと考えられていたが、最近の研究では乳酸が脳のエネルギー源になっているとわかってきたらしい。&lt;/p>
&lt;p>日記はほぼ毎日書くのでここに筋トレのやった回数を書いていくのがやらないといけない強制力が働いてよいような気がしてきた。試しに明日からやってみようと思う。&lt;/p>
&lt;h2 id="コワーキングスペース化へ向けての準備">コワーキングスペース化へ向けての準備&lt;/h2>
&lt;p>実家の離れをコワーキングスペース化するために少しずつ取り組む。もともと使っていない部屋だったので、半分は物置となっていた。不要な棚やタンスなども放置されていた。昔は祖父が住んでいたこともあるので祖父の生活品なども少しそのまま残っている。まずはそれらを整理しないといけない。具体的には不要なものを捨てて粗大ゴミとして出す。コワーキングスペースとして足りないものを備えていく必要もある。&lt;/p>
&lt;p>今日のところは次の大きなものを外に排出した。その後、掃いたり拭いたり掃除をしていた。物を動かすといろいろ汚い。&lt;/p>
&lt;ul>
&lt;li>タンス&lt;/li>
&lt;li>棚&lt;/li>
&lt;li>こたつ&lt;/li>
&lt;li>ローテーブル&lt;/li>
&lt;li>ベッド&lt;/li>
&lt;li>マットレス&lt;/li>
&lt;li>付随するいろいろ&lt;/li>
&lt;/ul>
&lt;p>空きスペースができて広くなった。いずれはソファも片付けて椅子のみにしたい。&lt;/p>
&lt;figure>&lt;img src="/diary/diary/img/2024/0101_hanare.jpg"/>
&lt;/figure>
&lt;p>いまダイニングテーブルは2つある。スペース的にはもう1つ置けそう。あとテーブルと椅子を一式探してみようと思う。&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:right">縦 (cm)&lt;/th>
&lt;th style="text-align:right">幅 (cm)&lt;/th>
&lt;th style="text-align:right">高さ (cm)&lt;/th>
&lt;th>色&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:right">80&lt;/td>
&lt;td style="text-align:right">130&lt;/td>
&lt;td style="text-align:right">68&lt;/td>
&lt;td>ダークブラウン&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:right">75&lt;/td>
&lt;td style="text-align:right">120&lt;/td>
&lt;td style="text-align:right">70&lt;/td>
&lt;td>ナチュラル&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>ダイニングテーブルの前後に向かい合って2人で使うのがスペースを広く使えて快適に思える。どうせそんな多くの人は来ない。せいぜい4-5人程度がゆったり作業できればよい。&lt;/p>
&lt;p>その他、気付いたこと。&lt;/p>
&lt;ul>
&lt;li>4-5人が作業できるだけの wifi ネットワークをどうするか
&lt;ul>
&lt;li>いまは &lt;a href="/diary/diary/posts/2023/0721/#iijmio-ギガプランの変更">iijmio 5ギガプラン&lt;/a> を使っている&lt;/li>
&lt;li>1ヶ月に1週間お仕事する程度ならこれで十分&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>昼間は電気をつけても少し暗い感じがする
&lt;ul>
&lt;li>補助的な光を置いてもよいかもしれない&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>部屋の隅には蜘蛛の巣がある&lt;/li>
&lt;li>夏は暑く冬は寒いので窓をカスタマイズしてもよいかもしれない&lt;/li>
&lt;li>宿泊はスペースと布団の準備がいるのでしばらくはやらない&lt;/li>
&lt;/ul></content></item></channel></rss>