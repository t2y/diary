<!doctype html><html lang=en><head><title>デジタルノマドへの関心 :: </title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="0時に寝て2時に起きて6時に起きた。いまは眠れる状態に落ち着きつつある。
pandoc と mermaid charts の扱い markdown のドキュメントに mermaid で図を描く機会が増えてきた。markdown を pdf に変換するツールがあって内部的に pandoc を使っている。そのツールで pdf 変換してみたら mermaid 記法がそのままテキストで出力されたので変換するときに図に置き換えられないかを調べてみた。例えば、次のようにして markdown から html に変換できる。
$ pandoc mydoc.md -f gfm -o mydoc.html 次のように mermaid 記法がそのまま出力される。
&amp;lt;pre class=&amp;#34;mermaid&amp;#34;&amp;gt;&amp;lt;code&amp;gt;flowchart TB subgraph cr [Container Registry] repo[repository] end ... mermaid を cli ツールとして mermaid-cli がある。markdown を直接渡しても mermaid のコードブロックを検出して画像変換してくれる。複数あってもよい。これはちょっと驚いた。
$ git clone git@github.com:mermaid-js/mermaid-cli.git $ cd mermaid-cli $ yarn add @mermaid-js/mermaid-cli $ npx mmdc --version 9.1.7 $ npx mmdc -i mydoc."><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=/diary/posts/2022/1116/><link rel=stylesheet href=/diary/styles.css><link rel=stylesheet href=/diary/style.css><link rel="shortcut icon" href=/diary/favicon.ico><meta name=twitter:card content="summary"><meta name=twitter:site content="t2y"><meta name=twitter:creator content><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="og:title" content="デジタルノマドへの関心"><meta property="og:description" content="0時に寝て2時に起きて6時に起きた。いまは眠れる状態に落ち着きつつある。
pandoc と mermaid charts の扱い markdown のドキュメントに mermaid で図を描く機会が増えてきた。markdown を pdf に変換するツールがあって内部的に pandoc を使っている。そのツールで pdf 変換してみたら mermaid 記法がそのままテキストで出力されたので変換するときに図に置き換えられないかを調べてみた。例えば、次のようにして markdown から html に変換できる。
$ pandoc mydoc.md -f gfm -o mydoc.html 次のように mermaid 記法がそのまま出力される。
&amp;lt;pre class=&amp;#34;mermaid&amp;#34;&amp;gt;&amp;lt;code&amp;gt;flowchart TB subgraph cr [Container Registry] repo[repository] end ... mermaid を cli ツールとして mermaid-cli がある。markdown を直接渡しても mermaid のコードブロックを検出して画像変換してくれる。複数あってもよい。これはちょっと驚いた。
$ git clone git@github.com:mermaid-js/mermaid-cli.git $ cd mermaid-cli $ yarn add @mermaid-js/mermaid-cli $ npx mmdc --version 9.1.7 $ npx mmdc -i mydoc."><meta property="og:url" content="/diary/posts/2022/1116/"><meta property="og:site_name" content><meta property="og:image" content="/diary/"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><meta property="article:published_time" content="2022-11-16 08:00:27 +0900 +0900"></head><body class=green><div class="container full headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=/diary><div class=logo>forest nook</div></a></div><ul class="menu menu--mobile"><li class=menu__trigger>Menu&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=/diary/about>自己紹介</a></li><li><a href=/diary/dates>月別一覧</a></li><li><a href=/diary/tags>タグ一覧</a></li></ul></li></ul></div><nav class=navigation-menu><ul class="navigation-menu__inner menu--desktop"><li><a href=/diary/about>自己紹介</a></li><li><a href=/diary/dates>月別一覧</a></li><li><a href=/diary/tags>タグ一覧</a></li></ul></nav></header><div class=content><article class=post><h1 class=post-title><a href=/diary/posts/2022/1116/>デジタルノマドへの関心</a></h1><div class=post-meta><time class=post-date>2022-11-16</time></div><span class=post-tags>#<a href=/diary/tags/mermaid/>mermaid</a>&nbsp;
#<a href=/diary/tags/coworking/>coworking</a>&nbsp;
#<a href=/diary/tags/community/>community</a>&nbsp;
#<a href=/diary/tags/event/>event</a>&nbsp;</span><div class=post-content><div><p>0時に寝て2時に起きて6時に起きた。いまは眠れる状態に落ち着きつつある。</p><h2 id=pandoc-と-mermaid-charts-の扱い>pandoc と mermaid charts の扱い<a href=#pandoc-と-mermaid-charts-の扱い class=hanchor arialabel=Anchor>&#8983;</a></h2><p>markdown のドキュメントに <a href=https://mermaid-js.github.io/mermaid/#/>mermaid</a> で図を描く機会が増えてきた。markdown を pdf に変換するツールがあって内部的に pandoc を使っている。そのツールで pdf 変換してみたら mermaid 記法がそのままテキストで出力されたので変換するときに図に置き換えられないかを調べてみた。例えば、次のようにして markdown から html に変換できる。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ pandoc mydoc.md -f gfm -o mydoc.html
</span></span></code></pre></div><p>次のように mermaid 記法がそのまま出力される。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;pre</span> <span style=color:#a6e22e>class=</span><span style=color:#e6db74>&#34;mermaid&#34;</span><span style=color:#f92672>&gt;&lt;code&gt;</span>flowchart TB
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>subgraph cr [Container Registry]
</span></span><span style=display:flex><span>  repo[repository]
</span></span><span style=display:flex><span>end
</span></span><span style=display:flex><span>...
</span></span></code></pre></div><p>mermaid を cli ツールとして <a href=https://github.com/mermaid-js/mermaid-cli>mermaid-cli</a> がある。markdown を直接渡しても mermaid のコードブロックを検出して画像変換してくれる。複数あってもよい。これはちょっと驚いた。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ git clone git@github.com:mermaid-js/mermaid-cli.git
</span></span><span style=display:flex><span>$ cd mermaid-cli
</span></span><span style=display:flex><span>$ yarn add @mermaid-js/mermaid-cli
</span></span><span style=display:flex><span>$ npx mmdc --version
</span></span><span style=display:flex><span>9.1.7
</span></span><span style=display:flex><span>$ npx mmdc -i mydoc.md -o mydiagram.png
</span></span><span style=display:flex><span>Found <span style=color:#ae81ff>2</span> mermaid charts in Markdown input
</span></span><span style=display:flex><span> ✅ ./mydiagram-1.png
</span></span><span style=display:flex><span> ✅ ./mydiagram-2.png
</span></span></code></pre></div><p>cli でできるなら何とでもなるんじゃないかともう少し調べていたら次の gist をみつけた。</p><ul><li><a href=https://gist.github.com/letientai299/2c974b4f5e7b05be52d369ff8693c29a>Render PDF from Markdonw that using mermaid</a></li></ul><p><a href=https://pandoc.org/filters.html>pandoc filters</a> という仕組みがあって、pandoc の ast を操作するためのインターフェースを提供している。その仕組みを使って mermaid の変換を行う <a href=https://github.com/raghur/mermaid-filter>mermaid-filter</a> を誰かが作ってくれていた。このツールをインストールして次のように pandoc を実行すると base64 でエンコードした画像を使って html に変換できた。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ npm i -g mermaid-filter
</span></span><span style=display:flex><span>$ pandoc mydoc.md -F mermaid-filter -f gfm -o mydoc.html
</span></span><span style=display:flex><span>$ vi mydoc.html
</span></span><span style=display:flex><span>&lt;p&gt;システム構成図&lt;/p&gt;
</span></span><span style=display:flex><span>&lt;p&gt;&lt;img src<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;data:image/png;base64,iVBORw0KGgoAAAANSU...EnAAAAAElFTkSuQmCC&#34;</span> alt<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;&#34;</span> /&gt;&lt;/p&gt;
</span></span></code></pre></div><p>mermaid-cli を使うか mermaid-filter を使うかは要件や好みにもよるけど、すでにツールがあるので組み合わせれば何とかできそうというところまで確認した。</p><h2 id=コワーキングのオンラインイベント>コワーキングのオンラインイベント<a href=#コワーキングのオンラインイベント class=hanchor arialabel=Anchor>&#8983;</a></h2><p>月例のカフーツさんのオンラインイベントに参加した。<a href=/diary/posts/2022/1029/#コワーキングのオンラインイベント>先月の所感はここ</a> 。いとうさんが岩手県普代村のコワーキングスペースに行ってきてそのお話しから始まった。私はまだ岩手県に行ったことすらないんやけど、めっちゃ田舎の、断崖絶壁の眺めのよい高台にある国民宿舎にコワーキングスペースがあるらしい。</p><ul><li><a href=https://note.com/kanzan10to9/n/n7802c47b1174>人口2500人弱の村でコワーキング運営の研修をしてきた〜ローカルコワーキングこそ地方創生の鍵〜</a></li></ul><p>研修の講師として、いとうさんは呼ばれてワークショップをしたらしい。参加者が付箋に課題を書き出してグループワークするといった作業に不慣れで、グループ内で話しはしているものの、あまり付箋に書いてくれなかったとかぼやいていた。<a href=https://www.soumu.go.jp/main_sosiki/jichi_gyousei/c-gyousei/02gyosei08_03000066.html>地域おこし協力隊</a> として19歳の隊員が参加者にいたらしい。19歳で地域おこし協力隊になれるの？といとうさんが驚いていた。どうやら年齢は自治体の募集要項次第らしく、たまたま普代村の要項が18歳以上で自治体もまさかそんな若い人がくるとは思ってなかったと19歳の隊員が活躍していたという。若いから頭の回転も速いし活発でワークショップもてきぱきとこなしていたらしい。</p><p>先月のお仕事探しでマネージャー実績のない私を雇う会社はほぼないという現実に直面した。いまのお仕事を終えた後で、地域おこし協力隊の要件を私が満たすなら課題管理を実践する場として行ってみてもいいかもしれないなと話しを聞いていて少し思った。ソフトウェア開発に特化した課題管理しかできないというスコープの狭さが私のスキルの欠点でもある。仮に地域おこし協力隊としてなにかに役立てられるなら、そのスコープをさらに広げられる可能性も出てくる。</p><p>それから次の記事の話題に移っていった。<a href=https://nomadlist.com/>Nomad List</a> というデジタルノマド向けポータル兼 sns のようなサイトを紹介してくれた。</p><ul><li><a href=https://workmill.jp/jp/webzine/future-coworking-20221108/>世界のデジタルノマドが集まるサイトはホスピタリティに満ちている　テクノロジーとヒトが持ち寄る情報の力</a></li></ul><p>試しに <a href=https://nomadlist.com/kobe>kobe</a> のスコアをみてみる。現時点のランキングは1182位と低い。日本はこの2年ほどコロナ禍で鎖国していたからノマドを受け入れてないのでどの都市もランキングは下がっているらしい。ざっとみてスコアがよくないのは次の項目。神戸に住んでいる私の感覚とも合致しているのでこのスコアは一定の信頼ができると思う。神戸の大半のお店は21時までには閉まるし、スタートアップ企業なんか数えるほどしかいない。とはいえ、全体としてはスコアは良好だし世界に誇れる都市の1つとしてデジタルノマドを受け入れる器はあると思う。</p><ul><li>Cost</li><li>Vulnerability to climate change</li><li>English speaking</li><li>Nightlife</li><li>Free WiFi in city</li><li>Startup Score</li></ul><figure><img src=/diary/img/2022/1116_nomadlist-kobe.png></figure><p>あと <a href=https://livinganywherecommons.com/base/mima/>徳島県美馬市脇町</a> の町興しのようなコワーキングやデジタルノマド向けの取り組みの話しがあって関心をもって聞いていた。徳島県なら実家から近い。こんな場所あったんやと聞いていた。このサイトで紹介されているのどけやさんというゲストハウスはいつ行っても外国人がいるといとうさんが話されていた。そう言われると本当なんやろか？と確かめに行きたくなる。たぶん実家から車で1時間もあれば行けそうな気がする。</p></div></div><div class=pagination><div class=pagination__title><span class=pagination__title-h>Read other posts</span><hr></div><div class=pagination__buttons><span class="button previous"><a href=/diary/posts/2022/1117/><span class=button__icon>←</span>
<span class=button__text>技術選定の根拠</span>
</a></span><span class="button next"><a href=/diary/posts/2022/1115/><span class=button__text>課題の洗い出し</span>
<span class=button__icon>→</span></a></span></div></div></article></div><footer class=footer><div class=footer__inner><div class=copyright><span>© 2024 Powered by <a href=https://gohugo.io>Hugo</a></span>
<span>:: <a href=https://github.com/panr/hugo-theme-terminal target=_blank>Theme</a> made by <a href=https://github.com/panr target=_blank>panr</a></span></div></div></footer><script type=text/javascript src=/diary/bundle.min.js></script></div></body></html>