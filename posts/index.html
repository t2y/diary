<!doctype html><html lang=en><head><title>Posts :: forest nook</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=/diary/posts/><link rel=stylesheet href=/diary/styles.css><link rel=stylesheet href=/diary/style.css><link rel="shortcut icon" href=/diary/favicon.ico><meta name=twitter:card content="summary"><meta name=twitter:site content="t2y"><meta name=twitter:creator content><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:title" content="Posts"><meta property="og:description" content><meta property="og:url" content="/diary/posts/"><meta property="og:site_name" content="forest nook"><meta property="og:image" content="/diary/favicon.ico"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><link href=/diary/posts/index.xml rel=alternate type=application/rss+xml title="forest nook"></head><body class=green><div class="container full headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=/diary><div class=logo>forest nook</div></a></div><ul class="menu menu--mobile"><li class=menu__trigger>Menu&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=/diary/about>自己紹介</a></li><li><a href=/diary/dates>月別一覧</a></li><li><a href=/diary/tags>タグ一覧</a></li></ul></li></ul></div><nav class=navigation-menu><ul class="navigation-menu__inner menu--desktop"><li><a href=/diary/about>自己紹介</a></li><li><a href=/diary/dates>月別一覧</a></li><li><a href=/diary/tags>タグ一覧</a></li></ul></nav></header><div class=content><div class=posts><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0530/>落ち穂を拾い集めて課題管理を促す</a></h1><div class=post-meta><time class=post-date>2023-05-30 (Tue.) ::</time></div><span class=post-tags>#<a href=/diary/tags/project-management/>project management</a>&nbsp;
#<a href=/diary/tags/issue-management/>issue management</a>&nbsp;
#<a href=/diary/tags/communication/>communication</a>&nbsp;</span><div class=post-content><p>2時に寝て何度か起きて7時に起きた。能の本を読みながら寝落ちした。</p><h2 id=落ち穂拾いの終了>落ち穂拾いの終了</h2><p>4月末にリリースしてその後 GW に入って、5月は「落ち穂拾い」として <a href=/diary/posts/2023/0516/#半年間の開発のふりかえり>開発全体のふりかえり</a> をやったり、<a href=/diary/posts/2023/0518/#開発課題の打ち合わせ>次の開発の要件を整理</a> したりしていた。<a href=/diary/posts/2023/0526/#ドッグフードテストと運用談義>ドッグフードテスト</a> の導入もまだ作業中ではあるが、社内のシステム管理者にも協力していただいて進めている。私の作業でも十分な余裕をもって次の準備につなげることができたので開発の区切りで1ヶ月ぐらい準備期間があることはよいように思える。経営者はもっと働かせたがるかもしれないが。</p><p>これまでの開発は定例会議も 1on1 も毎週行ってきたが、次の開発ではこれらの会議を隔週にしてみる。口頭による同期コミュニケーションのコストを減らし、より開発そのものに時間を割いて注力できるようにする。もしかしたら、これによって私も開発に参加する時間を作りやすくなるかもしれない。もう1つ <strong>必要なときに必要な人とすぐに話す (会議の日まで待たない)</strong> という狙いがある。毎週会議があると、すぐ聞けばよいことを次の会議まで待ってしまうということがある。私もある。私ですら待つときがあるのだからおそらくメンバーにもそうしてしまうことがあると推測する。会議の頻度を下げることでこの待ち時間を削減して即時問い合わせ、即時解決するといったコミュニケーションに移行していきたいという狙いがある。開発者の自律性を高めるためにはこういった取り組みも必要だと思える。もっと言えば、毎週会議しないと情報共有できないというのは開発者を子ども扱いして堕落させるのではないかと考える。実際に意図したようにうまくいくかどうかはやってみてから考える。</p><p>うちの開発メンバーは半年前より見違えて課題管理に習熟したので次の開発がどうなるかが本当に楽しみだ。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0529/>エラーのラップと型階層</a></h1><div class=post-meta><time class=post-date>2023-05-29 (Mon.) ::</time></div><span class=post-tags>#<a href=/diary/tags/go/>go</a>&nbsp;
#<a href=/diary/tags/design/>design</a>&nbsp;
#<a href=/diary/tags/founding/>founding</a>&nbsp;</span><div class=post-content><p>0時に寝て何度か起きて7時に起きた。署名・押印を完了した相続の書類を朝一で郵便局へ言って送付した。これで後は弁護士さんや司法書士さんが残りの手続きをやっておいてくれるのかな？少し気が楽になった。</p><h2 id=ラップしたエラーのチェック>ラップしたエラーのチェック</h2><p>java でいうところの <a href=https://docs.oracle.com/javase/tutorial/essential/exceptions/chained.html>Chained Exceptions</a> を go では <a href=https://go.dev/blog/go1.13-errors>Wrap</a> という概念で表現する。Unwrap する interface を提供することで事実上の Chained Exceptions と同じようにオリジナルのエラーを辿ることができる。<a href=/diary/posts/2023/0527/#go-の学び直し>go はオブジェクト指向言語ではない</a> と先日の勉強会でも念押し確認してエラーの型階層という概念はないが、Wrap をみていると型階層の方が自然じゃない？と考えられなくもない。言語の設計を考えるよいお題だと思えた。</p><p>エラーチェックについては次の記事がわかりやすかった。</p><ul><li><a href=https://zenn.dev/msksgm/articles/20220325-unwrap-errors-is-as>Go の自作エラーを errors.Is と errors.As で wrap 元のエラーと識別するときには、Unwrap も実装しよう</a></li></ul><p>カスタムのエラーを定義する。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>MyError</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>message</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>err</span>     <span style=color:#66d9ef>error</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>e</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>MyError</span>) <span style=color:#a6e22e>Error</span>() <span style=color:#66d9ef>string</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>message</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;: &#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>err</span>.<span style=color:#a6e22e>Error</span>()
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>e</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>MyError</span>) <span style=color:#a6e22e>Unwrap</span>() <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>err</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>このチェックのために <a href=https://pkg.go.dev/errors>errors</a> パッケージに次の2つの関数がある。</p><ul><li>errors.Is: エラーのインスタンスが同じかどうか</li><li>errors.As: エラーの型に代入可能かどうか (事実上はインスタンスの型が同じかどうか？)</li></ul><p>たしかにこれでもすぐに実装できた。型階層なんかなくてもこれで十分でしょというのが go の意見かな。</p><h2 id=隔週の雑談>隔週の雑談</h2><p>顧問のはらさんと隔週の打ち合わせ。今日の議題はこれら。</p><ul><li><a href=/diary/posts/2023/0522/#サイトデザイン打ち合わせ>サイトデザインの話し</a></li><li>能をみにいく話し</li><li><a href=/diary/posts/2023/0526/#開発合宿の日程確定>冬の開発合宿の話し</a></li></ul><p>週末は勉強会と実家に帰るので余裕がなかったのであまりネタがなかった。能の話しをしていて、子どものときに関心がなかったものを大人になって受け取り方が変わるものがあるのはなぜか？という話題で雑談した。はらさんも落語がわかるようになったという話しをされていた。この話しはストレッチのトレーナーさんとも盛り上がった。</p><blockquote><p>子どもだともっている情報が少な過ぎて情報を理解できないのではないか？</p></blockquote><p>情報や知識を蓄積することで対象への解像度があがるにつれて、みる視点が変わったり、興味が変わったりすることはあるかもしれないなと聞いていて思えた。課題管理の話しをしても、多くの開発者は無関心だったり共感を得られなかったりするが、そこにも通じるものがあるのかもしれないとなにかしらの取っ掛かりになるかもしれないと思えた。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0528/>相続手続き書類の作成</a></h1><div class=post-meta><time class=post-date>2023-05-28 (Sun.) ::</time></div><span class=post-tags>#<a href=/diary/tags/life/>life</a>&nbsp;
#<a href=/diary/tags/drive/>drive</a>&nbsp;</span><div class=post-content><p>昨日は夕方に一度帰ってきて疲れてうたた寝して21時過ぎに晩ご飯を食べてそのままだらだらしてた。ドラクエタクトやりながら本を読みつつたぶん0時頃に寝て7時に起きた。</p><h2 id=相続の手続き>相続の手続き</h2><p>先日 <a href=/diary/posts/2023/0501/#弁護士さんと相続打ち合わせ>弁護士さんと打ち合わせ</a> した書類の正式版ができた。関係者が同意しないといけない。次の3つの書類が必要になる。この書類作成と委任作業で弁護士さんは遺産の 1.1% を報酬として受け取る。成年後見人を要すると財産が弁護士さんに接収される気分になる。</p><ul><li>民事委任契約書</li><li>遺産分割協議書</li><li>委任状</li></ul><p>これらに相続権をもつ関係者 (母・姉・私) が署名、実印押印して印鑑証明を添付する。今日はそのために朝から実家へ帰ってきた。往路の途中で <a href=https://product.starbucks.co.jp/food/pastry/>スターバックスのドーナツ</a> を3種3個ずつ購入した。本当はケーキにしようと思ったのだけど、保冷剤がないというので暖かいから諦めた。私はスターバックスのドーナツを食べたことがない。ミスドよりも高い価格帯になっているけれど、その分おいしいんやろか？姉は喜んでたのでおそらくおいしいのだろう。</p><p>往路で姉から書類を受け取って実家へ着いた。トラクターで田んぼを耕してほしいというのでそれから1時間半ほど耕して畝を作ってお昼になった。そこで母に署名、実印押印してもらった。生涯に2回しか発生しない手続きなので直接行ってやり取りするぐらいの手間暇をかけてもよいだろうという所感。葬儀の当初から姉は相続に懸念を示していてすんなり押印してくれないかとも思ったけど、もう書類まで出来上がったので諦めて相続する気になったみたい。とくに揉めることなく同意してくれた。</p><p>ついでに離れのスペースをオフィスにするための備品を運んだり設置されたばかりのエアコンもみてきた。エアコンさえあれば夏でも作業できるし泊まることもできる。あと足りないものは机と椅子。コワーキングスペースのようにするなら大きなテーブルを購入してもよいかもしれない。</p><h2 id=布施畑-jct-経由の迂回路>布施畑 JCT 経由の迂回路</h2><p>15時過ぎには神戸に戻ってきた。車があるとほんと便利。朝から実家へ帰って田んぼして戻ってきてもまだ夕方前だった。今日は <a href=https://kobe-matsuri.com/>第５０回神戸まつり</a> なので住んでいる地域がお祭りをしていた。高速道路も混雑していたと思うし、時間もあったので <a href=/diary/posts/2023/0212/#帰路>垂水 JCT を抜けて布施畑 JCT 経由の迂回路</a> を使って帰ってきた。距離的には少し遠回りになるけれど、マイナーなルートだけに車が少ないので速く走れるために時間的にはほとんど変わらない。</p><p>どこの分岐の違いでルートが変わるかを実際に走って覚えた。明石大橋を渡ってすぐのトンネルを抜けた後で左折すると垂水 JCT から名谷 JCT の通常のルート、直進すると布施畑 JCT のルートになる。明石大橋を渡っているときに高速道路の渋滞情報を聞いてどちらのルートを選択するかを判断すればよい。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0527/>go のジェネリクスと型の集合</a></h1><div class=post-meta><time class=post-date>2023-05-27 (Sat.) ::</time></div><span class=post-tags>#<a href=/diary/tags/life/>life</a>&nbsp;
#<a href=/diary/tags/go/>go</a>&nbsp;
#<a href=/diary/tags/design/>design</a>&nbsp;
#<a href=/diary/tags/programming/>programming</a>&nbsp;</span><div class=post-content><p>0時に寝て何度か起きて7時に起きた。22時頃に素麺を食べたら夜に吐き気がして食べるんじゃなかった。</p><h2 id=ストレッチ>ストレッチ</h2><p>今週はいつも通りの普通の1週間を過ごした感じ。休養していたわけでもなく負荷が高かったわけでもない。私の感覚的には右太もも後ろの筋と右腰の張りが強かった。トレーナーさん的には腰は大丈夫そうに言っていて、股関節全体の硬さは常態化しているものだけど、すねの筋もやや張りがあったように話していた。私の感覚とトレーナーさんの感覚がちょっとズレていた。今日の開脚幅は開始前154cmで、ストレッチ後158cmだった。一時期の3-4月の疲弊した状態ではないので一番悪い時期は脱したようにもみえる。</p><h2 id=go-の学び直し>go の学び直し</h2><p><a href=https://tenntenn.connpass.com/event/282717/>Gopher塾 #5 - ジェネリクスが書けるようになろう</a> に参加した。</p><p>すでにうちのプロダクトはジェネリクスを使った開発を行ってはいるけれど、私自身まだ曖昧なところがあったり、どういった設計がよいのかの手探り状態である。go はオブジェクト指向言語ではない (それ自体は構わない) ところが java のジェネリクスとは異なっていて、なにがその根本的な違いになっているのかを、私の中ではまだ理解できていなかった。その答えがこの勉強会に出てわかった気がする。もう少し独学して理論的に理解する必要はあるが、私に足りなかった知識が参加前よりも明確になったのでこの後の学習は容易に思える。</p><p>イベントではワークシートに自分で理解したメモや課題の回答を書き出すよう tenntenn さんが促していた。私はメモを自社の課題管理システムに書いていたのでワークシートには書いていないが、自分の理解を書き出すことの重要性は同意できる。tenntenn さんは次のように説明していた。</p><blockquote><p>概念や理解したことを自分の言葉で表現できるか？を確認するために書くことは大事。</p><p>もし書いた内容が間違っていても、間違ったことを認識できることにも意味がある。</p><p>つまり、学んだことを書くことは正しくても間違っていても得られるものがある。</p></blockquote><p>この考え方は私が提唱する課題管理にも通じている。なぜ書くかの理由の1つは自分の理解を整理するためでもある。そして、その文章を外部から監視できることで上長が助言できる。私にとっては習慣として身に付いた事柄ではあるけれど、改めてこういうことをチームのメンバーに啓蒙したり、開発ガイドに書いておくとよいように思えた。go の勉強会に参加して課題管理で学ぶことがあるとは思わなかった。よいこと尽くめだ。</p><p>閑話休題。本題のジェネリクスについて3割ぐらい知らないことがあった。私が java のジェネリクスと比べて go のジェネリクスを完全に理解できていなかったところの要因は <a href=https://go.dev/blog/intro-generics>型の集合 (Type sets)</a> の概念を理解できていなかったところに起因する。go ではジェネリクスを導入するにあたってインターフェースに型の集合という概念を導入した。それまでのインターフェースはメソッドの集合を管理するだけだったが、型の集合も管理できるようになった。また go には <a href=https://go.dev/ref/spec#Underlying_types>Underlying types</a> という概念が当初から存在したが、それを意識してプログラミングすることはなかった。これを日本語にすると「基底型」となるが、オブジェクト指向言語で言うところの基底型とはまったく異なる。なにせ継承できないのだから。インターフェースに型の集合として次の記述ができるようになった。Underlying types はこれまで概念としてしか存在していなかったのがチルダを用いた文法で表現できるようになったため、その理解も強いられるようになった。</p><p><a href=https://zenn.dev/nobishii/articles/99a2b55e2d3e50>Go の &ldquo;Type Sets&rdquo; proposal を読む</a> によると、現時点での型の集合とは次の2つを指す。</p><ul><li>~T approximation element (近似要素)</li><li>T | U union element (合併要素)</li></ul><p>union 型のようなものは他言語でもある概念なのでイメージしやすいが、Underlying types をチルダを使って指定するのは go 独自？の概念なので新たに学び直す必要がある。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0526/>開発の隙間の終わり</a></h1><div class=post-meta><time class=post-date>2023-05-26 (Fri.) ::</time></div><span class=post-tags>#<a href=/diary/tags/testing/>testing</a>&nbsp;
#<a href=/diary/tags/project-management/>project management</a>&nbsp;
#<a href=/diary/tags/issue-management/>issue management</a>&nbsp;
#<a href=/diary/tags/workcation/>workcation</a>&nbsp;</span><div class=post-content><p>1時に寝て何度か起きて7時に起きた。23時に帰ってきて一昨日にお土産にもらったロールケーキだけ食べてしまった。あかんねんけど、おいしかった。</p><h2 id=ドッグフードテストと運用談義>ドッグフードテストと運用談義</h2><p>リリースしたばかりのプロダクトを社内に導入するべくインフラ作業をしている。社内の管理者が運用を考慮していくつか質問がくる中で、開発側としても運用の考慮の足りないところがあったりして、実運用における不測の自体に対する運用を想定しておく必要がある。こういうやり取り自体が、開発者だけでは得られない知見なので貴重と言える。追加の検証をして、場合によってはなんらかの機能を作ったりする可能性もある。</p><p>ドッグフードテストは本当によく出来た仕組みだと思っていて、仮になにか大きな障害が発生してもそれはお客さんのところで発生する前に自社でみつけられればよかったと考えられる。もちろん障害がなければそれはそれで構わない。障害が発生してもしなくてもどちらも開発にとって大きな資産となる。いわゆる win-win のような関係と言える。開発視点から言えばドッグフードテストを行うと決めた時点でうちらはすでに勝っていると言えよう。</p><h2 id=プロダクト説明会>プロダクト説明会</h2><p>毎週やっているチーム勉強会の時間を使って社内向けにプロダクトの説明会を行った。リリースを終えて、その後のドキュメント作りやパッケージングの最適化なども行えた。インフラは十分に機能しているし、ドキュメントも一通り揃っていて、機能はまだまだ足りないけれど、プロダクトとしての体裁はうまくまとまっていると自画自賛している。リソースをかけた分だけスケールするといった開発体制に変化しつつある。おそらく私がマネージャーとして必要なのもあと3-6ヶ月といったところではないか？重要なことは <a href=/diary/posts/2023/0524/#開発方法論開発ガイドの更新>開発方法論/開発ガイド</a> に書いてあるし、課題管理 + イテレーション開発は特別なことをしなくてもうまくいくことも立証された。メンバーが私と同じように振る舞えば誰でもマネジメントはできるはずである。</p><p>来週からは次開発のマイルストーンに入っていく。メンバーが成長して私のマネジメント工数が減るようになってくれば、私も開発に入って下支えすればいいと考えている。まずは3ヶ月でどのぐらいの追加の機能開発が出来ていくのかを見定めたい。</p><h2 id=開発合宿の日程確定>開発合宿の日程確定</h2><p>そろそろ宿を予約しないといけない。<a href=/diary/posts/2023/0428/#開発合宿の計画づくり>冬の開発合宿</a> の予定を2024年3月1-3日に決めた。現時点で参加者は4名確定していて、前向きに検討してくれている人が3名いる。昨年が4名だったので倍増して今年は8名程で行ければいいなと希望をもっている。不特定多数に声をかけられるほどキャパシティはないけど、もう3人ぐらい声をかけてもよさそう。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0525/>c 言語の開発は chatgpt と共に</a></h1><div class=post-meta><time class=post-date>2023-05-25 (Thu.) ::</time></div><span class=post-tags>#<a href=/diary/tags/ldap/>ldap</a>&nbsp;
#<a href=/diary/tags/debug/>debug</a>&nbsp;
#<a href=/diary/tags/gpt/>gpt</a>&nbsp;</span><div class=post-content><p>1時に寝てやや吐き気で起きて休憩して3時ぐらいに寝たか寝てないかわからないうちに8時に起きた。ジンをたくさん飲んで帰ってきたのでうまく眠れなかった。</p><h2 id=カスタム-overlay-モジュールの改修>カスタム overlay モジュールの改修</h2><p><a href=https://www.openldap.org/doc/admin24/overlays.html>OpenLDAP Overlays</a> という機能がある。以前 ppolicy_hash_cleartext と <a href=/diary/posts/2023/0417/#openldap-のカスタム-overlay-モジュールのデバッグ>カスタム overlay モジュール</a> を組み合わせると ppolicy が平文パスワードをハッシュ化してしまって、自分たちのカスタム overlay モジュールから平文パスワードを取得できないことをデバッグで検証した。ppolicy_hash_cleartext の機能が必要なのかどうかが私はよくわかっていないけど、協調して自分たちのカスタム overlay モジュールが動くならそれに越したことはない。</p><p>gdb でデバッグして振る舞いと対応方法が分かったところで issue を作成していた。メンバーが暇だったらやってくれるかな？と思っていたら誰も手をつけないみたいなので私がやろうと決めた。最早、私は c 言語をなんも分からんのやけど、chatgpt に質問しながら教えてもらえる。例えば、c 言語についてもこんな感じにヒアリングしながら実装する。</p><blockquote><p>Q. c 言語で関数の最初に変数を宣言するのと、実際に変数を割り当てるところで宣言するのでなにか振る舞いが違ったりしますか？どちらの方がよいのでしょうか？</p></blockquote><blockquote><p>C言語は伝統的に変数のスコープとライフタイムを管理するために、ブロック（通常は関数または制御構造内）の先頭で変数を宣言するスタイルを採用してきました。しかし、C99標準以降では、変数はその使用が初めて必要となる場所で宣言できるようになりました。
これら2つのスタイルの違いは、主にスコープ、可読性、そしてある程度はパフォーマンスに関連しています。</p><p><strong>スコープとライフタイム</strong></p><p>関数の先頭で変数を宣言すると、その変数は関数全体で使用できます。これは必要に応じて変数を再利用できるという利点がありますが、一方でスコープが広くなりすぎて変数の使用を追跡しにくくなるという欠点もあります。
一方、変数を使用が必要となる場所で宣言すると、その変数のスコープとライフタイムはその場所からブロックの終わりまでに制限されます。これは、変数の使用をより明確にし、未使用の変数を避けるという利点があります。</p><p><strong>可読性</strong></p><p>変数を使用が必要となる場所で宣言すると、その変数の目的と使用方法がより明確になるため、コードの可読性が向上することが多いです。一方で、関数の先頭で変数を一括して宣言すると、変数の目的が明確でない場合や、それらがどのように使用されるのかを追跡するのが難しくなることがあります。</p><p><strong>パフォーマンス</strong></p><p>パフォーマンスについては、現代のコンパイラは非常に高度に最適化されているため、変数の宣言場所がパフォーマンスに直接的な影響を及ぼすことはほとんどありません。</p><p><strong>結論</strong></p><p>どちらのスタイルを選ぶかは、主にプログラミングスタイルやチームのコーディング規約、または特定のタスクに対する特定の要件に依存します。しかし、変数を使用が初めて必要となる場所で宣言するスタイルは、コードの可読性を向上させ、変数のスコープとライフタイムを制限するという利点から、一般的には推奨されています。これにより、コードの可読性が向上し、変数の使用範囲が明確になるため、コードの理解と保守が容易になります。</p></blockquote><p>そっか。C99 で変数宣言の制約が撤廃されたんだということを学んだ。そんな感じで openldap についても chatgpt にヒアリングしながら開発したら意外とすんなり実装できてローカルでは動いた。レビューまでできた。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0524/>クラフトジン: YOHAKHU</a></h1><div class=post-meta><time class=post-date>2023-05-24 (Wed.) ::</time></div><span class=post-tags>#<a href=/diary/tags/project-management/>project management</a>&nbsp;
#<a href=/diary/tags/issue-management/>issue management</a>&nbsp;
#<a href=/diary/tags/event/>event</a>&nbsp;
#<a href=/diary/tags/coworking/>coworking</a>&nbsp;
#<a href=/diary/tags/drink/>drink</a>&nbsp;</span>
<img src=/diary/img/2023/0524_yohaku.jpg class=post-cover alt="クラフトジン: YOHAKHU" title="Cover Image"><div class=post-content><p>遅く帰ってきたわけではないが、うまく眠れなくて3時に寝て7時に起きた。</p><h2 id=開発方法論開発ガイドの更新>開発方法論／開発ガイドの更新</h2><p>今週が開発の谷間の最後の週。毎週いろいろ資料を作ったり、あちこちのドキュメントを更新したりしていた。最後に残ったものの1つ (を2つに分割した) として、うちのプロダクト開発における開発方法論と開発ガイドを仕上げた。開発方法論は開発のマネジメント手法やプロセスの概念などを抽象的な表現で説明したもの。簡単に言えば、アジャイル開発とかスクラムとか、そういった概念の説明やなぜそれが大事なのかの意図や背景を説明したドキュメントになる。当初はこの1つしかなかったのだけど、実際に課題管理システムを使ってイテレーション開発をする具体的な話しと抽象的な話しを一緒に書くのはまとまりが悪いように思えてきた。抽象的な内容と実務に近い内容は分けて書くことにした。</p><ul><li>開発方法論: プロダクトで採用している開発方法論の概念をまとめる</li><li>開発ガイド: 開発方法論を具体的に実践する方法についてまとめる</li></ul><p>例えば、開発ガイドにはマージリクエストの運用について書いてある。どこの会社へ行っても私は次のような「マージリクエストを作成しなくてよいもの」という文章を書いている。</p><blockquote><p>すべての修正にマージリクエストを要求すると開発がとても遅くなる。それは人間が介在するトコロがもっともコストを要求するからである。とくにコミュニケーションコストは開発の中でも最も大きいコストの1つである。レビューしなくてもコミット履歴は誰でも把握できる。修正内容が気になる開発者は自分でコミット履歴を確認すればよい。</p><p>従ってレビューの必要がないと想定される修正は直接 main ブランチに push してよい。例えば、軽微な修正は CI/CD の自動化により品質を担保できるように努める。テストを失敗させる修正を push してしまったとしてもデプロイできないために障害を発生させることはない。</p><p>この運用は軽微な修正だと思って push したものが不具合を発生させてしまうリスクを許容している。そのときは気付きの学びとして「ごめんなさい」で終わらせる。稀に不具合を発生させることよりも、開発の速度を上げる方を優先する。</p></blockquote><h2 id=カフーツさんイベント>カフーツさんイベント</h2><p><a href=https://www.facebook.com/events/1411909236316752/>カフーツ13周年Jelly〜カクサク（やりたいこと宣言）第1弾〜</a> に参加した。私がカフーツさんへ遊びに行ったときに人がたくさんいたことはない。記念イベントだったので参加者多いかな？と思って行ってみた。10人ぐらいいた。参加者の大半は私と同じぐらいか、それ以上の年配の方にみえた。やや年齢層が高め。13年やっているコミュニティなので同じぐらい歳をとったんだと思う。みんなでわいわい話しながら0時前まで飲んでた。ここ行くと基本飲み会w</p><p><a href=https://www.yohakhu.jp/>YOHAKHU</a> というクラフトジンがあってロックと炭酸割りで4-5杯ほど飲んでいた。これまでジンをあまり飲んだことがないので、普通のジンとの比較はできないが、強烈なインパクトのある風味で圧倒されてしまった。おいしいかどうかというよりもこれは強烈やなぁという所感が先にくる。さらに「余白」という名前がよい。いとうさんに影響を受けて私が「ゆとり」と呼んでいた概念にいくつか補強がされて、最近は私も余白という言葉を気に入って使っている。人生に必要な余白を忘れない飲みものがこれだと言えるかもしれない。なんだか酔っ払ったようなコメントになってしまった。</p></div></article><div class=pagination><div class=pagination__buttons><a href=/diary/posts/page/2/ class="button next"><span class=button__text>過去の日記</span>
<span class=button__icon>→</span></a></div></div></div></div><footer class=footer><div class=footer__inner><div class="copyright copyright--user"><span>© 2021 Tetsuya Morimoto</span>
<span>:: Theme made by <a href=https://twitter.com/panr>panr</a></span></div></div></footer><script type=text/javascript src=/diary/bundle.min.js></script></div></body></html>