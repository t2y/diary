<!doctype html><html lang=en><head><title>Posts :: </title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=/diary/posts/><link rel=stylesheet href=/diary/styles.css><link rel=stylesheet href=/diary/style.css><link rel="shortcut icon" href=/diary/favicon.ico><meta name=twitter:card content="summary"><meta name=twitter:site content="t2y"><meta name=twitter:creator content><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:title" content="Posts"><meta property="og:description" content><meta property="og:url" content="/diary/posts/"><meta property="og:site_name" content><meta property="og:image" content="/diary/favicon.ico"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><link href=/diary/posts/index.xml rel=alternate type=application/rss+xml title></head><body class=green><div class="container full headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=/diary><div class=logo>forest nook</div></a></div><ul class="menu menu--mobile"><li class=menu__trigger>Menu&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=/diary/about>自己紹介</a></li><li><a href=/diary/dates>月別一覧</a></li><li><a href=/diary/tags>タグ一覧</a></li></ul></li></ul></div><nav class=navigation-menu><ul class="navigation-menu__inner menu--desktop"><li><a href=/diary/about>自己紹介</a></li><li><a href=/diary/dates>月別一覧</a></li><li><a href=/diary/tags>タグ一覧</a></li></ul></nav></header><div class=content><div class=posts><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/1229/>2回目の仕事納め</a></h1><div class=post-meta><time class=post-date>2023-12-29 (Fri.) ::</time></div><span class=post-tags>#<a href=/diary/tags/founding/>founding</a>&nbsp;
#<a href=/diary/tags/management/>management</a>&nbsp;
#<a href=/diary/tags/eltax/>eltax</a>&nbsp;
#<a href=/diary/tags/event/>event</a>&nbsp;
#<a href=/diary/tags/food/>food</a>&nbsp;
#<a href=/diary/tags/community/>community</a>&nbsp;
#<a href=/diary/tags/coworking/>coworking</a>&nbsp;
#<a href=/diary/tags/issue-management/>issue management</a>&nbsp;</span><div class=post-content><p>2時に寝て何度か起きて7時過ぎに起きてゲームして10時ぐらいからオフィスに出掛けた。</p><h2 id=年末の事務手続き>年末の事務手続き</h2><p>年末調整と給与支払報告書の作成を行った。年末は平時の月末と異なるからわちゃわちゃしてたら25日の給与の支払いも忘れていた。いや、忘れていたというよりは年末調整を12月分の給与で調整したいから年末調整を完了しないと給与確定できないと放置していた。今日は金曜日で平日だからシステムは稼働しているだろうと安易に考えていたら eltax も e-tax も稼働日を次のように書いてあった。</p><blockquote><p>土・日・祝日、年末年始12/29～1/3は除く</p></blockquote><p>eltax のアプリケーションで書類データは作成できたけれど、作成したデータを送信することはできなかった。年明けの4日まで持ち越し。こういう失敗が最近増えてきた。がっかりして嫌になる。あと eltax や e-tax の運用停止時間に遭遇することが私はとても多い。月に1回も使わないようなシステムなのに年間で2-3回ほどは使えない時間に遭遇する。それは当たり前で、私が余裕のある時間は早朝・深夜と休日になるため、メンテナンスの日程と重なることが多い。システムは基本的に24時間365日動いていないとダメだということがわかる。なにかトラブルがあったときの運用対応は年明けでも構わないが、定型的なデータ処理は24時間365日できるはずだと思う。</p><p>その後に自社の請求書を作成したり、他社の請求書の対応や会計の明細登録などをしていた。キャッシュフローも眺めていて <a href=/diary/posts/2023/0331/>今季はもともと赤字想定で予算策定</a> していたが、受託開発のお仕事が長引いて黒字決算で着地する予定。あと3ヶ月しかないのでブレることもないだろうと思う。本当は今季に事業の体制変更もやらないといけなかったことが来季へずれ込む。計画通りに進捗していないという面からは、いろいろあって事業も経営もあまりうまくいっていない。</p><h2 id=カフーツさんの忘年会>カフーツさんの忘年会</h2><p>初めての参加。昨年も参加する予定が <a href=/diary/posts/2022/1226/>父の訃報</a> があってドタキャンしたのでリトライ。手土産に <a href=https://issindo-osaka.com/>一心堂</a> のフルーツ大福をもっていくことにした。神戸の阪急百貨店にお店があったのでてっきり神戸発祥のお店かと思ったら大阪発祥だった。種別によって値段は異なるが、だいたい1個410-640円 (税抜き) ぐらい。9個入の詰め合わせにしてもらった。</p><figure><img src=/diary/img/2023/1229_daihuku.jpeg></figure><p>他に持ち寄りであった食べものに <a href=https://www.ikkanrou.jp/>三宮一貫樓</a> のちび豚まんと焼売を撮った。神戸に住み始めて商店街の一角にあるのは知っていたのだけど、神戸の名物の1つだと知ったのは住み始めて2-3年経ってからだった。勉強会の食べものの定番はピザだけど、神戸なら一貫楼の <a href=https://www.ikkanrou.jp/items/394>中華パーティーセット</a> (送料/消費税込みで10,750円) などを頼むのもよいのかもしれない。</p><figure><img src=/diary/img/2023/1229_ikkanrou.jpg></figure><h2 id=コミュニティとコワーキングの違い>コミュニティとコワーキングの違い</h2><p>いとうさんと話していて、以前よりコミュニティとコワーキングの違いが明確になった。私の中では似て非なるものという考えはあったものの、あまり違いを明文化できていなかった。</p><p>コミュニティマネージャーと <a href=https://www.coworkingmgr.com/>コワーキングマネージャー</a> では求められるスキルセットが大きく異なる。キャリアとしてもコワーキングマネージャーの方がずっと難易度の高いものであるように話されていた。集合で言えば、コワーキングマネージャーはコミュニティマネージャーのスキルセットを含む。コミュニティマネージャーは私も身近なものだし、コミュニティマネージャー (会社によっては DevRel と呼ばれたりもする) を社員として雇用する会社も増えてきた。会社に雇われるコミュニティマネージャーというキャリアは、その会社のサービスやプロダクトのコミュニティを盛り上げたり宣伝したりといったマーケティング活動の一環とみなされることが多い。一方でコワーキングマネージャーというのは、会社に雇われるというよりもコワーキングスペースや地域のようなコミュニティに根付くものかもしれない。</p><p>コミュニティというのは、それ自体を1つの意思をもった人のように扱い、そこに集まる人たちがコミュニティの思想にあうよう1つにまとまって活動する、協調するといった趣きが強い。そのため、コミュニティマネージャーはコミュニティの理念にあうようメンバーをまとめたり、逆にあわない人たちを排除することもある。一方、コワーキングというのは、個々がそれぞれの背景をもち、得意・不得意があり、性格や思想も様々で多様な価値観をもつ人たちが集まり、それぞれの特性を活かした上で協調するといった趣きがある。そして、コワーキングマネージャーは個々人にあわせたホスピタリティを提供するという。これは主従において大きな違いの1つでもあると理解できた。コミュニティはそれ自体が主でその理念にメンバーが従う。コワーキングは個々が主でその人たちが協調するかどうかはそれぞれのコワーカーの判断に委ねられる。そして、コワーカー同士が協調しやすいように縁の下で支えるのがコワーキングマネージャーだという。コワーキングマネージャーは、訪れたコワーカーとコミュニケーションを取る中で、一緒に考え、相談にのり、そして答えや結論を出さなくてもよいという。コワーカーと一緒に考えてあげるだけでよいというのだ。どこかに落とし所に着地させたり、全体をまとめたりしないという点がコミュニティマネージャーと大きく異なる。</p><p>そこで素朴な疑問。コワーキングマネージャーが個々人に向き合うとしたら、そこには <a href=https://ja.wikipedia.org/wiki/%E3%83%80%E3%83%B3%E3%83%90%E3%83%BC%E6%95%B0>ダンバー数</a> (100-150人？) のように人間の認知能力の限界が出てくる。数千人や数万人が所属するコミュニティも存在するが、コミュニティといった枠組みで集団を抽象化して管理できなければ認知能力に限界がある。次の問いを投げかけてみた。</p><blockquote><p>コワーキングマネージャーが個々人にホスピタリティを提供するとしたら、小さい規模や小集団でしか機能しないのではないか？スケールしないのではないか？</p></blockquote><p>いとうさんが言うには、この弱点を補うのがツールの力だという。コワーキングマネージャーのチームを作り、コワーカーそれぞれと話した内容やその人の背景や特性、いまやっていることなどを記録し、その記録をチーム内で共有する。これなら個人の認知能力を拡張できるし、コンテキストを引き継いだ上で初めて会うコワーキングマネージャーとコワーカー間におけるホスピタリティも担保できるかもしれない。</p><p>ここまで聞いて、これはまさに私が開発の現場でやっている課題管理そのものだということに気付いた。日々の開発のアクティビティを課題管理システムにコメントとして記録し、そのタイムラインをメンバー全員で共有しながら、リアルタイムに必要なコミュニケーションをもって相互に情報共有または協調するといったことを、まさに私のチームでは実践している。これをコワーキングスペースにいるコワーキングマネージャー間で行う、もっと言えば、複数のコワーキングスペース間で共有できれば、それはさらに大きなホスピタリティになるのかもしれない。別のコワーキングスペースへ行っても、自分の背景が共有されていて、よりよいホスピタリティを受けることができるのかもしれない。</p><p><a href=/diary/posts/2022/0618/>初めてカフーツさんに訪問したのが2022年6月</a> だった。当時いとうさんと話してみて、課題管理に通じるところがあると直感的に感じて、その後、やり取りを継続してきて、1年半経った。ようやくコワーキングと課題管理がつながった。いとうさんからみれば、課題管理とはコワーキングマネージャーが備えるべきホスピタリティの延長上にあるチームで協調するための概念なのだと思う。そして、私からみれば、コワーキングとは課題管理そのものなんだと理解できた。</p><p>課題管理システムの利用状況を表すメトリクスの1つに <a href="https://developers.google.com/chart/interactive/docs/gallery/calendar?hl=ja">カレンダーチャート</a> がある。これがいま課題管理を知らないチームでその実践を指導する上で想定外に役に立つことがわかった。この他にも課題管理特有のメトリクスを増やしていきたいと私は考えていた。そのアイディアの1つに「コワーキングチャート」というものを作ろうと思う。おそらく世の中にはないし、課題管理とコワーキングの両方を研究している人にしか、この発想は出てこないと思う。来年、他社のお手伝いを終えた後のアイディアの1つに寝かしておこうと思う。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/1228/>年末のデスクワーク</a></h1><div class=post-meta><time class=post-date>2023-12-28 (Thu.) ::</time></div><span class=post-tags>#<a href=/diary/tags/communication/>communication</a>&nbsp;
#<a href=/diary/tags/slack/>slack</a>&nbsp;
#<a href=/diary/tags/coworking/>coworking</a>&nbsp;
#<a href=/diary/tags/workcation/>workcation</a>&nbsp;
#<a href=/diary/tags/founding/>founding</a>&nbsp;
#<a href=/diary/tags/finance/>finance</a>&nbsp;</span><div class=post-content><p>0時に寝て何度か起きて気分が悪くて吐きそうになりながら7時過ぎに起きた。昨日は飲み過ぎた。やはり年末でだらけているのでオフィスへ出勤したのが9時44分だった。</p><h2 id=slack-コネクト>slack コネクト</h2><p>昨日の <a href=/diary/posts/2023/1227/>税理士さんとの打ち合わせ内容</a> の1つに chatwork のフリープランの <a href=https://help.chatwork.com/hc/ja/articles/900001118283#1>メッセージの閲覧制限</a> への対応がある。以前は制限がなかったらしいが、どこかのタイミングで40日制限に変更されたという。slack もフリープランは3ヶ月に制限しているので世の中の流れとしては仕方ないのかもしれない。それはともかく、chatwork に (先方の負担で) 課金するか、<a href=https://slack.com/intl/ja-jp/connect>slack コネクト</a> へ移行するかの相談をしたら slack でも構わないという。先方も slack を有料プランで事務所内では使っているという話しだった。問題提起してヒアリングしてみたらなんのコストもなく移行できることがわかった。</p><p>早速、今日、調べて税理士さんを招待した。その際に社外の個人アカウントを使って slack コネクトの振る舞いも検証した。slack コネクトのよいところは次になる。</p><ul><li>通常のメンバー同様、slack コネクトで招待したメンバーはチャンネル、プライベートチャンネル、ダイレクトメッセージを使える</li><li>自分のワークスペースに他組織のワークスペースのチャンネルを追加できる (<strong>参加するワークスペースが増えない</strong>)</li><li>チャンネル名、トピック、説明はそれぞれのワークスペース管理となる<ul><li>とくにチャンネル名を自組織のワークスペースの都合で名前を付けられるのがよいと思う</li></ul></li></ul><p><a href=https://slack.com/intl/ja-jp/help/articles/115002422943-%E7%84%A1%E6%96%99%E3%83%AF%E3%83%BC%E3%82%AF%E3%82%B9%E3%83%9A%E3%83%BC%E3%82%B9%E3%81%AB%E8%A8%AD%E5%AE%9A%E3%81%95%E3%82%8C%E3%81%A6%E3%81%84%E3%82%8B%E4%BD%BF%E7%94%A8%E5%88%B6%E9%99%90>無料ワークスペースに設定されている使用制限</a> によると、フリープランは slack コネクトを利用できない。invitation を送るとフリープランでも接続できるが、それは pro のトライアルになるため、3ヶ月だけ使えるみたい。</p><h2 id=開発合宿の打ち合わせ>開発合宿の打ち合わせ</h2><p>先日 <a href=/diary/posts/2023/1224/>作成した旅のしおり</a> を使って開発合宿の打ち合わせをした。打ち合わせをする前に見直していると、いくつも不備や誤りに気付いて1時間前ぐらいから修正したりしていた。私の作る資料は手直ししないと小さい誤りがいくつもある。参加者は現時点で7名で、いまのところ、これ以上増える見込みはない。昨年は4名だったのでおよそ2倍に増える。きのいえは9名まで宿泊できるようにみえる。神戸組4人に対して関東組は3人参加してもらえる。関東からわざわざ来てもらえるのは本当にありがたい。このぐらいの規模で数年継続できるような仕組みや体制を作るのが当初の目標でよい気がする。昨年は初めてだったので手探りだったが、今年は2回目なのでもう少し段取りやノウハウを使ってうまく運営できればと思う。</p><p>みんな時間通りに打ち合わせに集まってくれて、自己紹介して、主旨を説明して、大雑把なタイムスケジュールを紹介して、質疑応答をした。私の知人に声をかけているので神戸組と新規参加の関東組とはまったく面識がない。そういった人たちを少しでも話しやすいよう話題を設けたり、きっかけを作ったりすることがコミュニティマネージャーとしては求められる。別に私がコミュニティマネージャーを目指しているわけでもないが、コワーキングやコミュニティの価値の実践的なものを理解していく上で避けられないと考えている。私自身コミュ障で他人と話したくない人間なので、役割としてやらないといけないというポジションに追い込むことでその機会を得ていると言える。あと2ヶ月、詳細の詰めをしていく段階に入ってきた。</p><h2 id=マネーの虎たちのその後>マネーの虎たちのその後</h2><p>たまたまみたらおもしろかった。昔リアルタイムでみていた。いまの感覚でみればハラスメントやら人格否定しまくりの時代背景の史料の1つも思える。そのときボロクソに言っていた社長たちもその後破産している社長は多いみたい。そして、すごいのが数十億といった負債を抱えて破産してもまたやり直して復活している社長もいるということ。その再起のきっかけにセミナーや講演をしてマネーの虎を宣伝文句として使っているところが本当にダサいとは思うけど、そういったなりふり構わず売上を上げるためなら何でもやるといった姿勢が復活するためのバイタリティになっているのかもしれない。昭和世代のハングリー精神のようなものを感じる。</p><div class=video-container><iframe src=https://www.youtube.com/embed/VOTyYGjUm4M allowfullscreen title=【ゆっくり解説】マネーの虎で出場者をボロクソに批判した社長達の末路６選></iframe></div><p>その中でも南原竜樹さんがすごい。年商100億の会社が取引会社の突然の倒産から資金繰りが悪化して破産して、2年かけてすべての負債 (20億円) を返済して、ホームレスになってからまた再起してまた年商100億まで復活したらしい。経営能力がある人はゼロから成功できるというのがよく分かるモデルケースにみえる。失敗して門前払いする人がいる一方、助けてくれる人もいたみたい。</p><ul><li><a href=https://www.moneypost.jp/966227>元『￥マネーの虎』南原竜樹さん 年商100億円社長が45歳でホームレスに転落、どん底からの復活劇</a></li></ul><blockquote><p>一方で、手を差し伸べてくれる人もいた。中でもありがたかったのは、旧知の社長が会社の空きスペースの提供を申し出てくれたことだ。すべてを失った南原さんは、間借りしたオフィスで「過去の成功にとらわれず、心を入れ替えて再出発する」ことを心に誓った。</p></blockquote><blockquote><p>「僕は、“老害化”した経営者をたくさん見てきました。高齢になった経営者がいきなり頓珍漢なことを言い出して、周囲を困惑させるケースも少なくない。だからちょっと早めに準備して、いろんな方に事業を引き継いでもらいました。(&mldr;中略&mldr;) 頭も体もしっかりしているうちに、自ら退くのが一番なんです」</p></blockquote><blockquote><p>手持ちの資金はゼロだったので昼夜を問わず働いた。<br>「資金を得るためにオートバックスで8時間、吉野家で8時間、モービル石油で8時間バイトして、吉野家ではお客さんがいない時に立ったまま寝ていました（笑）。</p></blockquote></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/1227/>一周まわって飲み会も大事</a></h1><div class=post-meta><time class=post-date>2023-12-27 (Wed.) ::</time></div><span class=post-tags>#<a href=/diary/tags/founding/>founding</a>&nbsp;
#<a href=/diary/tags/tax/>tax</a>&nbsp;
#<a href=/diary/tags/drinking/>drinking</a>&nbsp;</span><div class=post-content><p>0時に寝て何度か起きて7時過ぎに起きた。9時までにはオフィスへ行くつもりが、気が緩んで9時はまわっていたと思う。年末でだらけている。</p><h2 id=税理士さんとの打ち合わせ>税理士さんとの打ち合わせ</h2><p>この3ヶ月ほど <a href=/diary/posts/2023/1208/#隔週の雑談>税理士さんとやり取り</a> してきた懸念事項の共有または改善も含め、<a href=https://www.nta.go.jp/law/joho-zeikaishaku/sonota/jirei/tokusetsu/index.htm>電子帳簿保存法</a> への対応の打ち合わせをしてきた。打ち合わせのため、姫路市にある税理士さんの事務所を訪問してきた。オンラインでできないわけではなかったが、1度も直接会ったことがなかったので、こちらの言い分や相手の言い分も気兼ねなく出し合う機会にしようと思って出掛けた。打ち合わせ後に一緒に晩ご飯を食べに行って、その後も2件飲み屋さんをはしごして、結果的には親睦を深めてお互いの考え方や人間性などを理解する機会になってよかったと思う。17時から22時まで飲み歩いてた。古い時代の人間関係では当たり前だったことが、いまどきの付き合いでは珍しいことかもしれない。</p><p>晩ご飯は <a href=https://tabelog.com/hyogo/A2805/A280501/28013652/>プロ酒場</a> というお店を紹介してもらった。路地裏の隠れた場所にあって地元の人が行くお店って感じだった。「プロ」はプロフェッショナルではなく、労働者を指す <a href=https://ja.wikipedia.org/wiki/%E3%83%97%E3%83%AD%E3%83%AC%E3%82%BF%E3%83%AA%E3%82%A2%E3%83%BC%E3%83%88>プロレタリアート</a> に由来するという。</p><p>あまり先方からはどういった運用をしたいという考えや既存のワークフローはないようで、ほぼこちらの言い分は通って改善へ向けての最初の切り口として収穫は大きかった。実際にそういった運用ができるかどうかはこれから徐々に実践して取り組んでいく。当社としてもこちらの要望だけを主張するつもりはなく、先方の状況や考えも聞いた上でお互いに合意できるところを探っていきましょうと伝えた。業務をうまくまわすために協調しましょうということは理解してもらえたのではないかと思う。</p><h2 id=姫路駅の雰囲気>姫路駅の雰囲気</h2><p>姫路駅の北側には姫路城がそびえている。駅を降りるとすぐに姫路城が目に入るようになっている。そして観光客向けのお店とアーケード街のお店も並んでいて、それほど人がいるわけではないけど活気がある。20分ほど駅から北側へ歩くと姫路城に辿り着く。</p><figure><img src=/diary/img/2023/1227_himeji-castle1.jpg></figure><figure><img src=/diary/img/2023/1227_himeji-castle2.jpg></figure><p>駅の南側はうってかわってオフィス街となっている。ビルが立ち並びお店などはあまりない。駅の南北で役割分担をしているような、おそらく都市計画でそういった整備が行われているのだと推測する。税理士さんの事務所まで、姫路駅から徒歩20分ぐらい歩いた。あらかじめ調べた上で歩いたわけだけど、それでもやや遠かった。体力が落ちていて駅から徒歩20分とか、普通には歩けないようになりつつあるのかもしれない。帰りはタクシーを使ったら運賃が1300円だった。三ノ宮から姫路まで JR で990円なのにこの距離で1300円なのかとか、いろいろ思うことがあるな。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/1226/>1回目の仕事納め</a></h1><div class=post-meta><time class=post-date>2023-12-26 (Tue.) ::</time></div><span class=post-tags>#<a href=/diary/tags/project-management/>project management</a>&nbsp;
#<a href=/diary/tags/issue-management/>issue management</a>&nbsp;</span><div class=post-content><p>1時に寝て何度か起きて7時過ぎに起きた。寒くてなにもできない。</p><h2 id=定例会議>定例会議</h2><p>年末という追い込みもあってか、このマイルストーンで対応した issue 数も多くて、ふりかえりの内容や議論する内容がいつもの定例よりも多かった。1時間の会議時間を20分ほどオーバーしながら定例会議を終えた。</p><p><a href=/diary/posts/2023/1211/#テックブログを読む会>テックブログを読む会</a> の調査報告をして年明けぐらいから社内でもやってみようかという話しをしていて、メンバーから開発が忙しいから勉強時間が取れないといった意見が出た。これは課題管理の文脈で取り組むよい問いに思えた。一番勉強しないといけないメンバーから出た意見でもあった。私の過去の経験則でもこの類の発言はスキルの高い開発者からは出ない。それは勉強することの価値を理解しているからだと推測する。</p><p>いまテスト駆動開発はどちらかと言うと文化に近いと言われる。その所以はテストを書かないから開発が遅くなるということをヒューリスティックもしくは経験則として理解している開発者が多いからだと私は考えている。現実のシステム開発でテストを書かないと開発と、テストを書く開発を定量的に評価したり比較することは相当に難しい。事実上そんなことはできない。なぜならば、業務はそのどちらか一方しか選択できないからだ。だから、これは開発者の感覚としてテストを書いて当たり前だという文化をもって、その実益もあると信じて業務に組み込むしかない。だから文化と言われる。それと同じで開発や技術の勉強をせずに、目の前の開発だけやっていてもスキルアップできないのは経験を積んだ開発者からみたら自明だが、それをどう伝えていくか、もしくはその気付きを課題管理の文脈で与える仕組みはないかな？と考えていたりした。</p><h2 id=納会>納会</h2><p>今日はお手伝い先の仕事納めになる。私もそれにあわせて15時半にはお仕事を終えて退勤した。1人だけ働いていてもテンションが上がらないかなと思ってそうした。その後、お手伝い先の納会途中の写真がアップされていてスマブラやりながらのほほんしていたみたい。</p><blockquote><p>納会：何かの出来事や物事が終わった時に締めくくりとして催す会</p></blockquote><p>昔から会社の納会ってなんの意味があるのだろう？と思っている。だいたいお疲れ様でしたって感じで軽食とお酒があって、それを飲み食いしたらすぐ帰る人もいれば、そのまま残って雑談してから帰る人もいる。いつ帰ってもよい流れ解散となる。会社によってもやり方は異なるのだと思うけど、どうせイベントをやるならもうちょっとちゃんとやったらいいんじゃないかと思わないでもない。だらだらしたイベントが納会ってイメージすらある。</p><p>本当は夕方から明日の打ち合わせの議題を整理しようと思っていたものの、夕方から急にお腹が痛くなって、帰ってお腹を下して寝ていた。お昼に食べたもののせいかもしれない。寝ていたら直ったのでそんな大したことはないみたい。うちの会社の業務としてはいつも通りで29日までは働く予定。ちょうどカフーツさんの忘年会が29日17時からあるのでそれを２回目の仕事納めにするのがよさそう。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/1225/>RemoteAddr はほとんど役に立たない</a></h1><div class=post-meta><time class=post-date>2023-12-25 (Mon.) ::</time></div><span class=post-tags>#<a href=/diary/tags/go/>go</a>&nbsp;
#<a href=/diary/tags/design/>design</a>&nbsp;
#<a href=/diary/tags/security/>security</a>&nbsp;</span><div class=post-content><p>0時に寝て何度か起きて7時に起きた。寒くて朝起きれなくなってきた。</p><h2 id=ローカルネットワークからのリクエストのみを受け付けるミドルウェア>ローカルネットワークからのリクエストのみを受け付けるミドルウェア</h2><p><a href=https://pkg.go.dev/net/http#Request>Request</a> 構造体の中にある <code>RemoteAddr</code> を参照すればすぐできるだろ思って、すぐにできた。すぐにできたんだけど、これは実際の運用で使えるものではない。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>LocalNetworkConfig</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Skipper</span> <span style=color:#a6e22e>middleware</span>.<span style=color:#a6e22e>Skipper</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>localNetworkWithConfig</span>(<span style=color:#a6e22e>cfg</span> <span style=color:#a6e22e>LocalNetworkConfig</span>) <span style=color:#a6e22e>echo</span>.<span style=color:#a6e22e>MiddlewareFunc</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>next</span> <span style=color:#a6e22e>echo</span>.<span style=color:#a6e22e>HandlerFunc</span>) <span style=color:#a6e22e>echo</span>.<span style=color:#a6e22e>HandlerFunc</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>c</span> <span style=color:#a6e22e>echo</span>.<span style=color:#a6e22e>Context</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>cfg</span>.<span style=color:#a6e22e>Skipper</span>(<span style=color:#a6e22e>c</span>) {
</span></span><span style=display:flex><span>				<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>next</span>(<span style=color:#a6e22e>c</span>)
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>req</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>Request</span>()
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>addr</span>, <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>net</span>.<span style=color:#a6e22e>SplitHostPort</span>(<span style=color:#a6e22e>req</span>.<span style=color:#a6e22e>RemoteAddr</span>)
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>slog</span>.<span style=color:#a6e22e>Error</span>(<span style=color:#e6db74>&#34;failed to get remote address&#34;</span>,
</span></span><span style=display:flex><span>					<span style=color:#e6db74>&#34;err&#34;</span>, <span style=color:#a6e22e>err</span>, <span style=color:#e6db74>&#34;addr&#34;</span>, <span style=color:#a6e22e>addr</span>)
</span></span><span style=display:flex><span>				<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>echo</span>.<span style=color:#a6e22e>ErrForbidden</span>
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>ip</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>net</span>.<span style=color:#a6e22e>ParseIP</span>(<span style=color:#a6e22e>addr</span>)
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>ip</span>.<span style=color:#a6e22e>IsPrivate</span>() <span style=color:#f92672>||</span> <span style=color:#a6e22e>ip</span>.<span style=color:#a6e22e>IsLoopback</span>() {
</span></span><span style=display:flex><span>				<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>next</span>(<span style=color:#a6e22e>c</span>)
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>slog</span>.<span style=color:#a6e22e>Error</span>(<span style=color:#e6db74>&#34;requested from an external network&#34;</span>, <span style=color:#e6db74>&#34;ip&#34;</span>, <span style=color:#a6e22e>ip</span>.<span style=color:#a6e22e>String</span>())
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>echo</span>.<span style=color:#a6e22e>ErrForbidden</span>
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>NewLocalNetwork</span>() <span style=color:#a6e22e>echo</span>.<span style=color:#a6e22e>MiddlewareFunc</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>localNetworkWithConfig</span>(<span style=color:#a6e22e>LocalNetworkConfig</span>{
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Skipper</span>: <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>c</span> <span style=color:#a6e22e>echo</span>.<span style=color:#a6e22e>Context</span>) <span style=color:#66d9ef>bool</span> { <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span> },
</span></span><span style=display:flex><span>	})
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>過去にも同じようなことをやらかしたような既視感がある。</p><blockquote><p>golangのnet.Request構造体内にはRemoteAddr属性があり、当然のことながら要求元のリモートアドレスが含まれています。これで仕事は終わりですね？しかし、リバースプロキシやロードバランサーをアプリケーションに使っている場合はそうではありません。これはgoサーバには常に、すべてのリクエストがロードバランサから来ているかのように見えます。これは、これを何らかのスロットリングの指標として使いたいのであれば、最悪なことです。ですから、何らかの形のリバースプロキシの後ろでなく、goサーバーが1つだけ動いているのでない限り、私たちの目的には役に立たないとして、すぐにこれを捨てることができます。</p><p><a href=https://husobee.github.io/golang/ip-address/2015/12/17/remote-ip-go.html>https://husobee.github.io/golang/ip-address/2015/12/17/remote-ip-go.html</a></p></blockquote><p>途中のロードバランサーやアプリケーションゲートウェイ、リバースプロキシなど、中継するサーバーの ip アドレスに置き換わってしまうため、ネットワークのインフラを管理していないとどこからリクエストされたかを追跡することはできない。<code>X-Real-IP</code> や <code>X-Forwarded-For</code> という http ヘッダーに中継したサーバーの ip アドレスを記録するという慣習があるようだけど、これはクライアント側で書き換えできるのでこれ単体でアクセス制御のようなものに使うことはできない。</p><p>次に同じ失敗をしないようにここに書いておく。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/1224/>無駄なものはそうそうない</a></h1><div class=post-meta><time class=post-date>2023-12-24 (Sun.) ::</time></div><span class=post-tags>#<a href=/diary/tags/founding/>founding</a>&nbsp;
#<a href=/diary/tags/workcation/>workcation</a>&nbsp;
#<a href=/diary/tags/writing/>writing</a>&nbsp;
#<a href=/diary/tags/animation/>animation</a>&nbsp;</span><div class=post-content><p>0時に寝て4時に起きてアニメをみて5時半に寝て9時に起きた。午前中はだらだらしていた。</p><h2 id=旅のしおりのたたき台作り>旅のしおりのたたき台作り</h2><p>3月に予定している <a href=/diary/posts/2023/1027/#隔週の雑談>開発合宿</a> イベントの打ち合わせを次の木曜日に行う。そのための資料作りをした。昨年の記録があるのでその内容を見返したり、写真を貼り付けたりしながら、昨年作った資料よりも詳細な「旅のしおり」を作ることができた。</p><ul><li><a href=/diary/posts/2022/0603/>1日目</a></li><li><a href=/diary/posts/2022/0604/>2日目</a></li><li><a href=/diary/posts/2022/0605/>3日目</a></li></ul><p>しばらくは冬の城崎温泉の開発合宿を、うちの会社の年中行事として継続していきたい。</p><h2 id=コワーキングの価値の考察>コワーキングの価値の考察</h2><p>独りで活動する個人事業主やマイクロ法人の役員にとってコワーキングがもたらす価値は大きいのではないかと私は考えている。以前 <a href=https://note.com/t2y1979/n/n84deed5fd934>リモートワークと相談相手</a> という記事を書いた。そのふりかえりや考察の中から <a href=/diary/posts/2022/0927/>日記を書き続ける</a> ことに決めた。それは思考の外在化を強制的に行わないと、私はすぐに劣化するということを身をもって理解した。ひとえに人間が弱いのだと思う。思考の外在化とは次になる。</p><ul><li>書くこと</li><li>話すこと</li></ul><p>これらの活動が減ることで思考が鈍化したり脳が退化したりする。書くことは日記で補えたが、話すことは相手がいないと成り立たない。顧問のはらさんに隔週で相談しているのもそうだし、カフーツさんのオンラインイベントに参加しているのもそうだし、開発合宿に社外の人たちを呼ぶのもその一環になる。そして、このことは会社員時代にあまり感じたことはなかった。それは会社員時代にはこれらの活動を伴うイベント、つまり会議だったり、報告だったり、同僚との雑談などが自然に日々の生活の中に含まれていたからだ。</p><p>無駄じゃなかったんやと思ったら次のシーンを思い出した。</p><blockquote><p>初めて、成功したよ。800年か……全く、無駄な魔法だと恨んでさえいたが。ああ、意味はあったんだな。</p></blockquote><div class=video-container><iframe src=https://www.youtube.com/embed/eZ13oxXpbH4 allowfullscreen title=フェルズの気付き></iframe></div><p>意味のない無駄なことだと思いながらも長く続けていたことが、その意図をもって実施したかの如何に関わらず、なにかの役に立つことはあるし、なにごとも継続するに無駄なことはないという気付きでもある。古代の中国においても <a href=https://ja.wikipedia.org/wiki/%E5%AD%9F%E5%98%97%E5%90%9B#%E9%B6%8F%E9%B3%B4%E7%8B%97%E7%9B%97>鶏鳴狗盗</a> という故事がある。人それぞれに長く継続できていることがあるならそのことを大事にしたらよいと私は思う。それは継続した先にしかわからないこともある。</p><p>やや非科学的な仮説ではあるが、<a href=https://ja.wikipedia.org/wiki/%E5%B0%8F%E6%9E%97%E6%AD%A3%E8%A6%B3>小林正観</a> という人物が「ありがとう」を唱えると幸せになるという仮説を提唱している。「ありがとう」を一万回となえると幸せになり、二万五千回となえると涙があふれだし、五万回となえると奇跡がおきる、もしくは年齢×一万回となえると第一段階の奇跡が起きるという。仮にこういった現象が本当に起きるのであれば、他者への感謝を述べる言葉から脳が影響を受けて、感謝の行動や考え方が身に付いて、現実の生活にも影響が出てくるのだろうと推測する。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/1223/>アクセシビリティを考える機会</a></h1><div class=post-meta><time class=post-date>2023-12-23 (Sat.) ::</time></div><span class=post-tags>#<a href=/diary/tags/life/>life</a>&nbsp;
#<a href=/diary/tags/event/>event</a>&nbsp;
#<a href=/diary/tags/web-design/>web design</a>&nbsp;
#<a href=/diary/tags/accessibility/>accessibility</a>&nbsp;
#<a href=/diary/tags/coworking/>coworking</a>&nbsp;</span><div class=post-content><p>0時に寝て3時半に起きて5時半に起きて8時に起きた。</p><h2 id=ストレッチ>ストレッチ</h2><p>先週は実家に帰っていて通常とは異なる日程だったのでアラームを解除していた。ストレッチの時間のアラームを聞いてから出掛けていたので危うく遅刻するところだった。</p><p>今日はとくにどこも悪くなくて、可もなく不可もなくといった感じだった。
トレーナーさんによると、冬は寒くて丸くなってしまうせいか背中が硬くなりやすいという。背中のツボをあちこち押されて痛かった。たまたまトレーナーさんと物価の話しをしていて、いま物の値段がピークアウトしてサービスの値段が上がってきていて、よいインフレの傾向になっているといった記事の共有をした。</p><ul><li><a href=https://note.com/goto_finance/n/nd2587229a2a3>日本の値上げに構造変化</a></li></ul><p>ストレッチもサービス業だから値上げしてトレーナーさんの給料も上がるとよいですねと。トレーナーさんによると、定期昇給といったものはなく、歩合給はあるもののそれほど大きくなく、給料をあげようと思ったら店長になるといった役職をつけないといけないらしい。あとトレーナーさんのスキルレベルによってお客さんが支払う金額も違う。昇給していくことが見込めないと、若い人しかトレーナーさんはできないのかな？という印象も受けた。スキルの高いプログラマは単価が上がっていくことが社会的に認識されているから将来に不安はないけれど、新しい職業や業態のキャリアモデルを作るのは難しいと思えた。今日の開脚幅は開始前155cmで、ストレッチ後157cmだった。</p><h2 id=アクセシビリティの話し>アクセシビリティの話し</h2><p>以前からはらさんが登壇されるという話しは聞いていた。ちょうど法事で実家に帰っていた日にイベントがあったようだ。</p><ul><li><a href=https://kansock.industries/ja/articles/20231222_01/>XR やクローラーについて話した次世代 Web カンファレンス A11y セッションが無事終了しました</a></li></ul><p>1:31:00 ぐらいから A11y (Accessibility) のセッションが始まる。はらさんが登壇されているので一通りみた。アクセシビリティわからない人がみてもおもしろかった。</p><div class=video-container><iframe src=https://www.youtube.com/embed/JSxwRcfJoYU allowfullscreen title="次世代 Web カンファレンス 2023"></iframe></div><p>20代、30代、40代の登壇者がいてバランスがよいようにみえた。また全盲の登壇者が A11y について話しているのはかなりの説得力をもっている。多くの人にとってアクセシビリティはあまり関心がない分野であり、プログラマーだけが注意すればよい問題でもないという。プログラマー、デザイナー、組織、エンドユーザーといった、プロダクトに関係するすべての人の認識や意識を調整してアクセシビリティは成り立つ。そして、障害当事者と出会う機会があるということそのものがアクセシビリティを考えることについてのプラスになるのではないかと話していて共感できた。登壇者にとっては、目の不自由な方がスマホをどう使うのかの動画が sns でバズっているのをみて、一般の人たちは (その登壇者にとって当たり前のことを) こんなに驚くのかと驚いたという。</p><p>私はフロントエンドの画面の開発に関して、たまに手伝う程度なのでアクセシビリティを意識して作ることはあまりない。しかし、使いにくいものは使いにくいとはっきり言うので、仕様や規格に準拠しているからとか、こういったデザインが流行りだとか、そういった物差しに関係なく意見は言う。登壇者の中にも自分の頭で使いやすい・使いにくいといったことを考えてほしいというメッセージを発していた。</p><h2 id=差し入れ>差し入れ</h2><p>私は出掛けていたので参加する予定はなかったが、<a href=https://www.facebook.com/events/1415020322425147>ブログJelly Vol.137</a> に三ノ宮.dev のメンバーが参加しているというのをみかけて差し入れしてきた。若い人はいろいろな経験を積んでどんどん挑戦してほしい。たまたま出先から帰ってきたのが19時前で <a href=/diary/posts/2023/0727/#神戸阪急百貨店のデパ地下>デパ地下のお寿司</a> を買いに行った。割引になるのを待っていたら19時を過ぎると20%引きのラベルを付け始めた。それをみて、サーモン詰め合わせ、マグロ鉄火巻、握り盛り合わせの3折箱を購入した。3-4人でつまむ程度の量。20%割引で3395円だったから定価だと4244円となる。これまでは720ml (四合瓶) のお酒をもっていくことが多かった。お土産用の、ちょっとよいお酒だとだいたい3000円前後かな。お寿司の方がやや値がはる。物価も上がっているのにあわせて手土産に使う金額も3000円程度という基準から5000円ぐらいまでは引き上げてもよいかもしれない。</p><ul><li><a href=https://www.facebook.com/kanzan10to9/posts/pfbid0SM2VrVpLcFkLDxwsayFVmQStUv2FrCzTxT3wJfB4m8JSxeLq1WouZv5AxpB9TxUgl>いとうさんのコメント</a></li></ul></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/1222/>マネジメントは変わっていく、変わり続けるもの</a></h1><div class=post-meta><time class=post-date>2023-12-22 (Fri.) ::</time></div><span class=post-tags>#<a href=/diary/tags/founding/>founding</a>&nbsp;
#<a href=/diary/tags/issue-management/>issue management</a>&nbsp;
#<a href=/diary/tags/event/>event</a>&nbsp;</span><div class=post-content><p>晩ご飯食べて21時頃から横になっていた。なんか寒くてなにもやる気がしない。1時に寝て何度か起きて7時に起きた。</p><h2 id=隔週の雑談>隔週の雑談</h2><p>顧問のはらさんと隔週の打ち合わせ。今日は議題を準備するのを忘れていて、ふりかえりをしながらフリートークのような雑談をした。</p><ul><li><a href=/diary/posts/2023/1210/>2023年ふりかえり</a></li></ul><p>昨日の <a href=/diary/posts/2023/1221/>組織論の動画</a> なども共有しながら課題管理の文脈でマネジメントやリーダーシップの原則として思うことを言語化していた。次のような価値観をメンバーにもってほしい。</p><ul><li>常に人間は学ぶ<ul><li>どのポジションの人も、どんな役割でも、人それぞれのペースで学ぶのは当たり前である</li><li>組織に学ばない人がいると足を引っ張るようになってしまう</li></ul></li><li>人間は時間とともに成長して変わっていく<ul><li>同じことを何年もずっとやり続ければよいという時代ではない</li><li>成長することでやり方もやることも責任も変わっていく</li></ul></li><li>プロジェクトは一期一会<ul><li>人は学び成長することから同じプロジェクトを再現することは本当の意味でできない</li><li>そのときそのメンバーで、その知識や習熟度で取り組むプロジェクトはその人の人生において1度しかない</li><li>本当の意味でプロジェクトマネジメントに再現性などないし、そのときの状況で最適解を考えて実践しないといけない</li></ul></li></ul><h2 id=知の創造研究部会第63回>知の創造研究部会第63回</h2><p><a href=https://kmsj20231222.peatix.com/>知の創造研究部会第63回</a> に参加した。内容は悪くなかったが、私が関心のあるテーマではなかった。</p><p>最初の30分ほど、会そのものの紹介やイベントの宣伝、登壇者の自己紹介が延々と続いて、ちょっと長過ぎてうんざりした。自分たちのことをちゃんと知ってもらった方が内容がわかりやすくなるというのはやや前時代的な考えだと私からは思えた。私がイベントに登壇するとき、ほとんど自己紹介を省いて本題へ入るようにしている。それはおっさんの経歴を多くの聴衆は関心がないというのもあるが、本題を聞きたいのに関係ない話しをされるのを私自身もしんどく思うようになったのがある。映画館で映画をみるとき開始前に他の映画の宣伝が10分ぐらいあるのをうんざりする気持ちと同じ。</p><p><a href=https://www.facebook.com/groups/204376119725736>知の創造部会</a> というクローズドな facebook グループがあると聞いたので参加申請した。翌日には承認されていた。今後はイベント情報などをここでチェックすればよいのかもしれない。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/1221/>うまくいかなくなった組織を立て直す難しさ</a></h1><div class=post-meta><time class=post-date>2023-12-21 (Thu.) ::</time></div><span class=post-tags>#<a href=/diary/tags/management/>management</a>&nbsp;
#<a href=/diary/tags/business/>business</a>&nbsp;
#<a href=/diary/tags/issue-management/>issue management</a>&nbsp;</span><div class=post-content><p>2時に寝て4時半に起きて7時半に起きた。昨日のオンラインイベントの後に課題管理についての質問を受けたらいろいろ調べ始めてしまって帰るのが遅くなった。</p><h2 id=組織論のあれこれと元凶>組織論のあれこれと元凶</h2><p>たまたま教えてもらってみたらおもしろかった。私もこの歳までに10社以上の組織をみてきたことから、組織の問題、あるいは組織であるがゆえに避けられない問題があることは理解できるし、自分の経験則でもダメな組織の特徴などいくつも思いつく。だいたい知っている内容ではあったけれども、若いのに書籍や論文を研究して、そういう現象にこういった名前がついているというのを言語化してくれていることは知識を共有する上で大事なことでもある。そこまでは知らなかったのでとても参考になる。</p><div class=video-container><iframe src=https://www.youtube.com/embed/W_b2vp19nWA allowfullscreen title="【組織崩壊のメカニズム】元DeNA人材育成責任者が日本のマネジメントに警鐘／大企業・メガベンチャーに共通する凡庸化すごろく／優秀なリーダーはこうして潰される【MANAGEMENT SKILL SET】"></iframe></div><div class=video-container><iframe src=https://www.youtube.com/embed/1DKaP396Ybg allowfullscreen title="【最も危険な上司はこの2種類】“かっこつけシャドーボクサー”と“承認欲求サンドバッグ”に気をつけろ／リクルートの「お前はどうしたい？」にまつわる誤解【MANAGEMENT SKILL SET】"></iframe></div><p>私が思う解決策の1つに役職や地位が固定化されないような組織設計というのがある。<strong>「権力は腐敗する」</strong> という言葉がある。権力を維持したまま、いまの人間社会でこれを避ける方法はないと私は考えている。どんな優秀な人であっても。上司も役員も社長でさえも、定期的に入れ替わる。どんなに成果をあげても優秀であっても一定期間以上とどまれない。そういう新陳代謝がいいんじゃないかと思う。実際にティール組織やホラクラシーといった組織形態はこの解決策を実現している。</p><p>動画の中で、心理的安全性の誤った解釈の文脈で組織がなぁなぁになっている世の中の流れがあって、私もずっと思っていたことの1つに自己肯定感を高めるのがよいというのは本当か？という問い。たしかに過去の行き過ぎたハラスメントは意味がないものではあったのは理解するが、できない人を然るべき内容で叱らないのもどうかという思いは私の中にもあった。坂井さんによると、自己肯定感が本当によいのかどうかという成果も怪しいという。</p><blockquote><p>成果が出ていない人に対して自尊心を高めると、逆に成果が悪くなったり、他者へ横柄になったりする。</p></blockquote><p>直感的に当たり前の話しだと思う。できない人を特別扱いする必要はない。そして、坂井さんは流行りのキーワードにとらわれず、自分たちの組織では本当にそうなのか？具体的で地に足の着いた制度や施策を見極めるべきだ、ちゃんと自分たちで考えましょうといったメッセージを発信していた。これは課題管理の文脈でも私もメンバーに常々言っている。自分たちのやり方にあうかどうかを考えるのが大事だ。</p><p>一方でうまくいっていない組織を立て直すのはとても難しい。それは組織のマネジメントというのは、上位の意思決定者、役員であったり部課長であったり、幹部社員の影響力がとても大きいため、うまくいっていないことを認めることそのものが役員や幹部社員へのダメ出しとなる。私もお手伝いをしていて、本質を追究すると経営陣への批判になってしまうため、お茶を濁すときもある。もちろん重要なことで言うべきところは言うが、それほど重要ではないところはお茶を濁してしまう。それは人間関係もあるし、取引関係もあるし、誰だって嫌な人になりたくないし、厳しいことも言いたくない。外部の人間ですら怯むところがあるのに、同じ会社の上下関係や人間関係ではもっと言いにくいことはあるだろうというのは容易に察することができる。優秀な若手が会社を去るのは至って自然だし、もっと言うと年配の人たちも若い人にポジションを譲って会社を去らないといけない。1つの会社で5-10年働くのはとても難しい時代にきているのだと私は思う。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/1220/>リリースの延期</a></h1><div class=post-meta><time class=post-date>2023-12-20 (Wed.) ::</time></div><span class=post-tags>#<a href=/diary/tags/project-management/>project management</a>&nbsp;
#<a href=/diary/tags/failure/>failure</a>&nbsp;
#<a href=/diary/tags/event/>event</a>&nbsp;
#<a href=/diary/tags/coworking/>coworking</a>&nbsp;
#<a href=/diary/tags/agriculture/>agriculture</a>&nbsp;</span><div class=post-content><p>なんか疲れていて帰ってきて晩ご飯食べたらすぐに横になってた。0時に寝て5時半に起きて7時に起きた。</p><h2 id=プロジェクトのスケジュール調整>プロジェクトのスケジュール調整</h2><p>先週からお手伝い先の経営陣には一報を入れてあったのだけど、お昼にメンバーと 1on1 してスケジュール的に厳しそうという再確認をして正式にいまの開発スケジュールに対して1マイルストーン (2週間) を延期することに決めた。先週の時点で残タスクの状況と進捗をみていて厳しそうだとは私の視点からもみえていて、ある意味の予定調和ではある。いまの開発は昔のように残業したり休出したりしないため、遅れていることがわかった時点でできることは機能を減らすか、期日を延期するかの2択しかない。今回は内容的に機能を減らすことはやりにくいため、延期するという施策しか私には打ち手がなかった。</p><p>原因としてもっとも大きいことの1つは <a href=/diary/posts/2023/1128/#マイルストーン定例>新規メンバーが3ヶ月間なにもしなかった</a> ことであり、新規メンバー向けに用意した開発機能を既存メンバーで吸収しきれなかったことになる。既存メンバーに責任があるわけではなく、私がもう少し速く決断できなかったことの影響がこの遅延につながったというものではある。これはまた開発の大きなふりかえりの中でチームで議論したいと思う。</p><h2 id=コワーキングのオンラインイベント>コワーキングのオンラインイベント</h2><p>月例のカフーツさんのオンラインイベントに参加した。<a href=/diary/posts/2023/1115/#コワーキングのオンラインイベント>前回の所感はここ</a> 。今回は「今年よかったこと、来年やりたいこと」をそれぞれに発表する会になった。私は先日作成した <a href=/diary/posts/2023/1210/>2023年ふりかえりスライド</a> を参加者に共有して説明した。</p><ul><li>よかったこと: 課題管理の PoC を実務の開発で実践して成果が出ている</li><li>来年やりたいこと: 実家の離れにコワーキングスペースを作る</li></ul><p>参加者みんなが農業に関心をもっていて、IT x 農業という取り組みで新しい挑戦をすることに関心を示す人は多い。これは三ノ宮.dev においても同様で農業に関心をもっている人は多い。農業をビジネスにするのはとても難しいし、大変なことだと私は認識しているが、別にビジネスにならなくてもコミュニティ活動の一環やライフワークの1つとして、仲間たちと価値観を共有するための触媒もしくは土壌としてよさそうに考えている。いまのお手伝いのお仕事を終了したら、来年はいとうさんと一緒にコワーキング + 農業でうまく運営している先行事例を視察に行って、それらを研究して、なにかしら新しいことに取り組んでいきたいと思う。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/1219/>結合テストのデバッグ</a></h1><div class=post-meta><time class=post-date>2023-12-19 (Tue.) ::</time></div><span class=post-tags>#<a href=/diary/tags/gitlab/>gitlab</a>&nbsp;
#<a href=/diary/tags/ci/cd/>ci/cd</a>&nbsp;
#<a href=/diary/tags/mongodb/>mongodb</a>&nbsp;
#<a href=/diary/tags/testing/>testing</a>&nbsp;</span><div class=post-content><p>1時に寝て5時半に起きて7時半に起きた。なんか週の前半からバテている。</p><h2 id=gitlab-cicd-の-dind-で-mongodb-のレプリカセット接続ができない>gitlab ci/cd の dind で mongodb のレプリカセット接続ができない</h2><p>先日対応した <a href=/diary/posts/2023/1214/>mongodb のレプリカセット対応</a> で残った最後の課題。ローカルで実行すれば結合テストは動くが、gitlab ci/cd 環境では動作しないという問題が残っていた。<a href=/diary/posts/2023/1218/>gitlab-runner をローカルで実行できる</a> ようにして、設定やパラメーターを変えたり、デバッグコードを埋め込んだり、コンテナに attach して振る舞いを確認したり、いろいろデバッグして原因はレプリカセット接続におけるホスト名の解決がコンテナ間でできていなかったことがわかった。</p><p>mongodb の結合テストは <a href=https://github.com/ory/dockertest>dockertest</a> を使って実装している。これを gitlab ci/cd で動かすには dind を有効にする必要がある。dind 環境では2つのコンテナを使って結合テストが実行されるわけだが、テストが実行されるコンテナと mongodb コンテナが起動するコンテナの2つが生成される。このときにテストが実行されるコンテナから実際に mongodb が起動するコンテナのホスト名の解決と、mongodb が起動するコンテナ上での自分のホスト名の解決の2つが成立していないとレプリカセット接続ができない。要は1台のローカルホスト上で結合テストを実行するのと、2つのコンテナ上で実行されるのでは設定を変更する必要があるということに気付いた。</p><p>具体的には dockertest の次のパラメーターを、実行環境から解決するホスト名を考慮して設定すればよいと気付いた。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>pool</span>.<span style=color:#a6e22e>RunWithOptions</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>dockertest</span>.<span style=color:#a6e22e>RunOptions</span>{
</span></span><span style=display:flex><span>    <span style=color:#f92672>...</span> 
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Hostname</span>:   <span style=color:#a6e22e>executor</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Env</span>: []<span style=color:#66d9ef>string</span>{
</span></span><span style=display:flex><span>        <span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Sprintf</span>(<span style=color:#e6db74>&#34;MONGODB_ADVERTISED_HOSTNAME=%s&#34;</span>, <span style=color:#a6e22e>executor</span>),
</span></span><span style=display:flex><span>        <span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>})
</span></span></code></pre></div><p>たったこれだけの修正だし、現状の動作の振る舞いが分かればすぐに直せるものではあるけれど、このデバッグにはまた2-3時間を費やした。mongodb のレプリカセット接続はなかなか大変。</p></div></article><div class=pagination><div class=pagination__buttons><a href=/diary/posts/page/7/ class="button previous"><span class=button__icon>←</span>
<span class=button__text>最近の日記</span>
</a><a href=/diary/posts/page/9/ class="button next"><span class=button__text>過去の日記</span>
<span class=button__icon>→</span></a></div></div></div></div><footer class=footer><div class=footer__inner><div class=copyright><span>© 2024 Powered by <a href=https://gohugo.io>Hugo</a></span>
<span>:: <a href=https://github.com/panr/hugo-theme-terminal target=_blank>Theme</a> made by <a href=https://github.com/panr target=_blank>panr</a></span></div></div></footer><script type=text/javascript src=/diary/bundle.min.js></script></div></body></html>