<!doctype html><html lang=en><head><title>Posts :: forest nook</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=/diary/posts/><link rel=stylesheet href=/diary/styles.css><link rel=stylesheet href=/diary/style.css><link rel="shortcut icon" href=/diary/favicon.ico><meta name=twitter:card content="summary"><meta name=twitter:site content="t2y"><meta name=twitter:creator content><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:title" content="Posts"><meta property="og:description" content><meta property="og:url" content="/diary/posts/"><meta property="og:site_name" content="forest nook"><meta property="og:image" content="/diary/favicon.ico"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><link href=/diary/posts/index.xml rel=alternate type=application/rss+xml title="forest nook"></head><body class=green><div class="container full headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=/diary><div class=logo>forest nook</div></a></div><ul class="menu menu--mobile"><li class=menu__trigger>Menu&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=/diary/about>自己紹介</a></li><li><a href=/diary/dates>月別一覧</a></li><li><a href=/diary/tags>タグ一覧</a></li></ul></li></ul></div><nav class=navigation-menu><ul class="navigation-menu__inner menu--desktop"><li><a href=/diary/about>自己紹介</a></li><li><a href=/diary/dates>月別一覧</a></li><li><a href=/diary/tags>タグ一覧</a></li></ul></nav></header><div class=content><div class=posts><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0910/>香川観光</a></h1><div class=post-meta><time class=post-date>2023-09-10 (Sun.) ::</time></div><span class=post-tags>#<a href=/diary/tags/day-off/>day off</a>&nbsp;
#<a href=/diary/tags/biztrip/>biztrip</a>&nbsp;
#<a href=/diary/tags/sightseeing/>sightseeing</a>&nbsp;</span><div class=post-content><p>2時に寝て車中泊して6時に起きた。初めて車中泊を試してみた。</p><h2 id=車中泊の所感>車中泊の所感</h2><p>エンジンをかけたたままエアコン入れてシートを倒して普通に眠れた。私は昔からオフィスで椅子を並べて寝たり、机に寄りかかって寝たりするのになにも抵抗がなかったから、車で寝ていてもまったく抵抗がない。これは宿泊費を削減できていいなと思えた。</p><h3 id=カーチャージャーが大活躍>カーチャージャーが大活躍</h3><p>音楽を流しながら寝たため、朝起きて気付いたらスマホのバッテリーがなくなっていた。そっか。ホテルに泊まっていないと電源がないことに気付いた。これはやばい。慌ててセブンイレブンへ行って <a href=https://shop.tamadenco.co.jp/product/kp132uc/>PD対応 カーチャージャー 20W USB-C×1ポート USB-A×1ポート KP132UCモデル</a> を購入した。</p><p>要否に関係なく、私のような人間はスマホが使えないと不安になる。車中泊にとってカーチャージャーは必需品だということに気付いた。あとカーチャージャーから接続するには適度な長さのケーブルも必要になる。さらに保険のためにモバイルバッテリーも常備しておこう。たまたまほぼ放電してたモバイルバッテリーがリュックに入っていることに気付いて、カーチャージャーからモバイルバッテリーに充電して、機をみてモバイルバッテリーからスマホに充電するといった運用をしていた。これでほぼスマホのバッテリーを心配する必要はなくなって、この後の旅程も安心して過ごすことができた。</p><p>その後、多摩電子工業さんのオンラインサイトみていたら <a href=https://shop.tamadenco.co.jp/product/tkp147uck/>TKP147UCK</a> なら type-c で 65W の電力を供給できる。これなら m2 macbook にも充電できるんじゃないかと思う。衝動買いで購入してみたのでまた後日テストしてみる。macbook のバッテリーも気にする必要がなくなれば、車中泊の運用の幅が広がる気がする。</p><h2 id=朝風呂>朝風呂</h2><p>6時過ぎに起きてお風呂に入ろうと思って <a href=https://www.kiraraonsen.com/>天然温泉きらら</a> へ行った。お風呂もサウナも普通で特別に言及するようなスーパー銭湯でもないが (別に悪いわけではない) 、朝6時から開いているところがもっとも素晴らしいと言える。車中泊でスマホも macbook も放電してしまったため、充電も目的の1つにはあった。和室の休憩スペースに電源コンセントがあってことなきを得た。お風呂に入ってから1.5時間ほど充電しつつ macbook で作業をしていた。充電が溜まると安心できた。wifi も30分起きに接続し直す不便さだけ我慢すればフリーでは使えた。</p><h2 id=鬼ヶ島-女木島>鬼ヶ島 (女木島)</h2><p><a href=http://www.onigasima.jp/>鬼ヶ島観光協会</a> へ行ってきた。スーパー銭湯で今日の行き先を調べていて、よさそうにみえた。まだ10時のフェリーに間に合うと気付いて慌てて準備して高松港へ向かった。お昼から雨の予報だったが、結果的に女木島から戻ってくるまで雨は降らなかった。</p><ul><li><a href=https://www.facebook.com/t2y1979/posts/pfbid0yXNwyj7o9AQR8PJP8GfmejBq1SbDMDD4JvKc3pmrqMY8ZNSjoCGuLoikn4s1Yci3l>写真と所感はここ</a></li></ul><h2 id=昼食のうどん>昼食のうどん</h2><p>14時前に女木島から高松港へ戻ってきてお昼ご飯。てきとうに食べログを検索して <a href=https://tabelog.com/kagawa/A3701/A370101/37008943/>讃岐うどん えん家</a> といううどん屋さんに入った。実は昨日のお昼もここで食べて連日でやってきた。昨日のうどんがおいしかったので、また別のメニューを頼んでみようと寄った次第。駐車場がないところだけが懸念点かな。</p><ul><li><a href=https://www.facebook.com/t2y1979/posts/pfbid02t3o3sax9xzLMcAc1Z1BwCrkoPs4Zk8sY9CSJKy9NFKhEth9bCyppTiGpwr2iXSxSl>写真と所感はここ</a></li></ul><h2 id=泉谷アーチダム>泉谷アーチダム</h2><p>うどんを食べてからだから15時前ぐらいかな？徳島県へ移動を始める。途中から雨も普通に降ってきて疲れた。雨振りだったのもあり、山道は怖く、ダム湖は汚れていた。私は高い所が苦手なのでダムの堤防の上から眺めるのも怖くて、苦労して行ったのにすぐに帰ってきてしまった。それが16時半ぐらい。</p><ul><li><a href=https://www.facebook.com/t2y1979/posts/pfbid0E6EGpneUSUuqzBrSjCtEg9UV72Hmrfoq1niWiwju6RgpUGd72TCWPTJMPGhvmE7kl>写真と所感はここ</a></li><li><a href=https://www.topics.or.jp/articles/-/352985>淡いエメラルドグリーン 美しい弧を描いた泉谷アーチダム（上板町）</a></li></ul><h2 id=閉館前の会館>閉館前の会館</h2><p>そのまま徳島市へたどり着き、たまたまみつけて <a href=https://www.awaodori-kaikan.jp/>阿波おどり会館</a> へ入ってみた。17時はまわっていたと思う。施設の展示などはもう終わっていて、1F のお土産屋さんだけが開いていた。軽く眺めてみて、あまりパッとしなくて印象に残らなかった。</p><h2 id=夜風呂>夜風呂</h2><p>夜はやることなくて暇だったのでそのままスーパー銭湯の <a href=http://aratae.jp/>あらたえの湯</a> へ向かった。営業は深夜1時まで。連続してスーパー銭湯へ行ったため、相対的に比較してしまって、朝のきららよりもあらたえの湯の方が格段によかった。施設も大きく、お風呂の種類もたくさんあって、休憩スペースも広い。一言で例えると、リンスインシャンプーしかないのとシャンプーとリンスは別々といった格の違いがすべてという感じ。値段は同じきららが700円、あらたえの湯が900円 (土日祝料金) だった。私なら200円多く払っても後者かな。</p><p>土曜日だったせいか、高校生ぐらいの若い人たちが集団で遊んでいた。電源席もあいていて、もともとそんな減ってなかったが、余裕をもって充電しながら作業をした。20時頃から休憩スペースで作業して、22時で高校生は帰りなさいとアナウンスが流れて、それからお風呂に入って0時半には料金を支払ってスーパー銭湯を出た。</p><h2 id=車中泊>車中泊</h2><p>連泊の車中泊。スーパー銭湯の駐車場にいても閉め出されることはなかったと思うけど、もしものときのためにすでに閉店しているドラッグストアの広い駐車場に移動してそこで寝てた。夜中雨が強くなってきて、車で寝ていると雨の音を聴きながら眠ることができる。私は眠るときに雨音とかもまったく気にならない。車中泊には部屋の中にいると忘れてしまうことを思い出させてくれるものがある。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0909/>久しぶりの異文化懇親会</a></h1><div class=post-meta><time class=post-date>2023-09-09 (Sat.) ::</time></div><span class=post-tags>#<a href=/diary/tags/day-off/>day off</a>&nbsp;
#<a href=/diary/tags/biztrip/>biztrip</a>&nbsp;
#<a href=/diary/tags/event/>event</a>&nbsp;
#<a href=/diary/tags/issue-management/>issue management</a>&nbsp;
#<a href=/diary/tags/drinking/>drinking</a>&nbsp;</span><div class=post-content><p>22時頃には戻ってきたそれから準備したらよいところを、だらだらしてうたた寝して気付いたら2時になっていた。もうこのまま寝て朝起きてから準備しようと3時50分にアラーム設定して起きた。それからお風呂入ってストレッチして荷造りして5時18分に三ノ宮を出発した。</p><h2 id=実家>実家</h2><p>6時21分に実家へ着いた。休憩せずに一気に帰ると約1時間ぐらい。先月ジモティーで譲ってもらっていた机とバランスチェアを実家へ持って帰った。朝ご飯を食べてからバランスチェアを組み立てる。ちょうど机と椅子がよい感じにリモートワーク可能な環境になった。</p><figure><img src=/diary/img/2023/0909_desk-char.jpg></figure><p>9時半頃まで実家でのんびり過ごして、言うても暇なので少し早めに香川県へ向けて出発した。</p><h2 id=オープンセミナー>オープンセミナー</h2><p>オープンセミナーとは、中四国地域で開催されている勉強会らしい。コロナ禍前はもっとたくさん開催されていたそうだが、いまは香川、広島、岡山といった地域で復活しているらしい。<a href=https://osk.connpass.com/event/292551/>オープンセミナー2023@香川</a> に参加した。高松市の高松港の真横にある <a href=https://www.e-topia-kagawa.jp/>eｰとぴあ・かがわ</a> という行政っぽいコミュニティ施設のイベントスペースを借りて開催された。実家から10分休憩を1度取った上で約1時間30分で着いた。実家から高松市まで1時間半とみておくとよさそう。</p><h3 id=てらださんpythonの現状からデータ分析やllm活用への発展>てらださん：Pythonの現状からデータ分析やLLM活用への発展</h3><p>てらださんの応援も兼ねて参加してみた。基調講演のような位置づけ。参加者の python 習熟度のレベルをみながら話す内容をあわせていた。</p><ol><li>あまり知らない</li><li>ちょっと知っている</li><li>がっつり使っている</li></ol><p>最初は python の用途や得意・不得意といった、入門的な話しから始めつつ、徐々に最近の話題へと展開していた。</p><p>python の用途</p><ul><li>システム系</li><li>web 系</li><li>データ分析や科学技術計算系</li><li>iot 系</li><li>3d グラフィックス</li></ul><p>苦手なこと</p><ul><li>web フロントエンド</li><li>デスクトップ gui アプリ開発</li><li>速度重視の低レイヤーの処理</li><li>趙大規模なミッションクリティカルな分野の処理</li></ul><p>python は年1リリース & 5年サポートになっている。</p><p>いまホットな話題として llm (large language model) がある。
私は chatgpt 以外のものはまったくわからないが、
oss で無料使えるツールや学習モデルがどんどん公開されているらしい。日本語に特化したものも出てきているみたい。</p><p>llm のツールチェーンを使って、任意のドキュメントに chatgpt のような質問で検索できるシステムの構築方法を紹介していた。
私が知らなかった技術として、インデクシングすると全文検索インデックスを作成する代わりにベクトル化をしてベクトル DB に保存する。
もっとも煩雑なところがドキュメントのベクトル化してベクトル DB に格納し、検索するときもクエリをベクトル化して、ベクトルの近似計算を行って検索結果を取得できる。
検索結果から回答の文章を生成するところを openai の api を使っているとのこと。有償なのでここだけお金がかかる。自前でやるには強力な gpu をもつマシンがないと処理が追いつかないといった話しだった気がする。
ai の学習モデルをホスティングするサービスとして <a href=https://huggingface.co/>Hugging Face</a> というものが有名らしい。
github ではなく、なにかしらモデルを管理するときに都合のよいことがあるみたい。
web ui には <a href=https://streamlit.io/>streamlit</a> を使っていた。私はまったく使ったことはないが、fin-py で紹介しているのを何度かみた感じでよいイメージをもっている。</p><h3 id=npo法人nemtus松岡さん後藤さん-ブロックチェーン概要説明--symbolブロックチェーンの特徴活用事例紹介>NPO法人NEMTUS　松岡さん、後藤さん 「ブロックチェーン概要説明 ＆ Symbolブロックチェーンの特徴・活用事例紹介」</h3><p>NEM を広めるための NPO 法人らしい。ブロックチェーンの技術説明のスライドがめちゃくちゃわかりやすく作られていた。2人で発表していて、前半は技術的な解説、後半は事例紹介となっていた。事例紹介であちこちで使われているのはわかるけれど、その大半はブロックチェーンを使わなくてもできるものばかりだった。ブロックチェーンの特性が活きるアプリケーションはグローバルな仮想通貨のような用途以外にみつかっていないという気がする。既存の web 技術でもできるものをブロックチェーンに置き換えても、効率の悪さ (コスト高) をどうやってカバーするのかを説明しないのは不誠実なようにも感じられた。せめてスマートコントラクトを絡めて話さないと伝わらないんじゃないかと思う。</p><h3 id=製造業-dx-を意識したときのiot-用-db-設計の注意点>製造業 dx を意識したときの、iot 用 db 設計の注意点</h3><p>会社名は公けに書かれていないから伏せておく。名前だけ聞くと、創業400年という、財閥系の JTC の会社の情シス部門のようなお仕事をされていた。工場の運用改善のために iot と社内システムをすべて内製/自前で構築しているという。工場から生データを収集し、それをデータベースに正規化して、分析して日々の業務の運用改善にあてるという、ストーリーは当たり前のもの。工場の売上は数千億円といった規模になるという。例えば4-5人のチームをアサインすると2000万円ほどの経費がかかるが、1000億円の0.1%を改善すれば1億円になるのでペイするという。そういった考え方で工場の運用改善をしているうちに、いまのチームは30人といった規模になったという。</p><p>事業会社で自分たちで技術を勉強してがんばっているようにみえる。発表のところどころの細かいところの認識が誤っていて、web のシニアエンジニアかアーキテクトがいれば、もっと効率のよいシステムを運用できるのになぁと思いながら聞いていた。あとで懇親会で詳しく聞いてみると、このチームは凄くてハードウェアまでカスタマイズできるという。基盤や回路まで自分たちで設計して作ったりもする。またメーカー品が自分たちの用途の機能を提供していなかったら、サポートを無視して勝手にメーカー品のハードウェアをカスタマイズして自分たちの用途にあったデータを取得できるようにカスタマイズしてしまうといったことも話していた。</p><p>ハードウェアの基盤開発から組み込みのプログラミング、データベース、web と1つのチームですべてやっているという。なかなかこれだけの技術スタックを1チームですべて一気通貫でやっているところはないと思う。web 技術のところではいくつかツッコミ所はあったんだけど、これだけの広い分野をみていると、それは些事だなとちょっと反省した。私が自分の得意な分野だけをみていい気になっていたような気持ちになって反省した。</p><p>懇親会で話していて、iot のシステムは基本的に安くて儲からないと話していて、しかし、ここに web システムを付けるだけで付加価値として売上の金額が上がるという。それは多くの iot メーカーは web に疎いため web システムを作れないらしい。ハードウェアと web の両方の技術に精通している会社/組織というのは意外に少ないらしく、iot + web が儲かるモデルとして話されていた。たしかに私は web に精通しているが iot はまったく分からないので納得感があった。</p><h3 id=lt>LT</h3><p>これが私のお仕事の部分だけど、会社としてイベントに登壇してきた。マーケティング活動の1つやね。</p><iframe class=speakerdeck-iframe frameborder=0 src=https://speakerdeck.com/player/dd65b3a94e5b4feeb73f780c9626cb0a title="Iintroduction of how big tech runs tech projects" allowfullscreen style="border:0;background:padding-box padding-box rgba(0,0,0,.1);margin:0;padding:0;border-radius:6px;box-shadow:rgba(0,0,0,.2)0 5px 40px;width:600px;height:auto;aspect-ratio:560/315" data-ratio=1.7777777777777777></iframe><h3 id=懇親会>懇親会</h3><p>17時から懇親会で21時過ぎまで飲んでいた。私は車で参加していたのでソフトドリンク。知らないイベントの懇親会で、あまりよく知らない人たちと技術の話題でわいわい盛り上がるのは久しぶりで楽しかった。昔の it 勉強会はこんな感じだったなとコロナ禍の終わりも実感した。</p><p>懇親会の参加者には組み込みやハードウェアに詳しい方が何人もいて、私のような web 系の方が少数派でちょっといつもとは違ったメンバーで聞く話しもとても新鮮味があった。iot やハードウェアの話しにさっぱり付いていけなかった。web 系の勉強会やイベントにしか行かないというのも、一種のエコーチェンバーだなと実感した。</p><h3 id=あと飲み>あと飲み</h3><p>21時過ぎから23時まで、てらださんと飲んでいた。てらださんは酔っ払ってどんどん呑むんだけど、酔い潰れるみたいな状態にはならなくて、余裕があるのかないのかよく分からないけど、呑むペースが速いなと感心していた。コミュニティの話し、教育の話し、経営の話し、政治の話し、わりといろんな話しをして時間でお開きにした。</p><h2 id=車中泊>車中泊</h2><p>その後、車を移動して、24時間空いているサウナで泊まろうと近くまで行ったものの、あまり外観の雰囲気がよくなくて、そのまま駐車場に車を泊めて車中泊にした。1時頃だったと思う。駐車場料金がホテル代のようなものになった。あとで調べたらアイドリングしたまま車中泊するのは、付近に家があると騒音がうるさいらしくマナー違反だという。歓楽街だったので周りは若者が遊んでいて、もともとうるさい場所だったと思うのでそれほど迷惑にはならなかったと思いたい。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0908/>お休み前の勉強会</a></h1><div class=post-meta><time class=post-date>2023-09-08 (Fri.) ::</time></div><span class=post-tags>#<a href=/diary/tags/go/>go</a>&nbsp;
#<a href=/diary/tags/logging/>logging</a>&nbsp;
#<a href=/diary/tags/event/>event</a>&nbsp;</span><div class=post-content><p>22時に寝て24時に起きて2時に起きて4時に起きて6時に起きた。晩ご飯食べてからオフィスに戻る元気がない。本当は明日の出張に備えて今晩、実家へ帰ろうと思っていたが、まったく準備ができていないので明日の早朝に帰ることにした。</p><h2 id=slog-勉強会>slog 勉強会</h2><p>チーム勉強会向けに、今日は軽い話題として slog のブログ記事をピックアップしてみた。この内容を deepl で翻訳して社内の wiki に書いてそれをメンバーと共有した。</p><ul><li><a href=https://go.dev/blog/slog>Structured Logging with slog</a></li></ul><p>うちのプロジェクトの logger はすべて slog に移行済みではあるが、一部 slog を使う前に実装したログ関数があって、そのカスタムログ関数の移行だけまだできていない。アプリケーションの振る舞いには影響を与えないし、急ぐ必要もないので先送りにしているだけ。次の開発フェーズでカスタムログ関数周りもすべて移行して slog で万全の状態にしたい。そのための予備知識として slog でこんなことができるという全体像は理解できた。とてもよい記事だったと思う。</p><h2 id=lt-資料の推敲>LT 資料の推敲</h2><p>先日 <a href=/diary/posts/2023/0903/#LT-資料の作成>LT 資料のたたき台</a> を作成した。いくらか寝かして週のどこかの空いている時間に推敲しようとずっと頭の中にはあったものの、現実にはさぼっていて前日に最終見直しをしている。でも、見直した方がよいところのアイディアは2-3個思いついてはいる。少し手直ししたら明日のイベントに備えて早めに寝る。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0907/>組織やプロジェクト横断的なメトリクスの視覚化</a></h1><div class=post-meta><time class=post-date>2023-09-07 (Thu.) ::</time></div><span class=post-tags>#<a href=/diary/tags/ldap/>ldap</a>&nbsp;
#<a href=/diary/tags/go/>go</a>&nbsp;
#<a href=/diary/tags/issue-management/>issue management</a>&nbsp;
#<a href=/diary/tags/information-exchange/>information exchange</a>&nbsp;
#<a href=/diary/tags/visualization/>visualization</a>&nbsp;
#<a href=/diary/tags/event/>event</a>&nbsp;</span><div class=post-content><p>0時に寝て4時に起きてもう1回ぐらい起きて6時半に起きた。</p><p>もうすぐ期限がやってくる。私が担当している issue 対応はあらかた終わってメンバーに「大きいもので見落としある？」って尋ねて「ない」って返ってきたのでもうクローズに向けて調整していく感じ。今週末から月曜日と3日間お休みする (土日も含めて休むというのも変ではあるが) ので一安心。</p><h2 id=dirsync-周りのリファクタリング>dirsync 周りのリファクタリング</h2><p>ずっとレビューが放置されていた。おそらくいま go-ldap のプロジェクトで最も活発なメンテナーが夏休みだったのではないかと推測する。昨日帰ってきたようで怒涛のレビューをされていて、私が3週間前に送っていた pr もレビューしてくれた。</p><ul><li><a href=https://github.com/go-ldap/ldap/pull/458>Refactor DirSync search process #458</a></li></ul><p>概ね同意してくれて public な関数名をより適切な関数名に変えたところを、1度公開したものは互換性を維持するために deprecated のコメントをして残しておいてと言われたところだけ修正した。修正後、数時間ですぐにマージしてくれた。感謝。</p><p>go-ldap にいくつかコントリビュートした機能はうちのプロダクトのシステムに使われていて、それなりの qa テストをやった上で動いているので一定の品質は担保していると思う。<a href="https://github.com/go-ldap/ldap/graphs/contributors?from=2022-09-08&to=2023-09-07&type=c">直近1年間のコントリビューター</a> を参照すると、私は2番目に貢献しているようにみえる。こういう見える化が自分のモチベーションになるならそれはそれでよいと思う。</p><figure><img src=/diary/img/2023/0907_contributor.png></figure><p>組み込みの課題管理のプロダクトを作る上で、個人がみたいメトリクスを簡単に集計できるような機能を提供しようと考えている。それは自分が伸ばしたいスキルやプラクティスに対して、会社やプロダクトを横断的に計測できる仕組みがあるといいと私は考えている。とくにいまどきはプログラマーが転職するのは当たり前だが、転職したら前の会社でやっていたメトリクスがみれないとか、別の会社でのメトリクスと相対比較したいとか、そういうニーズはあるなと私自身が感じているからでもある。</p><h2 id=go-イベントのパネルディスカッション>go イベントのパネルディスカッション</h2><p><a href=https://mercari.connpass.com/event/294164/>mercari.go #23 Go1.21 パネルディスカッション オンライン開催</a> に参加した。視聴者が少なかったのか、youtube のコメント欄でちょくちょくツッコミもいれたら現場で拾ってくれておもしろかった。私が関心のあった話題を3つあげてみる。</p><h3 id=gonew-の提供>gonew の提供</h3><blockquote><p>For a long time now, we have heard from Go developers that getting started is often the hardest part.</p><p><a href=https://go.dev/blog/gonew>Experimenting with project templates</a></p></blockquote><p>go で新規プロジェクトを始めるときにテンプレートからプロジェクトのレイアウトを作ってくれるユーティリティとして gonew というツールが公式から提供されたらしい。知らんかった。私も新しいリポジトリ作るときに標準的なものはファイルを基本コピペしているのでこういうのできれいに作れると嬉しいかもしれない。
￼</p><h3 id=derrors-の是非>derrors の是非</h3><p><a href=https://github.com/golang/pkgsite>pkgsite</a> という pkg.go.dev というサイトのリポジトリの internal として実装されている derrors というパッケージがある。defer を使って必ず関数がエラーを返すときに wrap するという、ユニークな発想で実装されたツール。明示的なコードを書くという go の文化とはあわない気はするけど、ユニークな使い方ではあるのでおもしろい。</p><ul><li><a href=https://github.com/golang/pkgsite/blob/master/internal/derrors/derrors.go>https://github.com/golang/pkgsite/blob/master/internal/derrors/derrors.go</a></li></ul><p>この延長でエラーが発生したときにレポートを生成する derrors のユーティリティもあったりする。google がやっていることだから、わりと開発者間でもこれと同じものを自前で実装する開発者が増えているといった話しも聞く。</p><h3 id=go-2-はもうリリースされない>go 2 はもうリリースされない</h3><blockquote><p>The answer is never. Go 2, in the sense of breaking with the past and no longer compiling old programs, is never going to happen. Go 2 in the sense of being the major revision of Go 1 we started toward in 2017 has already happened.</p><p><a href=https://go.dev/blog/compat>Backward Compatibility, Go 1.21, and Go 2</a></p></blockquote><p>これまでの go の言語処理系の開発の中で非互換な変更について「go 2 で」とプロポーザルだったり、issue の議論で先送りされてきた。最近コア開発者の Russ Cox 氏が (現時点で) go 2 はもう出ないと宣言した。go は既存のプログラムをコンパイルできない状態で新しいバージョンを出すことはしない。この背景の1つとして、誰もがジェネリクスの導入で go の互換性は崩れると思っていたものが互換性を維持して導入できたことが大きいと思う。(現時点で) go 2 はもうリリースされないらしい。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0906/>openldap サーバーのデバッグ</a></h1><div class=post-meta><time class=post-date>2023-09-06 (Wed.) ::</time></div><span class=post-tags>#<a href=/diary/tags/ldap/>ldap</a>&nbsp;
#<a href=/diary/tags/debug/>debug</a>&nbsp;
#<a href=/diary/tags/testing/>testing</a>&nbsp;</span><div class=post-content><p>1時に寝て3時に起きて5時に起きて6時半に起きた。あとひと踏ん張りなのでこのまま突っ切る。</p><h2 id=openldap-25-の-ldappasswd-の振る舞い>openldap 2.5 の ldappasswd の振る舞い</h2><p>openldap サーバーでパスワードを変更時の平文パスワードを連携するために <a href=/diary/posts/2023/0525/#カスタム-overlay-モジュールの改修>カスタム overlay モジュール</a> を使っている。前回の改修をしたときは openldap 2.4 向けのみの振る舞いを検証していた。今回は開発フェーズでは openldap 2.5 向けにもモジュールをビルドしてパッケージングしていた。その qa テストをしていて ldappasswd だけ、意図したパスワード連携が行われないという。</p><p>開発時に私が振る舞いを検証したつもりが ldapadd, ldapmodify は確認済みだったが、ldappasswd の確認をしていなかった。これは完全に私のミスで2つのフックポイントに対してカスタム overlay モジュールが動くのだから ldappasswd も大丈夫だろうと見通していた。しかし、そうではなかった。それぞれにフックポイントのコールバック設定があって、フックポイントもロジックが違うのだから当然ではあるのだけど、ちゃんと動作検証をしないといけないという、初歩的なミスをした。こんなこともあるんやと反省した。</p><p>gdb でデバッグしていて原因は 2.5.3 に含まれる次の修正だとわかった。私が検証していた openldap サーバーのバージョンは 2.5.14 だった。</p><ul><li><a href="https://bugs.openldap.org/show_bug.cgi?id=8698">Issue 8698 - ppolicy: responses from pwdCheckModule discarded when using an extended password modify</a></li><li><a href=https://git.openldap.org/openldap/openldap/-/merge_requests/304/diffs>ITS#8698 Propagate policy checker message through even if using PW Extop</a></li></ul><p>簡潔に言えば、なんらかの不具合対応でもともと設定してあるコールバックを別のものに上書きしていた。カスタム overlay モジュールが設定したコールバックが別のものに上書きされてしまって意図した振る舞いをしないという現象が起きていた。これは明らかに openldap のリグレッションなので 2.5.15 で修正されてた。</p><ul><li><a href="https://bugs.openldap.org/show_bug.cgi?id=9990">Issue 9990 - Part of the ITS#8698 fix breaks exop overlays that set a callback</a></li></ul><p>たまたまピンポイントにバグを踏んだ形にはなったが、qa テストという別の人がテストをする仕組みでこのバグを検出できたことがうちの開発の品質基準を担保していることの表れでもある。</p><blockquote><p>生きるということは嬉しいこと半分、辛いこと半分なのですよ。 采王</p></blockquote></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0905/>開発フェーズの完了まであと2週間</a></h1><div class=post-meta><time class=post-date>2023-09-05 (Tue.) ::</time></div><span class=post-tags>#<a href=/diary/tags/project-management/>project management</a>&nbsp;
#<a href=/diary/tags/issue-management/>issue management</a>&nbsp;</span><div class=post-content><p>0時に寝て何度か起きて7時に起きた。オーバートレーニング気味で夜帰ってきてゆっくり過ごしている。</p><h2 id=定例会議>定例会議</h2><p>次のマイルストーンでこの開発フェーズを完了させる。その最後の打ち合わせとなる定例会議。話題が多過ぎて、始める前から今日の会議は1時間におさまらないんじゃないかと話しながら始めて10分ほどオーバーして終えた。会議時間が私の感覚とも一致していてよかった (違う) 。</p><p>qa テストでいろいろ issue が洗い出されていて、その中のアーキテクチャや仕様の抜本的な見直しを検討するのが2つ、管理画面の ui/ux に関する設計の2つ、よいことではあるが、私の設計の目が及ぶ範囲を超えて issue が上がるようになりつつある。本当はフロントエンド向けに ui/ux デザイナーがいれば画面設計について委譲したいところだが、そんな人はいないのでチームで話し合い、私が方針を決めて暫定的に修正していく。</p><p>また致命的な issue は出ていないという私の認識から、次の2週間でこの開発は収束させるという合意を行った。やや qa テストや issue の収束は遅れ気味ではある。いまから慌てても大きく変わることはないし、このチームは十分に私の課題管理の慣習にしたがって作業しているので、このまま成り行きでもうまく着地できるんじゃないかなと楽観的には考えている。その感覚は過去の経験からも来ているのだろうけど、もうこの歳になると脳ができることを自動的に判断している気がする。できるとわかっているから不安や焦燥感といった危機を感じられない。悪い言い方をするとさぼっているだけという見方もあるが、そういう感覚をここ2-3年で実感するようになってきた。</p><p>会議が終わってから私は reflection 関連のバグを2つ直した。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0904/>週末遊んで月曜日を迎える</a></h1><div class=post-meta><time class=post-date>2023-09-04 (Mon.) ::</time></div><span class=post-tags>#<a href=/diary/tags/testing/>testing</a>&nbsp;
#<a href=/diary/tags/issue-management/>issue management</a>&nbsp;</span><div class=post-content><p>21時に寝て何度か起きて7時に起きた。決して夜更ししているわけでもないのにずっと疲れている感があって早めに寝ていた。それでさらにお仕事が溜まる。</p><h2 id=qa-テストとバグ修正>qa テストとバグ修正</h2><p>先々週から qa テストが始まっていて、私はあまり参加できていないけれど、上がってくる issue のトリアージや致命的なバグの修正、インフラ周りの不具合の修正などをしている。1つは1つは難しくない小さい粒度のものだけれど、他の issue との関連があったり、アーキテクチャや既存の仕様そのものを見直した方がよいものもあったりと、背景の調査に時間がかかっていて、思ったよりも「ちぎっては投げちぎっては投げ」といった対応は取れていない。issue の優先順位付けしようにも、先に解決しないといけない issue があったり、この仕様はそもそもおかしいとか、よいことではあるのだけど qa でみつかる issue のトリアージが難しくなっている。それだけメンバーのシステムへの習熟度が上がって精度の高い issue をあげられるようになってきたという現れでもある。私がまごまごしているのは紛れもない事実ではある。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0903/>LT 資料のたたき台作り</a></h1><div class=post-meta><time class=post-date>2023-09-03 (Sun.) ::</time></div><span class=post-tags>#<a href=/diary/tags/translation/>translation</a>&nbsp;
#<a href=/diary/tags/sns/>sns</a>&nbsp;
#<a href=/diary/tags/event/>event</a>&nbsp;
#<a href=/diary/tags/marketing/>marketing</a>&nbsp;</span><div class=post-content><p>3時に寝て朝起きたものの、体調がよくなくて10時まで寝てた。朝ご飯をゆっくり作って食べてからお昼前にオフィスへ着いた。</p><h2 id=昨日の翻訳の手直し>昨日の翻訳の手直し</h2><p><a href=/diary/posts/2023/0902/#deepl-で翻訳したものの手直し>昨日の推敲途中で公開した記事</a> の手直しから行う。後半眠くなってしまいチェックできてなくて、先に公開しちゃえってやったらいろいろ不備があって直していた。どうせ誰も読まないだろうと思ったら、ぽつぽつアクセスが増えてきてお昼ぐらいにはホットエントリーになっていたかもしれない。午前中に読んだ人はひどい記事の体裁でごめんなさいという気分だ。</p><p>この記事はうちの会社の社内 sns にしか共有していない (たぶん知人もなにもしていない) のに、ホットエントリーになっているのをみて、本当によい記事ならほとんど宣伝しなくても勝手に広まるというのを実感した。私は基本的に sns をやめようと考えていて facebook 以外はほぼやっていない。facebook を年賀状のような使い方にしている。年に1回、私の近況を見にきた方が近況を分かるようにだけしている。あとはお仕事の依頼がたまにくるのでそういった人たちとのインタフェースとして置いておく。とはいえ、依頼がきても9割は断るしかないというのがうちの会社のいまの辛いところでもある。以前2つの会社のお仕事を掛け持ちして大失敗したため、色気を出さず、できないお仕事は受けないというのを徹底している。</p><h2 id=lt-資料の作成>LT 資料の作成</h2><p>来週 <a href=https://osk.connpass.com/event/292551/>オープンセミナー2023@香川</a> で LT してくる。そのための資料のたたき台を作った。課題管理に関する話題なので会社として発表してこようと思う。会社用のスライドテンプレートを使って2回目の発表となる。こういったマーケティング活動も、本当は昨年からどんどんやるつもりが、まったくお仕事がうまく進んでなくて後手後手後手といった状況。昨年は1年の計画のうち1割しかやっていなかった。</p><ul><li>貧すれば鈍す</li><li>窮すれば濫す</li><li>貧乏暇なし</li></ul><p>こういう言葉が似合う。がんばってもがんばってもお仕事が終わらず、もしかしたら加齢でパフォーマンスも落ちているのか、モチベーションコントロールが出来てなくて集中力が低いのかもしれない。あと実家のいろいろも少しある。そんなことを言ってももうどうにもならんので、今年初めてのマーケティング活動なのでがんばって話してこようと思う。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0902/>linkedin による dm の効果</a></h1><div class=post-meta><time class=post-date>2023-09-02 (Sat.) ::</time></div><span class=post-tags>#<a href=/diary/tags/life/>life</a>&nbsp;
#<a href=/diary/tags/translation/>translation</a>&nbsp;</span><div class=post-content><p>22時に寝て何度か起きて6時に起きた。もうがんばれない状態。本当はお仕事すべきではあったんだが、モチベーションが売り切れてしまって違うことした方が気分転換になりそうなので翻訳していた。</p><h2 id=ストレッチ>ストレッチ</h2><p>先週が疲労のピークだった気がする。先週よりはましになったものの、右足全般がやばい感じだった。かなり辛かった。ここ1-2週間、歩いていて知人からも足悪いの？と聞かれるぐらいには、まともに歩けなくなっているようだ。あと何年歩けるのだろう？という危機感も少しある。腰もやや右側の張りが強かった感じはした。今日の開脚幅は開始前155cmで、ストレッチ後158cmだった。先週よりは少しだけ改善した。ただお仕事のピークは超えたのでこれから少しずつ回復していくといいなと想定している。</p><h2 id=deepl-で翻訳したものの手直し>deepl で翻訳したものの手直し</h2><p>来週の LT 発表ネタの準備。</p><p>ある英語の記事を紹介するにあたり、その日本語翻訳を用意しておこうと考えた。要約をちょろっと話して詳細はこれ読んでねみたいな LT にしようと思う。先週から著者に翻訳の許諾をしてほしいというメールを送っていたが1週間経っても返信なし。著者との別のコンタクト方法の1つに linkedin があった。linkedin でメッセージを送ると3時間後に OK の返信がきた。そっか linkedin だと、相手がどんな人かといった情報がわかるからメールよりも返信するモチベーションになりやすいのかもしれないと気付いた。少なくともスパムではないと確認できて安心できる。今後は linkedin で dm を受け付けている人には linkedin を積極的に使っていこうと思った。</p><p>今回は deepl を使って翻訳しようと考えていた。プロライセンスを購入していれば、翻訳した成果物の著作権を主張しないと規約に書いてある。基本は deepl で翻訳するものの、「てにをは」を直したり、スキップされた文章を再翻訳したり、訳文がおかしいところを見直したり、あとテーブルや図の英語を手入力して翻訳したりとか、あと細かいレイアウトの調整とか、文章量が多かったのでそういった細々したことをやってたら7時間ぐらいはかけたと思う。</p><p>ポッドキャストを聞きながら手を動かしていたり、途中で晩ご飯を食べに行ったりしながら、お昼から始めて夜中の2時前ぐらいになって、もう眠くなって推敲に疲れて、半分ぐらいチェックし終えたところで公開しちゃうことにした。公開した方が慌てて直すモチベーションになるから意図的にそういうことをするときもある。</p><ul><li><a href=https://t2y.hatenablog.jp/entry/2023/09/03/011023>(翻訳) ビッグテックのプロジェクトマネジメントとスクラム不在の謎</a></li></ul><p>今日はもう眠くて無理で公開後、家に帰ってすぐに寝てしまった。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0901/>クレームへの階段</a></h1><div class=post-meta><time class=post-date>2023-09-01 (Fri.) ::</time></div><span class=post-tags>#<a href=/diary/tags/founding/>founding</a>&nbsp;
#<a href=/diary/tags/scrum/>scrum</a>&nbsp;
#<a href=/diary/tags/project-management/>project management</a>&nbsp;</span><div class=post-content><p>0時に寝て何度か起きて6時に起きた。</p><h2 id=隔週の雑談>隔週の雑談</h2><p>顧問のはらさんと隔週の打ち合わせ。先週は多忙でお休みした。今日の議題はこれら。</p><ul><li><a href=https://twitter.com/svpino>santiago</a> 氏のスクラム批判の話題<ul><li><a href=https://twitter.com/svpino/status/1695806027256475777>Scrum is a cancer.</a></li><li><a href=https://twitter.com/svpino/status/1696187613739208878>Software estimates are one of the oldest lies we tell ourselves.</a></li><li><a href=https://twitter.com/svpino/status/1696869327335571833>I wrote, &ldquo;Scrum is a cancer,&rdquo; and the Internet had thoughts about it.</a></li><li><a href=https://twitter.com/svpino/status/1697250711632003260>Story Points don&rsquo;t work.</a></li></ul></li><li><a href=https://osk.connpass.com/event/292551/>オープンセミナー2023@香川</a> で LT する話題</li><li>角印のデータ化の共有</li></ul><p>たまたま X (twitter) でスクラム批判しているツィートを教えてもらってリンクにあるように <code>Scrum is a cancer.</code> というインパクトのある書き出しで聴衆を一気に掴んで盛り上がっていた。多少の誇張はあるものの、内容も真っ当で私が読んでみてもそんなに違和感がなかった。スクラムの懸念をうまく言語化したポストになっていたと思う。その延長で他にも、見積もり、フィードバック、ストーリーポイントにも言及していて、これらの話題についてはらさんと雑談してみた。はらさんとは1-2年前からスクラムの話題で何時間も話しているので、もうお互いに食傷気味ではある。ただ時事ネタなのと1年ぐらい経ったらアップデートもあるかな？という期待もあって話題に選択してみた。次のような意見が出た。</p><ul><li>スクラムの開発プロジェクトをそんなに経験している開発者は少ないから主語が大きくなりがち</li><li>マネージャー入門としての、スクラムという開発方法論を評価してもよいのでないか？</li><li>「スクラムにはマネージャーいない」と骨髄反射で返答をよくもらうがそれは理想論ではないか？</li><li>スクラムの失敗と事業／業務の失敗は違う</li><li>スクラムは毎日見積もり、デイリースクラムで確認できるというメリットがある</li><li>スクラムはチームの限定合理性を重視するため、個人の限定合理性を重視するメンバーを排除できる</li><li>スクラムの懸念の1つに全然できていないのに「できている」というメッセージを出し過ぎるのではないか？</li><li>ソフトウェア開発は前提として見積もりできないという認識をもつべき</li></ul><p>お腹いっぱいなので詳細はあまり書かない。</p><h2 id=オフィスの担当者との電話>オフィスの担当者との電話</h2><p>先日の <a href=/diary/posts/2023/0812/>暑さ対策委員会</a> の続き。</p><p>昨日、運営会社にその後の進捗を確認するために電話したらお休みだったので再度電話した。昨日もコールバックすると言いながら15時過ぎてもコールバックがなくて、もういい加減エスカレーションして偉い人に正式なクレームをあげようと考え始めていた。ようやく電話つながったと思ったら通話の音質が悪くて話しているうちに切断して、その後もつながらない。本当にイライラがつのる。2回目のコールバックで話していると、エアコンの工事によって隣のオフィスの人たちは問題ないと言っていたといったコメントが出てきた。</p><p>私のイライラが最高潮に達したのはこのとき。私はこれまでもずっと隣のオフィスの社員さんと暑さどうですか？という会話を何度かして先方も室内は暑いという話しを聞いていた。隣のオフィスの社員さんが問題ないなんて言うわけがないと思って、そのまま隣のオフィスへ言ってそこの社員さんにも電話に出てもらった。もちろん隣のオフィスの社員さんはこの件について一切やり取りしていない。社員さんも「(暑さについて) すぐ分かるから現場に来いっ！」って怒っていた。</p><p>ほんとその通りで7月の中旬からずっと伝えている。何もしていないわけではないのは理解するが、現地で確認したらこれまでの施策の効果がないことは一目瞭然である。一切確認せずに作業したから問題ないと判断して放置していたようにみえる。一連の対応が終わったときに正式なクレームとして運営会社にあげようと考えている。</p><ul><li>1ヶ月半の間に5回電話して一度もコールバックも進捗報告もなかった</li><li>効果が出ていないことは報告しているにも関わらず、なんら施策を検討していない</li><li>現地で確認すれば、ひどい暑さであることがすぐわかるのに1度も調べようとしなかった</li></ul></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0831/>qa と最初のキャリア</a></h1><div class=post-meta><time class=post-date>2023-08-31 (Thu.) ::</time></div><span class=post-tags>#<a href=/diary/tags/testing/>testing</a>&nbsp;
#<a href=/diary/tags/career/>career</a>&nbsp;
#<a href=/diary/tags/book/>book</a>&nbsp;</span><div class=post-content><p>0時に寝て何度か起きて6時に起きた。1-2週間前に2年ほどやっていたドラクエタクトをやめた。飽きたのか自然ともういいかって感じでやめられた。それ以来、家に帰ってからゆっくり休む時間が増えた気がする。</p><h2 id=qa-という業務の懐の広さ>qa という業務の懐の広さ</h2><p>先週の水曜日から qa テストに移行している。スケジュールとしてはこのために1ヶ月を確保している。おそらくもう少し早く終えられるんじゃないかという気はしている。早く終われば次の開発の計画づくりを前倒しにすればよいのでそれは構わない。私は先週から残タスクのリファクタリングが終わりきらなかったのでややバタバタしていたが、メンバーはテストに専念してテスト環境で動かして意図しない振る舞いを issue 登録したり、直感とは反する振る舞いを issue 登録したりしている。</p><p>新人さんや、未経験だけと開発者になりたいとジョブチェンジする人たち向けに、最初のキャリアとしてテスターや qa をするのがよいのではないかと私は考えている。きっかけは More Joel on Software に、テクニカルサポートは開発者を配置する必要があると書いてあった。しかし、テクニカルサポートだとスキルを身につけると持て余してしまうため、その業務ためのキャリアパスを考えないといけないと書いてあった。まったく同感だ。私がお手伝いしたある会社でもテクニカルサポートは1-2年で辞めているのを見聞きした。みんな開発したいからね。</p><blockquote><p>(おまけ) カスタマーサービスの人たちのためのキャリアパスを用意する</p><ul><li>テクニカルサポートにはデバッグ能力を要求するため、資質の高い人を配置する必要がある</li></ul><p><a href=https://t2y.hatenablog.jp/entry/2021/10/09/162618>More Joel on Software</a></p></blockquote><p>新卒以外の採用ルートで未経験から開発者になるのは、いまは相当に難しいと思う。そんな人たちがキャリアアップするための試金石としてテスターがよいと思う。重要なお仕事だし、テストツールをプログラミングすることで開発者になるための準備期間 (学習) にもあてられる。システムの振る舞いや知識もテストを通して身につけられる。このお仕事を2-3年務められて、プログラミングも少し理解できるようになって、それでも開発者になりたいという意志があるなら開発者にステップアップすればよい。適正があるかどうかわからない状態で開発者を始めるよりも、ゆっくり学んでいけるのでうまくいくのではないか？と思ったりする。うちの会社はまだ社員を雇う余裕がないので私の持論の検証はできないが、どこかの会社でやってみてほしい。</p></div></article><div class=pagination><div class=pagination__buttons><a href=/diary/posts/page/14/ class="button previous"><span class=button__icon>←</span>
<span class=button__text>最近の日記</span></a>
<a href=/diary/posts/page/16/ class="button next"><span class=button__text>過去の日記</span>
<span class=button__icon>→</span></a></div></div></div></div><footer class=footer><div class=footer__inner><div class="copyright copyright--user"><span>© 2021 Tetsuya Morimoto</span>
<span>:: Theme made by <a href=https://twitter.com/panr>panr</a></span></div></div></footer><script type=text/javascript src=/diary/bundle.min.js></script></div></body></html>