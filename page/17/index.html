<!doctype html><html lang=en><head><meta name=generator content="Hugo 0.123.1"><title></title>
<meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=/diary/><link rel=stylesheet href=/diary/styles.css><link rel=stylesheet href=/diary/style.css><link rel="shortcut icon" href=/diary/favicon.ico><meta name=twitter:card content="summary"><meta name=twitter:site content="t2y"><meta name=twitter:creator content="t2y"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:title" content><meta property="og:description" content><meta property="og:url" content="/diary/"><meta property="og:site_name" content><meta property="og:image" content="/diary/favicon.ico"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><link href=/diary/index.xml rel=alternate type=application/rss+xml title></head><body class=green><div class="container full headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=/diary><div class=logo>forest nook</div></a></div><ul class="menu menu--mobile"><li class=menu__trigger>Menu&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=/diary/about>自己紹介</a></li><li><a href=/diary/dates>月別一覧</a></li><li><a href=/diary/tags>タグ一覧</a></li></ul></li></ul></div><nav class=navigation-menu><ul class="navigation-menu__inner menu--desktop"><li><a href=/diary/about>自己紹介</a></li><li><a href=/diary/dates>月別一覧</a></li><li><a href=/diary/tags>タグ一覧</a></li></ul></nav></header><div class=content><div class=posts><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/0225/>開発合宿へ向けてのスライド作り</a></h1><div class=post-meta><span class=post-date>2024-02-25 (Sun.)</span></div><span class=post-tags>#<a href=/diary/tags/workcation/>workcation</a>&nbsp;
#<a href=/diary/tags/slack/>slack</a>&nbsp;
#<a href=/diary/tags/integration/>integration</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#開発合宿の発表資料作り>開発合宿の発表資料作り</a></li><li><a href=#ランダムにメンバーを決めるための-slack-アプリ>ランダムにメンバーを決めるための slack アプリ</a></li></ul></nav></div><div class=post-content><p>2時に寝て6時過ぎに起きた。睡眠はまぁまぁ。</p><p>今日の運動はレッグレイズ(椅子),腹筋ローラー,スクワットをした。統計を <a href="https://docs.google.com/spreadsheets/d/1bg85QtM-LciUgey8I79uI7vW2PEwsP6TVdeIRVkACBg/edit?usp=sharing">運動の記録</a> にまとめる。</p><h2 id=開発合宿の発表資料作り>開発合宿の発表資料作り</h2><p>気付いたらもう次の金曜日から始まる。開発合宿では参加者の親睦会を開いてそれぞれに20分ほど話をしてもらう。私もそのときに使うスライドを作り始めた。いま <a href=/diary/tags/exercise/>運動やトレーニング</a> に凝っているのでその話しをすることに決めた。</p><h2 id=ランダムにメンバーを決めるための-slack-アプリ>ランダムにメンバーを決めるための slack アプリ</h2><p>主催者がランダム性をもってなにかを決めるとき公平性を担保するのが難しい。恣意的に決めようと思えば決められてしまう権限をもっているから。開発合宿の親睦会の発表順番を決めようと思って、なにかよいやり方はないかと調べてみて <a href=https://team-event-picker.vercel.app/>Team Picker</a> という slack アプリを使うことにした。参加者は全員 slack にいる。これならアプリケーションがランダムに選択していることが参加者からみえる。このアプリケーションを私が開発しているわけではないため、少なくとも私がなんらかの不正をすることはできない。</p><p>軽く触ってみて使い方のドキュメントが丁寧でなかったり、(フリー版だから？) 操作していて timeout が発生したりもする。引数の誤りやスレッドへの返信などもわかりにくいエラーになる。ちゃんと動いているのか怪しい印象はあったものの、機能的にはまさに私が欲していた機能だったのでワークスペースに追加してランダム選択してみた。私の発表順番は8人中4番目になった。私は早めに発表した方が気軽に他の人の発表が聞けてよかったりする。後ろの方ではなくてよかった。</p></div></div><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/0224/>忘れていた記事翻訳</a></h1><div class=post-meta><span class=post-date>2024-02-24 (Sat.)</span></div><span class=post-tags>#<a href=/diary/tags/health/>health</a>&nbsp;
#<a href=/diary/tags/translation/>translation</a>&nbsp;
#<a href=/diary/tags/exercise/>exercise</a>&nbsp;
#<a href=/diary/tags/device/>device</a>&nbsp;
#<a href=/diary/tags/government/>government</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#ストレッチ>ストレッチ</a></li><li><a href=#ブログ記事の翻訳>ブログ記事の翻訳</a></li><li><a href=#fitbit-のバッテリーと充電>fitbit のバッテリーと充電</a></li><li><a href=#プールで-fitbit-を身に付けたい>プールで fitbit を身に付けたい</a></li></ul></nav></div><div class=post-content><p>2時に寝て6時過ぎに起きた。運動のせいか、朝もすっきり起きれるようになってきた。</p><p>今日の運動は腹筋ローラー,背筋,散歩をした。統計を <a href="https://docs.google.com/spreadsheets/d/1bg85QtM-LciUgey8I79uI7vW2PEwsP6TVdeIRVkACBg/edit?usp=sharing">運動の記録</a> にまとめる。</p><h2 id=ストレッチ>ストレッチ</h2><p>昨日、一昨日と夜に5千歩ぐらい歩いたせいか、ストレッチをしていて、ふくらはぎ、太ももの前、太ももの後ろ、臀部のツボ、腰周りとあちこち張りがあったり痛かったりした。腰に負荷がかかっているのは気付いていたが、その他の部位はとくに自覚症状がなかった。実際にトレーナーさんがそれぞれの部位をストレッチしてみると全然ダメなことに気付いた。こんな風にたまに私の認識とカラダの状態が異なるときがある。プロのトレーナーさんがいることでストレッチを通してよくない状態をチェックできる。このことは私の物理的な健康に大きく寄与している。今日の開脚幅は開始前153cmで、ストレッチ後157cmだった。</p><h2 id=ブログ記事の翻訳>ブログ記事の翻訳</h2><p>12日前に著者に許可を得て、そのときは余裕がなくて後日やろうと思っているうちに時間が過ぎてしまった。</p><p>スタートアップ企業での働き方や会社の変化などが書いてあっておもしろい。技術系のスタートアップで企業文化として大事なことについても著者の経験から言及している。私もその内容には同意できる。アーキテクチャに関わることはトップダウンでないと判断できない。トップが技術オンチだと、この記事にあるような不可逆的な変更を伴う大胆な決断ができない。私はそういうものを「作ったときから壊れているシステム」と呼ぶ。アーキテクチャが壊れているシステムは作り直すしかないから、小手先でなにをどう改善しても直ることはない。</p><ul><li><a href=https://t2y.hatenablog.jp/entry/2024/02/24/154954>(翻訳) GitLab 社で働くのはどのようなものだったか</a></li></ul><h2 id=fitbit-のバッテリーと充電>fitbit のバッテリーと充電</h2><p>たくさん運動するほどフィードバックが増えるからバッテリーの消耗には個人差があると思う。私の場合、4日ぐらいで30-40%ぐらいになる。50%を下回ったら次の充電タイミングで充電するようにしている。fitibt は 50m 耐水性能を備えていて水泳は問題ないとあるのでお風呂も大丈夫だと思う。睡眠時間を測るために寝るときも付けているので外す時間帯がない。そこで充電タイミングはお風呂へ入るときにしている。お風呂へ入る前に外して充電セットして、お風呂から上がってきてストレッチし終えたら100%になっている。3-4日周期の、お風呂のタイミングで1-2時間充電をしておくとフル充電できる。バッテリーは十分に長持ちすると思う。</p><ul><li><a href="https://support.google.com/fitbit/answer/14236707?hl=ja#zippy=%2C%E7%A7%81%E3%81%AEfitbit%E3%83%87%E3%83%90%E3%82%A4%E3%82%B9%E3%81%AF%E9%98%B2%E6%B0%B4%E4%BB%95%E6%A7%98%E3%81%A7%E3%81%99%E3%81%8B">Fitbit デバイスを着けて泳いだりシャワーを浴びたりできますか？</a></li></ul><h2 id=プールで-fitbit-を身に付けたい>プールで fitbit を身に付けたい</h2><p><a href=https://www.cospa-wellness.co.jp/corp/kobefukushi-sc/>神戸市立市民福祉スポーツセンター</a> のプールでは <a href=/diary/posts/2024/0216/#プール>時計を付けて入ってはいけない</a> というルールがある。受付の担当者さんに、このルールを変更に関して誰に陳情すればよいかを尋ねてみた。すると、担当者さんは神戸市から委託されて運営しているに過ぎないから神戸市に陳情するのがよいと教えてくれた。調べてみると、規制・行政手続きというほど大げさなものではないが、次のページで改善提案を受け付けているのをみつけた。</p><ul><li><a href=https://www.city.kobe.lg.jp/a93584/minaoshiteian.html>規制・行政手続き見直し提案募集</a></li></ul><p>プールで fitbit を付けて入れない現状と、健康管理のためにデータを活用する人は増えているということを踏まえて、なんらかの条件や運用、実証実験などはできないか？という提案をしてみた。個人よりも会社の方が説得力あるかなと思って会社名義で申請した。</p></div></div><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/0223/>慈善活動の動機づけ</a></h1><div class=post-meta><span class=post-date>2024-02-23 (Fri.)</span></div><span class=post-tags>#<a href=/diary/tags/donation/>donation</a>&nbsp;
#<a href=/diary/tags/motivation/>motivation</a>&nbsp;
#<a href=/diary/tags/health/>health</a>&nbsp;
#<a href=/diary/tags/device/>device</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#会社として寄付すること>会社として寄付すること</a></li><li><a href=#スマートボトルの運用>スマートボトルの運用</a></li></ul></nav></div><div class=post-content><p>0時半に寝て6時過ぎに起きた。5時間は眠れたのかもしれない。運動とストレッチの効果が出てきた気がする。</p><p>今日の運動はレッグレイズ(椅子),腹筋ローラー,スクワットをした。統計を <a href="https://docs.google.com/spreadsheets/d/1bg85QtM-LciUgey8I79uI7vW2PEwsP6TVdeIRVkACBg/edit?usp=sharing">運動の記録</a> にまとめる。</p><h2 id=会社として寄付すること>会社として寄付すること</h2><p>石川県へ寄付したことについて書いた。</p><ul><li><a href=https://kazamori.jp/blogs/2024/02/23/donate-to-ishikawa/>石川県への寄付とともに考える企業の社会的責任</a></li></ul><p>個人と法人で扱うお金の量が変わることが稀にある。個人だったら大きな災害をみかけて3万円ほど寄付すれば、私の所得レベルならそんなもんかなと思ったりする。それが法人になると、10万円ならいいでしょとなる。これはなぜなのか？どちらも私の資産から寄付することには変わりない。法人の利益は個人の遊興費には使えないから、余裕があるなら社会のために使おうという気持ちになりやすいのかもしれない。</p><p>ソースがテレビだったかなんだったか忘れてしまったが、あるとき杉良太郎さんの慈善活動について知った。数十億円ものお金を慈善活動に費やしてきたという。売名とか偽善とか、動機づけはなんでもよいから、困っている人たちがいるのだからとにかくやりなさいという姿勢にも共感できた。</p><blockquote><p>カレーを温めていたとき、TVレポーターから「それってやっぱり売名行為ですか？」と投げ掛けられ、「売名に決まってるじゃないですか。あなたも売名でいいからやりなさい」と返し、注目を集めた。</p><p><a href=https://news.line.me/detail/linenews/f4652922fe1d>慈善活動63年、炊き出し数万食…「売名」批判も吹き飛ばす杉良太郎の人助け論</a></p></blockquote><p>燃料や食料の運搬、ボランティアの運営、炊き出しや現地での手伝い。災害があったときに必要とされる活動をできるような会社は素晴らしいように思えた。これから先にうちの会社でそんな日は来ないかもしれないけど、寄付だけではなく、直接的な手伝いなども少しずつできるような会社にしていきたいという願望はあったりする。一方で現実的にはそんな余裕はないかもしれない。</p><h2 id=スマートボトルの運用>スマートボトルの運用</h2><p>先日 <a href=/diary/posts/2024/0217/#スマートボトルを購入>HidrateSpark というスマートボトル</a> を購入していた。週明けには届いていたものの、テストやらリリースやらお仕事にテンパっていたので設置や運用をおざなりにしていた。オフィス用とマンション用に同じものを2つ購入した。946ml という中途半端なサイズではあるけど、ちょっと大きめの水筒でとくに困ることはない。データは HidrateSpark のアプリを介して fitbit に連携される。</p><p>HidrateSpark のアプリはこんな感じ。まだ日本語化されていないので言語設定は英語しかない。水筒から水を出して飲むと減った分の重さから飲んだ水の量が算出される。この数字はあまり厳密ではなく、数十ml程度はズレたりしているようにみえるときもある。とはいえ、私はアスリートではないのだから飲んだ水の量を厳密に管理する必要はない。だいたいの量がわかればよい。</p><figure><img src=/diary/img/2024/0223_hidrate.jpg></figure><p>HidrateSpark のアプリから fitbit にデータ連携して、fitbit アプリでみるとこんな感じになる。fitbit は1週間、1ヶ月といったグラフを出力してくれる。HidrateSpark のアプリはいろいろ情報が出ているけど、あまり役に立たないし、UI もごちゃごちゃしていて感覚的にアプリの完成度が低い気がする。HidrateSpark 社のビジネスはあまりうまくいってないんじゃないかと思ったりする。</p><figure><img src=/diary/img/2024/0223_fitbit.jpg></figure></div></div><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/0222/>確定申告の新しい合わせ技</a></h1><div class=post-meta><span class=post-date>2024-02-22 (Thu.)</span></div><span class=post-tags>#<a href=/diary/tags/health/>health</a>&nbsp;
#<a href=/diary/tags/tax/>tax</a>&nbsp;
#<a href=/diary/tags/event/>event</a>&nbsp;
#<a href=/diary/tags/knowledge-management/>knowledge management</a>&nbsp;
#<a href=/diary/tags/business/>business</a>&nbsp;
#<a href=/diary/tags/information-exchange/>information exchange</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#2023年度の個人の確定申告2>2023年度の個人の確定申告2</a></li><li><a href=#知の創造研究部会>知の創造研究部会</a></li></ul></nav></div><div class=post-content><p>2時に寝て6時半に起きた。いつも通りのサイクル。寝る前と起きた後に体重を測っていると寝た後に体重が少し減ることがわかった。<a href=https://smartsleep.com/ja/blogs/schlafmagazin/abnehmen-im-schlaf>寝ている間の減量</a> でも、寝ているときに筋肉増強と脂肪燃焼の代謝が起こっているらしくて睡眠時間を確保することは重要にみえる。</p><p>今日の運動は腕立て,スクワット,散歩をした。統計を <a href="https://docs.google.com/spreadsheets/d/1bg85QtM-LciUgey8I79uI7vW2PEwsP6TVdeIRVkACBg/edit?usp=sharing">運動の記録</a> にまとめる。</p><h2 id=2023年度の個人の確定申告2>2023年度の個人の確定申告2</h2><p><a href=/diary/posts/2024/0218/#2023年度の個人の確定申告1>先日の書類作成の続き</a> 。さとふるで「寄付金控除に関する証明書」の電子データを申請していた。サイトには2日かかるとあったけど、おそらく翌日には作成完了していたと思う。この xml データを freee で取り込んで確定申告書類を作成する。あとは国境なき医師団への寄付だけ。認定 NPO 団体は <a href=https://www.city.kobe.lg.jp/a83576/kurashi/tax/shikenminze/syotoku/kifukinkojyo/231031kifukin.html>神戸市の条例指定寄附金</a> として申請すればいいのかなと思う。これで金額を確定してそのまま電子申告を行った。</p><p>電子申告したら、電子申告に漏れた書類を別途提出するためのシートがあって、そこには電子申告に関する情報が記載されているので、そのシートと一緒に紙の書類を提出する。午後から近所の確定申告特別会場へ行って提出してきた。提出したものは次の書類になる。</p><ul><li>電子申告に関する情報が記載されたシート</li><li>認定 NPO 団体への寄付の紙の領収書</li></ul><p>初めてだったので受付の担当者にあれやこれやを質問しながら、とくに問題なくそのまま提出できた。念のため、小規模企業共済の掛金控除証明書ももっていたので、この書類も提出した方がよいか質問してみた。これは不要だという。小規模企業共済もマイナポータルで紐付いているので私のマイナンバーから支払履歴を確認できるはず。デジタル庁がよいお仕事をしているのか、確定申告がどんどん電子化されていって楽になっていく。これはこれで毎年楽しみになってきた。</p><p>今回の確定申告で電子申告 + 紙の領収書の合わせ技パターンを学習した。</p><h2 id=知の創造研究部会>知の創造研究部会</h2><p><a href=https://kmsj20240222.peatix.com/view>第64回知の創造研究部会</a> に参加した。冒頭に主催から挨拶があって、このイベントはもう17年やっているらしい。ナレッジマネジメント、知の創造、共創といったものがテーマ、積極的に事例なども紹介している。</p><blockquote><p>18：00～19：30 第一部： <a href=https://yasabi.co.jp/>やさしいビジネススクール</a> <a href=https://yasabi.co.jp/teacher/nakagawa/>中川功一</a> 学長の講演</p></blockquote><p><a href=https://www.youtube.com/channel/UCS89vRmX0PfWxmJWOjJq6ZA>中川先生のやさしいビジネス研究</a> で youtuber もやっているらしい。話しもプレゼンテーションも上手くてわかりやすかった。ディスラプト (disrupt) とは非連続的な変化、まったく別の視点から創造的破壊を行うことを指す。体制側からはネガティブな言葉のように聞こえるが、必ずしもそうではない。ロン・アドナー著のエコシステムディスラプションの紹介されていた。中川氏が監修しているらしい。</p><p><a href=https://amzn.to/3uIHODq target=_blank><img src=https://m.media-amazon.com/images/I/71igX+rttnL._SY425_.jpg width=240></a></p><p>いまのビジネスは単体の製品で行っているわけではない。複数の製品群でイノベーションを起こしている。それをエコシステムと呼んでいる。価値軸の転換をもたらすものが云々。こういった製品の組み合わせが社会的に何を意味しているのか、背景にある潮流を見抜く必要がある。グレタさんのような人をスポンサーしたり投資したりするのはなぜか？どんな方法であれ、ゲームのルールを変更すれば、競争の優位劣位はひっくり返る。世界の企業はいまゲームチェンジを争っている。エコシステムによるビジネスを一般化すると、ゲームチェンジさえ成し遂げればよい。しかし、日本の企業はゲームチェンジが苦手ではないか？</p><blockquote><p>19:35～20：35 第二部： 細野一雄氏の研究書出版講演</p></blockquote><p>sier で定年退職した著者がシニア層 (年配の人たち) が it 業界でどうやって活躍していくか、もしくはシニア層は残りの時間をどのように働いていくかといったことがテーマのお話だった。細野氏の博士論文を一般人向け？に読みやすく書籍にして出版もしている。自費出版ではないそうだが、初版500部と話されていたのでよく出版できたなと思ってしまった。</p><p><a href=https://amzn.to/48tcYMQ target=_blank><img src=https://m.media-amazon.com/images/I/61ldI8sEoxL._SY466_.jpg width=240></a></p><p>私の関心事に近いテーマではあるが、私の関心は第一線を離れたシニアの人たちが若い人にどう技術継承していくかといったことがテーマではない。技術的にも若い人より高いレベルにあるシニア層から若い人たちがどう技術継承していくかに関心がある。会社から厄介者扱いされるような元気のないシニア層に関心はない。シニアは最新の技術に付いていけないといった姿勢で話していて、私の周りにいる同年代や年配の人たちは、一般の若い人よりもずっと高いレベルで働いているのになと思って内容に違和感が多かった。sier で普通に働く人たちの業務と oss の世界で活躍している開発者と比較するのは酷なのかもしれない。</p></div></div><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/0221/>デジタルノマドがもたらす未来の議論</a></h1><div class=post-meta><span class=post-date>2024-02-21 (Wed.)</span></div><span class=post-tags>#<a href=/diary/tags/event/>event</a>&nbsp;
#<a href=/diary/tags/coworking/>coworking</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#コワーキングのオンラインイベント>コワーキングのオンラインイベント</a></li></ul></nav></div><div class=post-content><p>23時に寝て2時に起きて5時に起きた。少しずつよく眠れるようになってきた。</p><p>今日の運動はレッグレイズ(椅子),腹筋ローラー,スクワットをした。統計を <a href="https://docs.google.com/spreadsheets/d/1bg85QtM-LciUgey8I79uI7vW2PEwsP6TVdeIRVkACBg/edit?usp=sharing">運動の記録</a> にまとめる。</p><h2 id=コワーキングのオンラインイベント>コワーキングのオンラインイベント</h2><p>月例のカフーツさんのオンラインイベントに参加した。<a href=/diary/posts/2023/0117/#コワーキングのオンラインイベント>前回の所感はここ</a> 。</p><p>接続するために zoom を起動したら新しいバージョンがあるからアップデートしろと言われて、パッケージをアップデートしたらすごいレベルのメモリリークに遭遇した。あからさまだったのでググったらキャッシュを削除すればよいと書いてあって、これで直った。</p><ul><li><a href=https://community.zoom.com/t5/Meetings/Zoom-Mint-Client-5-17-5-2543-Memory-Leak-and-Crash-on-Startup/m-p/167354>Zoom Mint Client 5.17.5.2543 Memory Leak and Crash on Startup</a></li></ul><p>なぜかその後もマイクとビデオが有効にならなかったので聞くだけしていた。</p><p>小さいイベントに参加するような人たちは自分なりの課題をもっている人が多い。ただ講師の話しを聞きに来る人たちだけではない。イベントに参加した人たちに話してもらう。なにかイベントのための役割を担ってもらうというったお膳立てをすればうまくいくことが多い。</p><ul><li><a href=https://news.yahoo.co.jp/articles/48a035846a86767e1be5c043976752f4e2a466e6>日本が年収1000万円以上の外国人にデジタルノマドビザ発給開始へ</a></li></ul><p>日本でもデジタノマドビザが発行されるようになるらしい。6ヶ月滞在して仕事もしてよい。仕事をしてよいという点が観光ビザと異なる。一方でデジタルノマドに詳しい人の話では、デジタルノマドが長期滞在するということは現実的にあまりないそうで、せいぜい1つの国に2ヶ月程度しかいないらしい。滞在期間を年単位にしたところで1年とかずっといるわけではないというのが、海外の先行事例からも伺えるという。アジア圏でもデジタルノマドビザは韓国、台湾、バリ、タイなどの競合がいるため、あちこち移動するでしょうとのこと。</p><p>全体のお話しを聞いていてちょっと違うなと思ったのが、コワーキングの文脈の課題に関して行政がやるべきといった話題がちらほら出た。これは it 業界特有なのかもしれないけど、なぜ行政なんかに自分たちのビジネスややりたいことの支援ができると期待できるのか、私の経験則からは不思議に思ってしまう。行政なんかなにもしないし、厳しい言い方をしたら税金をそれっぽい会社にばら撒いてやった感を出しているだけ。行政の補助金がほしいというのは、世の中の役に立たなくてもお金をもらえるなら働きますよと言っているようなもので、ここに参加しているような人たちはそうじゃないと思うので、行政なんかに頼らずに自分たちでどんどんやっていったらいいんじゃないかと思えた。行政にお願いしたいのは、自分たちは新しいことをやるので、その邪魔はしないでくれということだけ。</p></div></div><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/0220/>3次開発の終わりと指導</a></h1><div class=post-meta><span class=post-date>2024-02-20 (Tue.)</span></div><span class=post-tags>#<a href=/diary/tags/project-management/>project management</a>&nbsp;
#<a href=/diary/tags/issue-management/>issue management</a>&nbsp;
#<a href=/diary/tags/communication/>communication</a>&nbsp;
#<a href=/diary/tags/document/>document</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#3次開発の完了>3次開発の完了</a></li><li><a href=#リリース作業とインストールテストと手戻り>リリース作業とインストールテストと手戻り</a></li></ul></nav></div><div class=post-content><p>2時前に寝て6時半過ぎに起きた。4時間半も眠れたって感じ。今日も雨降りで外に出れなかった。</p><p>今日の運動は腕立てとスクワットをした。統計を <a href="https://docs.google.com/spreadsheets/d/1bg85QtM-LciUgey8I79uI7vW2PEwsP6TVdeIRVkACBg/edit?usp=sharing">運動の記録</a> にまとめる。</p><h2 id=3次開発の完了>3次開発の完了</h2><p>3.5ヶ月を機能開発、QA テストを1ヶ月やって3次開発を完了した。新人の受け入れ失敗、2週間の開発遅れといった失敗もあったが、計画を補正して概ね予定調和で完了することができた。よかったところは最初から一緒にやっているメンバーの成長が大きく、私がプロジェクトを去っても彼らだけでプロジェクトを運営していく見通しをもてるようになってきた。お手伝い先の要望次第だが、次の開発フェーズを終えたら私がマネージャーを務めるのを終えてもよいかもしれない。</p><p>開発が無事に完了してよかったねという話しとは別に、3ヶ月前に合流した新しいメンバーへはやや厳しく指導した。QA テストをメンバーみんなで役割分担し、そのメンバーには相対的に簡単なタスクを1ヶ月という期間で与えていたにも関わらず、期日になっても4つある issue のうち、1つも完了させていないという体たらくぶりだった。先週の水曜日に 1on1 して4つのうちの2つだけは必ず完了させてほしいと依頼し、本人も了承していた。もっと言えば、1週間もあれば十分にできる程度のタスクでしかない。にも関わらず、期日に完了していないということに「なぜ出来なかったのか？どうすれば完了できたか？」という議題を提起した。</p><p>会議が始まる前にプロジェクトオーナーへも今日は厳し目に指導するからメンバーが落ち込むかもしれないので、そのときはフォローしてくださいと伝えておいた。いまの若い人はストレス耐性がないからちょっと厳しく指摘をすると落ち込むことも推測できた。実際に厳しい指摘をしてみて、私自身も相手がショックを受け過ぎないように言葉を選んだり、できるだけ仕組みをもって改善していくという姿勢で議論を進めた。そういった人間関係の配慮そのものがとても疲れることにも気付いた。昔は上司がボロクソにダメ出しできたのは楽だったんだろうなとも思えた。</p><h2 id=リリース作業とインストールテストと手戻り>リリース作業とインストールテストと手戻り</h2><p>開発と QA テストを完了したのでコンテナイメージやパッケージをリリースする。実際にインストールテストをやりながらインストールドキュメントも修正していく。これがなかなか大変なことに気付いた。機能が増えたり、仕様が変わったりしたところを1つ1つチェックしていく必要があって、個々の変更は軽微でもそれがいくつも数が多くなると覚えてなくて見逃してしまったりもする。そのことに気付いたら修正は容易だが、インストールテストをやっていて気付いたらパッケージングをやり直すこともいくつか出てくる。新機能追加や仕様変更とドキュメント／パッケージングをつなげるための仕組みがいまない。それも考えていかないといけない。</p></div></div><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/0219/>日曜日に運動し過ぎて月曜から疲れている</a></h1><div class=post-meta><span class=post-date>2024-02-19 (Mon.)</span></div><span class=post-tags>#<a href=/diary/tags/testing/>testing</a>&nbsp;
#<a href=/diary/tags/event/>event</a>&nbsp;
#<a href=/diary/tags/blog/>blog</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#qa-テスト>QA テスト</a></li><li><a href=#テックブログを読むためのイベント考察>テックブログを読むためのイベント考察</a></li></ul></nav></div><div class=post-content><p>1時半に寝て6時前に起きた。今日もよく眠れたと思う。1日中天気が悪かったのもあってあまり外出 (運動) せず休息の日になった。</p><p>今日の運動はレッグレイズ(椅子),腹筋ローラー,スクワット,散歩をした。統計を <a href="https://docs.google.com/spreadsheets/d/1bg85QtM-LciUgey8I79uI7vW2PEwsP6TVdeIRVkACBg/edit?usp=sharing">運動の記録</a> にまとめる。</p><h2 id=qa-テスト>QA テスト</h2><p><a href=/diary/posts/2024/0209/>先週から引き続き</a>、ずっとテストをしている。今日から windows server の active directory への連携に関するテストをしていた。プライマリグループという設定があって、その連携方法だけ分からなくてまた明日メンバーに教えてもらうことにした。テストは誰がやっても時間がかかるし、うまくいかないときに設定が悪いのか、データが誤っているのか、操作が適切ではないのか、調査にも時間がかかる。実際に手を動かしてみると、メンバーから聞いてるだけではわからない気付きも得られるのでこれはこれでよい経験になったと思う。ただ時間だけがどんどん削られるというのが欠点。</p><h2 id=テックブログを読むためのイベント考察>テックブログを読むためのイベント考察</h2><p><a href=https://blogreading.connpass.com/event/310870/>テックブログ一気読み選手権20240219杯</a> に参加した。今日はにしはらさんが都合悪かったようで誰もいなかった。1人でテックブログを読んで、1人で hackmd にまとめて、それでイベントを終えた。その時間に都合が悪くても非同期に読めばよいというイベントの主旨ではあるけれど、なんのためにイベントをやっているのか？ということについて考えてみた。確かにイベントがあることでテックブログを1つ2つ読む機会になっている。これはイベントが中止であれば読まなかったかもしれない。一方で読んで他社へ話して共有する過程で新たな価値に気付くといったこともこのイベントの主旨ではあるのでその効果は落ちてしまう。なによりもイベントに参加して、誰もいなくて、ただまとめを書いて終えるというのはなにか寂しい。</p></div></div><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/0218/>人が詩を読むとき</a></h1><div class=post-meta><span class=post-date>2024-02-18 (Sun.)</span></div><span class=post-tags>#<a href=/diary/tags/health/>health</a>&nbsp;
#<a href=/diary/tags/exercise/>exercise</a>&nbsp;
#<a href=/diary/tags/device/>device</a>&nbsp;
#<a href=/diary/tags/book/>book</a>&nbsp;
#<a href=/diary/tags/world-view/>world view</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#睡眠時無呼吸症候群の検査キット>睡眠時無呼吸症候群の検査キット</a></li><li><a href=#掃除のエネルギー消費>掃除のエネルギー消費</a></li><li><a href=#2023年度の個人の確定申告1>2023年度の個人の確定申告1</a></li><li><a href=#頁をめくる音で息をする>頁をめくる音で息をする</a></li></ul></nav></div><div class=post-content><p>4時に寝て5時頃に起きてトイレに行ってまた寝て7時半に起きた。2時前から布団に入っていたと思うが、夜に居眠りするせいで夜中はうまく眠れない。</p><p>今日の運動はレッグレイズ(椅子),腹筋ローラー,腕立て,スクワット,背筋,水中ウォーキング,縄跳び(両足跳),散歩をした。統計を <a href="https://docs.google.com/spreadsheets/d/1bg85QtM-LciUgey8I79uI7vW2PEwsP6TVdeIRVkACBg/edit?usp=sharing">運動の記録</a> にまとめる。</p><h2 id=睡眠時無呼吸症候群の検査キット>睡眠時無呼吸症候群の検査キット</h2><p><a href=https://www.philips.co.jp/healthcare/product/HCNOCTN439/watchpat-unified>フィリップス社のウォッチパット ユニファイド</a> という検査キットが送られてきた。指先と喉元に装置を付けて電源を ON にして眠るだけ。装置の特徴としておもしろいのは電源を ON にしたら OFF にすることはできなくて10時間後に自動的に OFF になるという。これは寝ている間に誤操作で電源が OFF にならないようにという配慮だと思う。正しい設計だと思う。また晩ご飯食べてから1-2時間居眠りしてしまって、それから40分ほど散歩行って、お風呂入ってストレッチして眠ることにした。ちょっと寝てしまっていたからいつもより寝付けなくてうまく検査できているか、普段通りではないという意味で不安でもある。4-6時ぐらいまでは普通に眠れたと思うけど、サンプリングのデータとしては少ないかもしれない。</p><h2 id=掃除のエネルギー消費>掃除のエネルギー消費</h2><p>午前中、部屋の掃除やレイアウト変更を2-3時間していた。ふと fitbit のアクティビティをみると、散歩と同等もしくはそれよりも高い数値を示していた。掃除けっこうしんどいのはそうだし、あちこち歩いたり拭いたりモノを片付けたりするから歩くよりもカラダ全体を使って運動しているという見方ができる。定期的に部屋のレイアウト変更や大掃除をすると、よい有酸素運動になることに気付いた。</p><h2 id=2023年度の個人の確定申告1>2023年度の個人の確定申告1</h2><p><a href=/diary/posts/2023/0313/#2022年度の個人の確定申告>昨年の確定申告はこちら</a> 。書類作りの作業に着手し始めた。今年も昨年とやることはほとんど変わらない。</p><ul><li>給与の源泉徴収票からの転機</li><li>印税売上を源泉徴収済み雑収入として登録</li><li>ふるさと納税と npo 向けの寄付金の登録</li><li>株式の取引報告書の登録 (損益通算)</li><li>小規模企業共済の所得控除の登録</li></ul><p>ふるさと納税の入力をしようとして電子申請できるようになっていることに気付いた。今年から？</p><blockquote><p>特定事業者のポータルサイトにてダウンロードした寄付金控除に関する証明書（XML形式）から寄付金の内容をまとめて取り込むことができます。</p></blockquote><p>私は <a href=https://www.satofull.jp/>さとふる</a> でふるさと納税の手続きをしている。調べてみたらポータルで「寄付金控除に関する証明書」を電子データで発行してくれる。申請してから発行に2日かかるという点が意味不明だけど、申請して待つことにした。来年からは事前に証明書を発行をやっておくとよさそう。</p><ul><li><a href="https://www.satofull.jp/static/kifukin_shomei.php?valinkid=AS00227_1">ふるさと納税 「寄付金控除に関する証明書」発行・発送サービス</a></li></ul><p>いつの間にか上場株式等に係る譲渡損失の損益通算及び繰越控除が freee 上でできるようになっていた。昔はこの書類は電子申請に対応していなかったような気がする。</p><ul><li><a href=https://www.nta.go.jp/taxes/shiraberu/taxanswer/shotoku/1474.htm>No.1474 上場株式等に係る譲渡損失の損益通算及び繰越控除</a></li></ul><p>ふるさと納税が電子申請できるようになったことであとは認定 NPO への寄付金控除の領収書、具体的には「国境なき医師団」の領収書だけが紙で残った。私にとって必要な確定申告の大半は電子申請できるようになった。</p><h2 id=頁をめくる音で息をする>頁をめくる音で息をする</h2><p>オフィスの机の上にある書類やら備品やらがとっ散らかった雑踏の中に <a href=/diary/posts/2023/1114/>読みかけのまま</a> の状態の本をみつけた。ちょうど2時間ほど時間を持て余していて、その隙間時間によいタイミングに現れた。まさにこの日の、この時間のためにそこに佇んでいたかのよう。6割ぐらいは読み終えていたからちょうど2時間弱で読み終えた。端的に言って本書は興味深い読みものに感じる。</p><blockquote><p>「ひととの繋がりを生む町の本屋さん」というのを見かけるたびに、自分は人と繋がりたくないから本を読んでいたのかもしれないと思う。生きていればいくらでも繋がりがあるのに、どうして本の世界でも繋がらないといけないのだろう。そうとはいえ、古本屋を続けて来て、一枚手ぬぐいを作れるぐらいには無数の糸ができている。ひとりになりたかったのに、ひとりでは生きてはいけないことを知る。</p></blockquote><p>この表現は私の最近の心境と、とてもよく似ている。嘘と欺瞞だらけの組織や煩わしい人間関係に愛想を尽かして、起業した頃、ひとりでひっそりと自分の仕事だけをしていこうと考えていた。そして、実際にそれに近いことを1-2年やってみて <a href=https://note.com/t2y1979/n/n84deed5fd934>それではうまくいかない</a> ことを知った。</p><p>著者は文学を学んでいた方なので本書では詩をたくさん紹介している。多くの人は人生において詩を読む時間は少ない。私も学生の頃の授業以外で詩をほとんど読んだことはないと思うし、詩を読んでもあまりピンとこないことが多い。しかし、人生において詩を読む機会は何度かあるのだろうなとは思う。それは人生がうまくいっていないときだと思う。</p><ul><li>何ものにもなれない自分を実感したとき、なにかしらの詩を読んで思うところがあるかもしれない</li><li>起業して失敗して、なんだかよくわからない手応えのとき、なにかしらの詩を読んで思うところがあるかもしれない</li><li>昔のように一心不乱に集中した開発はできないことはわかっているのに惰性で開発を続けているとき、なにかしらの詩を読んで思うところがあるかもしれない</li></ul><p>本書を読んでいると、なぜ人は詩を読むのかの根源を探す旅に出掛けるような気がしてくる。</p></div></div><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/0217/>スマートボトルの調査</a></h1><div class=post-meta><span class=post-date>2024-02-17 (Sat.)</span></div><span class=post-tags>#<a href=/diary/tags/health/>health</a>&nbsp;
#<a href=/diary/tags/exercise/>exercise</a>&nbsp;
#<a href=/diary/tags/device/>device</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#ストレッチ>ストレッチ</a></li><li><a href=#縄跳びを再開>縄跳びを再開</a></li><li><a href=#スマートボトルを購入>スマートボトルを購入</a><ul><li><a href=#リファレンス>リファレンス</a></li></ul></li></ul></nav></div><div class=post-content><p>昨日はプールで疲れて21時過ぎにうたた寝して1時ぐらいに起きて眠れなくなって3時に寝て7時に起きた。</p><p>今日の運動はレッグレイズ(椅子),腹筋ローラー,スクワット,縄跳び(両足跳,駆け足跳)をした。統計を <a href="https://docs.google.com/spreadsheets/d/1bg85QtM-LciUgey8I79uI7vW2PEwsP6TVdeIRVkACBg/edit?usp=sharing">運動の記録</a> にまとめる。</p><h2 id=ストレッチ>ストレッチ</h2><p>運動とストレッチのバランスがよくなってきた。今日はふくらはぎと肩周りのツボや胸筋の張りが辛かった。散歩していると腰にも負荷がくるのであまりよくないのではないかと思ったけど、トレーナーさんによるとは腰はそれほどでもないとのこと。自分でやっているストレッチとは別に、トレーナーさんが毎週ストレッチしてもらえるのは代謝をあげるための疲労回復に効果があると思う。体重も5%ほど減ってそろそろ停滞時期に入る頃だが、まだ順調に下がり続けている。今日の開脚幅は開始前156cmで、ストレッチ後159cmだった。代謝をよくするため、就寝前に疲労回復向けにストレッチをよくやるようになって少し数値が改善している。</p><h2 id=縄跳びを再開>縄跳びを再開</h2><p>縄跳びを急にやったせいか、足の骨か筋の変なところを痛めてしまっていた。<a href=/diary/posts/2024/0203/#ストレッチ>トレーナーさんのアドバイス</a> に従い痛みが治るまで2週間お休みしていた。もう大丈夫かな？とやってみたけど、まったく痛みは感じなので寛解したと思う。この期間にプールで水中ウォーキングを発見できたのもよかった。散歩で歩くのは足首や腰に負荷がかかるけど、プールならまったく足腰に負荷がかからない。定期的にプールへ行くことで足腰の休養にもなる。痛みが消えたことで安定的に跳べるようになってきたのでもう少し慣れたら回数から時間へのワークロードに変えていこうと思う。</p><h2 id=スマートボトルを購入>スマートボトルを購入</h2><p>fitbit に記録できるものの中に飲んだ水の量がある。<a href=/diary/posts/2024/0204/>格闘家に学ぶ体脂肪コントロール</a> 本にもミネラルウォーターを1日最低2リットル、できれば4リット飲めと言っている。水を飲むと水分をカラダ中に運ぶことそのものがエネルギーを消費して効率がよいのと、老廃物を排出しやすくなったり、代謝の循環をよくする効果があるという。厚労省も健康のために水を飲めと言っているし、多くの健康やダイエットの記事も水を飲めと言っている。</p><p>いちいち飲んだ水の量をアプリに入力していくのは面倒だし、飲んだ水の量なんかそうそう覚えていない。そこで水を飲んだときにその量をデータ連携してくれるボトルを探してみた。<a href=https://hidratespark.com/>HidrateSpark</a> というプロダクトがよいらしいことがわかった。ボトルの底にセンサーが付いていて重さの変化で飲んだ水の量を計測して bluetooth 接続で連携するらしい。amazon で購入しようと調べていると、なぜかわからないが、apple store で売っているものの方が値段が3000円ほど安かったので apple store から 32 oz. (946ml) のスマートボトルを2つ購入した。オフィス用と家用に置いて、飲んだ水の量をじゃんじゃか記録する。</p><ul><li><a href=https://www.apple.com/jp/shop/product/HQ222ZM/A/hidratespark-pro-steel-32-oz946mlsmart-water-bottle-bonus-straw-lid>HidrateSpark PRO STEEL - 32 oz.（946ml）Smart Water Bottle + Bonus Straw Lid</a></li></ul><h3 id=リファレンス>リファレンス</h3><ul><li><a href=https://qiita.com/myblackcat7112/items/fc1e48ad9f104d62dc21>今日、水、どれだけ飲んだっけ？に答える仕組みをつくったよー。</a></li><li><a href=https://www.mhlw.go.jp/stf/seisakunitsuite/bunya/topics/bukyoku/kenkou/suido/nomou/index.html>「健康のため水を飲もう」推進運動</a></li></ul></div></div><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/0216/>fitbit にデータを連携していく</a></h1><div class=post-meta><span class=post-date>2024-02-16 (Fri.)</span></div><span class=post-tags>#<a href=/diary/tags/health/>health</a>&nbsp;
#<a href=/diary/tags/exercise/>exercise</a>&nbsp;
#<a href=/diary/tags/device/>device</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#体重計>体重計</a></li><li><a href=#プール>プール</a></li></ul></nav></div><div class=post-content><p>3時に寝て7時前に起きた。なぜかいろいろ忙しい。</p><p>今日の運動は腕立て,スクワット,水中ウォーキングをした。統計を <a href="https://docs.google.com/spreadsheets/d/1bg85QtM-LciUgey8I79uI7vW2PEwsP6TVdeIRVkACBg/edit?usp=sharing">運動の記録</a> にまとめる。</p><h2 id=体重計>体重計</h2><p><a href=/diary/posts/2024/0214/#fitbit-で睡眠時間を観察>ながいさんのアドバイス</a> のおかげで anker 製の fitbit 対応の体重計を購入した。<a href=https://apps.apple.com/jp/app/eufylife/id1153481724>EufyLife</a> というアプリを介して bluetooth 接続で体重に関するデータをスマホに取り込む。スペースの都合でスクリーンショットには6つしか表示されていないけど、12項目を計測できる。率と量は同じものだからそれでかさ増ししている感もある。基本的に肥満なのでいろいろ数値は悪いのだけれども、筋肉と骨だけが正常の値を示している。骨は昔から健康診断へ行く度に先生から頑丈だと褒められた記憶がある。筋肉は筋トレを始めて1ヶ月以上経つのでその成果が出てきているのかもしれない。</p><figure><img src=/diary/img/2024/0216_scale.jpg></figure><p>EufyLife アプリに fitbit と apple ヘルスケアへの連携設定がある。それを有効にすることで体重データも fitbit のダッシュボードでも確認できる。fitbit では体重と体脂肪率の2つしか管理していない。もっと細かい数値をみたかったら EufyLife のアプリを参照することになる。それぞれのアプリの用途が異なるので、今後も両方のアプリを使う気がする。</p><h2 id=プール>プール</h2><p>18時半から <a href=https://www.cospa-wellness.co.jp/corp/kobefukushi-sc/>神戸市立市民福祉スポーツセンター</a> のプールへ行ってみた。18時台は10人未満で1コースを1-2人で使っている状態で空いていていいなと思えた。19時まわってから徐々に人が増えていって20人前後になったと思う。平日でもみんなお仕事終えてからプールにくるんやなということがわかった。私が滞在していた1時間強ぐらいの間でも車椅子に乗った方が2人来られていた。土曜日は障がい者専用になっている。普段そういった属性の人たちと接することはないので新鮮に感じた。</p><p>fitbit を付けて歩いたり泳いだりしていたら、監視員の方に「時計は外してください」と注意された。fitbit は時計じゃないんだけど、時計機能も付いているから確かに時計だなと納得してしまった。その後、外して運動していたわけだけど、プールのアクティビティを記録することができない。監視員さんもルールに従って運営しているので、これは偉い人に fitbit をつけてプールに入れるようにルール改定の陳情しないといけないと理解した。</p><p>プールを終えてから元町の kaldi へ <a href=https://www.kaldi.co.jp/ec/pro/disp/1/4571347775105>いぶりがっこのタルタルソース 160g</a> を買いに行った。fitbit を付けてから運動量や消費エネルギーがみえることで有酸素運動のモチベーションが格段に上がった。意味なく少し遠いお店へ歩いて買いものへ行く。あと、いぶりがっこのタルタルソースがめちゃくちゃおいしい。これ考えた人は天才やと思う。</p></div></div><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/0215/>致命的バグをみつけた</a></h1><div class=post-meta><span class=post-date>2024-02-15 (Thu.)</span></div><span class=post-tags>#<a href=/diary/tags/ldap/>ldap</a>&nbsp;
#<a href=/diary/tags/debug/>debug</a>&nbsp;
#<a href=/diary/tags/design/>design</a>&nbsp;
#<a href=/diary/tags/tax/>tax</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#agent-の致命的なバグ>agent の致命的なバグ</a></li><li><a href=#定額減税>定額減税</a></li></ul></nav></div><div class=post-content><p>2時頃に寝て5時過ぎに起きた。お風呂に入るときに fitbit を外して、その後付けるの忘れて寝てしまったから睡眠時間を計測できなかった。</p><p>今日の運動はレッグレイズ(椅子),腹筋ローラー,腕立て,スクワットをした。統計を <a href="https://docs.google.com/spreadsheets/d/1bg85QtM-LciUgey8I79uI7vW2PEwsP6TVdeIRVkACBg/edit?usp=sharing">運動の記録</a> にまとめる。</p><h2 id=agent-の致命的なバグ>agent の致命的なバグ</h2><p>先週から QA テストをしていて agent の致命的なバグに気付いた。もともとあった java 製の agent から私が設計して作り直した go 製の agent になる。<a href=/diary/posts/2024/0115/#ldap-エントリーの更新リクエストをランダムに行うツール>ldap エントリーの更新リクエストのテストツール</a> を作ったことでシビアなタイミングによるバグを検出できた。</p><p>ツールを使ってテストしていて、成功するはずのリクエストが失敗して、ログを調査しながらデバッグしていた。ldap エントリーを扱う難しさの1つに、ldap サーバーはエントリー間の依存関係やデータの整合性といったものを検証しない。そういった用途はアプリケーションの役割であって、ldap プロトコルはあくまで id を管理することに特化したものという役割分担になっているのだと推測する。そうすると、(open) ldap サーバーへ登録できたエントリーが次の agent や api サーバーといったアプリケーションのレイヤーでエラーになることがある。このとき、ldap サーバーではエラーが発生していないため、直接的なエラーを検知することができなくて、デバッグや調査に時間がかかる。</p><p>agent の実装として、ユーザーエントリのストリームとグループエントリーのストリームの2つに分割して、非同期にそれぞれのエントリーを id 連携する設計にしていた。というのは、ldap エントリーにはユーザーやグループといった概念は原則として存在しない。そのエントリーがユーザーなのか、グループなのかはアプリケーションが判断している。アプリケーションの用途としてはこの2つを明確にわけないと不便なことから、ワークアラウンドもしくは実務的な解決策として検索するときのフィルターと base dn で管理するようにしていた。そして、これらをそれぞれ別のストリームとして扱うよう、私が設計していた。このことがタイミングによってはユーザーエントリーとグループエントリーに依存関係がある場合、データの整合性を保証できないことに気付いた。なぜならば、ユーザーエントリーとグループエントリーそれぞれ非同期／並行に処理されてしまうから。</p><p>結論としては、ldap サーバーからエントリーの更新の順序を保証するには1つのストリームを subscribe しないといけない。そして、ストリームから取り出したエントリーがユーザーなのか、グループなのかはアプリケーションが判別しないといけない。テストツールを作ったことでシビアなバグも検出できた。</p><h2 id=定額減税>定額減税</h2><p><a href=https://www.nta.go.jp/users/gensen/teigakugenzei/index.htm>定額減税 特設サイト</a> が公開されたらしいというニュースをあちこちでみつける。従業員の税金が安くなるので経営者としての私がなにかしないといけないと思っているけれども、まだ何をしていいのかよくわかっていない。時間をみつけて調べないといけない。税制が変わるとこういった事務手続きが突発的に入ってくるのがマイクロ法人の面倒なところ。</p></div></div><div class=pagination><div class=pagination__buttons><a href=/diary/page/16/ class="button previous"><span class=button__icon>←</span>
<span class=button__text>最近の日記</span>
</a><a href=/diary/page/18/ class="button next"><span class=button__text>過去の日記</span>
<span class=button__icon>→</span></a></div></div></div></div><footer class=footer><div class=footer__inner><div class=copyright><span>© 2024 Powered by <a href=https://gohugo.io>Hugo</a></span>
<span>:: <a href=https://github.com/panr/hugo-theme-terminal target=_blank>Theme</a> made by <a href=https://github.com/panr target=_blank>panr</a></span></div></div></footer><script type=text/javascript src=/diary/bundle.min.js></script></div></body></html>