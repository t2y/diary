<!doctype html><html lang=en><head><meta name=generator content="Hugo 0.109.0"><title>forest nook</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=/diary/><link rel=stylesheet href=/diary/styles.css><link rel=stylesheet href=/diary/style.css><link rel="shortcut icon" href=/diary/favicon.ico><meta name=twitter:card content="summary"><meta name=twitter:site content="t2y"><meta name=twitter:creator content="t2y"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:title" content="forest nook"><meta property="og:description" content><meta property="og:url" content="/diary/"><meta property="og:site_name" content="forest nook"><meta property="og:image" content="/diary/favicon.ico"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><link href=/diary/index.xml rel=alternate type=application/rss+xml title="forest nook"></head><body class=green><div class="container full headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=/diary><div class=logo>forest nook</div></a></div><ul class="menu menu--mobile"><li class=menu__trigger>Menu&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=/diary/about>自己紹介</a></li><li><a href=/diary/dates>月別一覧</a></li><li><a href=/diary/tags>タグ一覧</a></li></ul></li></ul></div><nav class=navigation-menu><ul class="navigation-menu__inner menu--desktop"><li><a href=/diary/about>自己紹介</a></li><li><a href=/diary/dates>月別一覧</a></li><li><a href=/diary/tags>タグ一覧</a></li></ul></nav></header><div class=content><div class=posts><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0116/>今週は日銀会合に注目</a></h1><div class=post-meta><span class=post-date>2023-01-16 (Mon.)</span></div><span class=post-tags>#<a href=/diary/tags/event/>event</a>&nbsp;
#<a href=/diary/tags/economy/>economy</a>&nbsp;
#<a href=/diary/tags/code-reading/>code reading</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#コードリーディングの準備>コードリーディングの準備</a></li><li><a href=#インフレ勉強会>インフレ勉強会</a></li></ul></nav></div><div class=post-content><p>2時に寝て7時半に起きた。ちょっと生活が乱れ気味。</p><h2 id=コードリーディングの準備>コードリーディングの準備</h2><p>tenntenn さんの <a href=https://tenntenn.dev/ja/posts/2022-01-18-tennconn-codereading/>コードリーディングをしよう #tennconn</a> のやり方を参考に、コードリーディングの勉強会を行うことにした。ある4つのプログラムがあって実績もあるという話しなので基本的には既存のコードがどのように動いているのかをメンバーみんなで確認しておこうといったもの。その段取りを決めたり、日程のスケジュールを調整したり、基本的にはイベント当日にソースを読むようにして準備の負担を少なくする一方、私が一番既存のコードを知らないので事前にソースを読んでおこうとリポジトリを眺めていた。</p><h2 id=インフレ勉強会>インフレ勉強会</h2><p><a href=https://inflation.connpass.com/event/271462/>エンジニアのためのインフレ研究会 #2</a> に参加した。この火曜日・水曜日の2日間に渡って開催される日銀会合に注目が集まっているという話題があった。議論に揉めたりしなかったら正午前に会合の結果がすぐ公表されるが、政策変更があるときは発表が遅れる傾向にあって発表時間が早い・遅いでも結果を予測して為替などが動くらしい。後藤さんの記事でも同じようなことが書いてあった。これまで日銀会合なんて気にしたことはなかったけど、政策変更の可能性があるかも？と言われるとへーと思って注目してみようと思う。こういう関心をもつ機会が増えると経済を学ぶきっかけになるかもしれない。</p><ul><li><a href=https://note.com/goto_finance/n/nb27ed02e1754>日銀会合 発表時刻も要注目</a></li></ul></div></div><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0115/>半日ずっと書きものしてた</a></h1><div class=post-meta><span class=post-date>2023-01-15 (Sun.)</span></div><span class=post-tags>#<a href=/diary/tags/life/>life</a>&nbsp;
#<a href=/diary/tags/book/>book</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#散髪>散髪</a></li><li><a href=#日記>日記</a></li><li><a href=#フリーランス４０歳の壁>フリーランス、４０歳の壁</a></li></ul></nav></div><div class=post-content><p>20時ぐらいからだらだらしていて寝たり起きたりしていた。9時に起きた。バテてたからちょうど休養になった。</p><h2 id=散髪>散髪</h2><p>年末に行こうと思っていたのが葬儀で予定が狂ってしまってその後も会社の事務手続きや社用車の購入にバタバタして出張があって今日行ってこれた。いつも散髪に行って思うことはもっと早く行けばよかったということ。散髪を終えた後の髪の鬱陶しさから解放されて楽に感じる。もう一定の髪量になったら私のカレンダーの空いている時間帯を見繕って自動的に散髪屋さんに予約をとってほしいとすら思える。カメラとカレンダーを組み合わせてそういったワークフローを作ること自体はできるかもしれない。</p><h2 id=日記>日記</h2><p>出張していたときの日記をまとめて推敲してアップロードした。なんか出張すると、夜はお出かけして遊んでたり、ホテルに戻ってからもだらだらして日記を書かないことが多い。原因の1つにホテルの部屋の椅子がオフィスにあるものと比べてよくない。疲れて帰ってきて、オフィスよりも椅子の悪いところで日記を書く気になれないというのがある。アーロンチェアに慣れてしまってこの椅子で書きものをするのが快適過ぎて、他の環境で書くのをためらってしまう自分がいる。アーロンチェアは半日以上書きものしていても全然疲れない。</p><h2 id=フリーランス４０歳の壁>フリーランス、４０歳の壁</h2><p>早いうちの方が覚えているからよいだろうとエイヤで書いてみた。読み終えた後にあまり思い入れもなかったので書評も簡潔なものとなった。まぁまぁの手応え。</p><ul><li><a href=https://note.com/t2y1979/n/na2e147afbf0e>フリーランス、４０歳の壁の書評</a></li></ul></div></div><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0114/>ストレッチと読書会で体力を使い果たした</a></h1><div class=post-meta><span class=post-date>2023-01-14 (Sat.)</span></div><span class=post-tags>#<a href=/diary/tags/life/>life</a>&nbsp;
#<a href=/diary/tags/event/>event</a>&nbsp;
#<a href=/diary/tags/kubernetes/>kubernetes</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#ストレッチ>ストレッチ</a></li><li><a href=#オンライン読書会>オンライン読書会</a></li></ul></nav></div><div class=post-content><p>23時に寝て3時と5時に起きつつ7時に起きた。21時半には出張から家に戻ってきて天気がよかったらオフィスへ行ってたんだけど、雨降りだったのでそのまま寝てた。今日もストレッチを終えてから読書会に参加したらその後は眠くなってしまって家に帰って寝ていた。ストレッチと読書会しかやっていないのに一日の体力を使い果たした状態になるぐらいの疲労が蓄積している。</p><h2 id=ストレッチ>ストレッチ</h2><p>今日の開脚幅は開始前155cmで、ストレッチ後159cmだった。数字の上では先週と大差ないのだけど、疲労の蓄積で右腰と右股関節周りが大変なことになっている。久しぶりにストレッチを受けていて辛くて耐えきれないところの一歩手前まで到達していた。ふくらはぎとか限界に近かったが、なんとか耐えきった。出張前に懸念していたことでもあったけれど、結果として、出張前のストレッチで復調しつつあった体調は悪化したと言わざるを得ない。たくさん歩いたことや慣れないホテル暮らしで腰と右足に負担がかかってしまった。</p><h2 id=オンライン読書会>オンライン読書会</h2><p>先月はオフィスの引っ越しで不参加だったため、1ヶ月飛ばしで <a href=https://technical-book-reading-2.connpass.com/event/268668/>第6回『Go言語による分散サービス』オンライン読書会</a> に参加した。本書の読書会は今日で最後の読書会で次の2章を読んだ。</p><ul><li>10章 Kubernetes でローカルにアプリケーションをデプロイ</li><li>11章 アプリケーションを Kubernetes でクラウドにデプロイ</li></ul><p>10章では <a href=https://kind.sigs.k8s.io/>kind</a> というローカル k8s クラスターを構築するツールを使って go アプリケーションをデプロイする。データベースのようなデータを永続化するようなサービスのためのリソース種別に <a href=https://kubernetes.io/docs/concepts/workloads/controllers/statefulset/>StatefulSets</a> がある。私は使ったことがないリソース種別だったのでキーワードを知ることができてよかった。<a href=https://jsonnet.org/>jsonnet</a> というデータテンプレート言語というツールも出てきて、なんだこれは？と思ってびっくりした。これも初見だし、使っている話しも聞いたことなかった。本書でも k8s については書籍を一冊書いても足りないと説明されていて、アプリケーションのデプロイに必要な k8s マニフェストの説明を10章だけでやって、ほとんどの読者は置いてけぼりだと思う。k8s の運用経験のある私が読んでも yaml の正当性なんて動かしてみないとわからないし、k8s はバージョンアップが速いのですぐに陳腐化する可能性もある。helm のパッケージングなどにも触れていてキーワードを知るという意味ではよかったと思う。この2つの章は k8s へのデプロイはこんな感じですよという雰囲気を味わってもらうお気持ち程度の内容だと思う。</p><p>15時頃には読み終えて、それから8人ぐらいで雑談していた。私は書籍の組版を自分でやったことはないのだけど、しばたさんは出版社によっては自分で組版までやって pdf で納品しているらしい。現行は tex で管理しているようにみえる。余白の調整や索引作るのも自分でやっているらしい。ある本は後になってから出版社の規定している余白よりも広過ぎてページ数が増えたことに気付いて、その後の本で余白を調整したりしたとのこと。本来はそういうお仕事は編集者のお仕事ではある。とくに索引は数ページになったりするので大変といった話しをされていた。effective java 第3版だと索引だけで9ページある。</p></div></div><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0113/>あとになって13日の金曜日だったことに気付く</a></h1><div class=post-meta><span class=post-date>2023-01-13 (Fri.)</span></div><span class=post-tags>#<a href=/diary/tags/rabbitmq/>rabbitmq</a>&nbsp;
#<a href=/diary/tags/project-management/>project management</a>&nbsp;
#<a href=/diary/tags/iterative-and-incremental-development/>iterative and incremental development</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#rabbitmq-の-exchangequeue-の初期化>rabbitmq の exchange/queue の初期化</a></li><li><a href=#ビッグテックのマネジメント勉強会>ビッグテックのマネジメント勉強会</a></li></ul></nav></div><div class=post-content><p>0時に寝て6時半に起きた。2時か3時頃に急に咳込んで飛び起きてコロナ感染したんじゃないかと危惧したけど、5分ほどしたら治ってその後もなんともなくなった。よくあるたまに吐き気がして起きるときの咳き込むバージョンだったのかな。たぶん胃食道逆流症のせいだと思うけど、慢性化しつつあるので余裕のあるときに病院でみてもらった方がよいかもしれない。</p><h2 id=rabbitmq-の-exchangequeue-の初期化>rabbitmq の exchange/queue の初期化</h2><p>docker compose で環境構築をするときに rabbitmq の exchange/queue の設定を初期化したい。調べてみると <a href=https://www.rabbitmq.com/definitions.html>Schema Definition Export and Import</a> という仕組みを使うのがよさそうにみえた。推奨方法としては rabbitmq クラスターが起動した後、管理ツールで <code>definitions.json</code> をインポートするのがよいとある。別のやり方として設定ファイルに <code>definitions.json</code> へのパスを記述しておくと、rabbitmq プロセスの起動時にインポートしてくれるという。このやり方だとプロセスの再起動時にも毎回インポート処理が実行されるので初期設定の定義が大きくなるほど起動処理のオーバーヘッドが大きくなるというデメリットがある。またクラスター環境だと、それぞれのノードでの起動時に同じインポート処理が実行されることになるのでそのオーバーヘッドの分だけ効率が悪い。いま作っている環境はオンプレ向けの1つの rabbitmq サーバーのみだし、初期設定の定義もシンプルなので起動時のオーバーヘッドはとくに気にしなくてよいだろうと考えている。</p><p><code>definitions.json</code> は、あらかじめ rabbitmq の exchange/queue の設定を手動設定した後、管理 API を呼び出して取得したものをベースに不要な設定を取り除くと生成できる。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ curl -s -u <span style=color:#e6db74>&#34;guest:guest&#34;</span> -X GET http://localhost:15672/api/definitions | jq .
</span></span></code></pre></div><h2 id=ビッグテックのマネジメント勉強会>ビッグテックのマネジメント勉強会</h2><p><a href=/diary/posts/2023/0108/#課題管理勉強会の資料作り>出張前の事前に資料作り</a> しておいた勉強会を開催した。出席者の大半はリモートから参加しており、オフィスの会議室では私と他に1人だけだった。毎月1回、私がオフィスに出社するタイミングで質疑応答しやすいように課題管理勉強会を設けているのだけど、最早私がその場にいる必要性もなくなってきた雰囲気はある。リモートワークが定着している会社であり、私自身フルリモートで働けるよう、自分の働き方をリモートワーク向けに調整しているから当然の帰結とも言える。</p><p>勉強会の内容は基本的にブログ記事の内容を紹介するものだったので文字数が多くて口頭で説明するのが大変だった。勉強会の中でもっとも盛り上がった議論は自律性というキーワードを得るのに必要なものはなにか？といったもの。ある人はその人の性格や才能といった先天的なものではないかという。私はそう思いたくなくて、プログラミングは後天的なスキルなので開発者が自律性をもつかどうかも後天的なスキルだとみなしたい。そこに環境や組織やライフステージの変化なども関連して自律性をもつ開発者とそうじゃない開発者に分かれていく。もっと言うと自律性は優秀さとも異なる。頭がよくて理解力の高い人が自律性をもたないことも多くある。これは永遠のテーマだと思う。</p><p>もう1つ盛り上がった議論として優秀でも成果を出せない人がいるという話し。私も前職で何人もみてきた。頭もよく話すと正しいことを言っていてやることも理解しているように聞こえるのにほとんど動くモノを出せない人たちもいる。プライドが高くて途中段階の成果物を他人にみせられない結果として成果をあげられないのではないかという意見もあった。そういうのはどちらかという年配の人に多い傾向がある気がするけれど、若い人たちでもそういう病にかかってしまうこともあるのだろうか。</p></div></div><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0112/>プロジェクトマネジメントの見通し</a></h1><div class=post-meta><span class=post-date>2023-01-12 (Thu.)</span></div><span class=post-tags>#<a href=/diary/tags/project-management/>project management</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#プロジェクトの進捗報告>プロジェクトの進捗報告</a></li></ul></nav></div><div class=post-content><p>前日は週の中日でバテ気味だったから20時ぐらいから横になって途中起きつつ7時に起きた。体力回復した。</p><h2 id=プロジェクトの進捗報告>プロジェクトの進捗報告</h2><p>月例報告の2回目。<a href=/diary/posts/2022/1201/>前回の進捗報告はこちら</a> 。12月でバックエンド開発をすべて完了できたわけではないが、十分な開発の成果は出ていて、私が品質面から issue を作ってやいやい刺激を与えているのも着実に fix してくれているので及第点は余裕で超えている。遅れているのではなく、見積もりが甘くて量を増やした分すべて終えられなかっただけと捉えている。メンバーも自分から issue を作ってリファクタリングするようにもなりつつあり、先月よりも開発のワークフローに馴染んで洗練してきているようにみえる。これは時間とともに一定量はパフォーマンスが上がるので来月ももう少し上がるかもしれない。</p><p>私が日常的に行っている課題管理も好評で他部署でも参考になっているという話題もあった。私は issue のタスクをこなしながら、調べたこと・実際に動かして検証したこと・エラーになったこと・思ったこと・わからなかいことなど、何でもコメントとして書いていく。ざっと過去の私が担当した issue を眺めると1つ辺り10-50個ぐらいのコメントをしている (メンバーからのコメントも含む) 。コメントでやっていることをみえるのがよいという意見もあった。プロジェクト内の情報共有や非同期コミュニケーションを活性化する上で課題管理システムの issue にコメントを書いていくのは優れたプラクティスだと私は考えている。課題管理をやったことがない組織やチームのメンバーはだいたいコメントを書いていなくて、私が見本をみせてその価値に気付く。その価値に気付いたメンバーが模倣してやることでさらに情報共有が促進されて課題管理がよくなっていく。自律的にできるメンバーは放っておいてよいが、これから先はそれをうまくできないメンバーに対して指導していく必要がある。一方でこれは相当に難しくて、ここがうちの会社のビジネスや私のマネージャーとしてのキャリアで乗り越えないといけない壁になる。</p><p>納期までの期間のうち、いま1/3が過ぎた。私の中ではこのプロジェクトマネジメントはもう見通しが立ってしまった。バックエンドの開発がほぼ完了していることからコア機能の開発をほぼ終えた。これから開発するフロントエンドは未経験だけど、コアではないのでそれほど難易度は高くないと考えている。中核となるメンバーが開発ワークフローに習熟してきて自律的に開発してくれている。油断したりさぼったりしない限りは確実に納期までに満たすべき品質基準は達成できるだろう。納期まで残りの2/3の期間で私がやっていくことは、どれだけ品質を向上できるか、次のロードマップ開発向けに準備できるか、メンバーの成長のために知識やスキルを共有できるかといったことに注力していく。</p></div></div><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0111/>svelte とはリアクティブな ui のための言語</a></h1><div class=post-meta><span class=post-date>2023-01-11 (Wed.)</span></div><span class=post-tags>#<a href=/diary/tags/svelte/>svelte</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#svelte-調査>svelte 調査</a></li></ul></nav></div><div class=post-content><p>2時半に寝て7時に起きた。なんか意味なく夜更かししたもののよく眠れた。</p><h2 id=svelte-調査>svelte 調査</h2><p><a href=/diary/posts/2022/1223/>年末から svelte のチュートリアル</a> を始めたものの、葬儀と年末年始休暇で間があいてしまった。年始やもくもく会でも少しずつやっていたものの、今日で終わらせようと最後の方は少し端折りつつチュートリアルを終わらせた。svelete と sveltekit の2つのチュートリアルをやっていて時間がかかった。svelte のシングルファイルコンポーネント (SFC) は vue.js とよく似ている。スクリプトやテンプレートの構文が違う程度の印象。vue.js よりもスクリプトやテンプレートの記述がシンプルな分、やはり簡単に思える。svelte の作者である rich harris 氏が書いたメモに次がある。</p><ul><li><a href=https://gist.github.com/Rich-Harris/0f910048478c2a6505d1c32185b61934>Rich-Harris/what-is-svelte.md</a></li></ul><p>大雑把にまとめると次のようなことが書いてある。</p><blockquote><p>svelte を ui フレームワークとして開発してきて、svelte 3 で svelte は言語だと気づいた。リアクティブな ui を記述するための言語であると。これまでそういった取り組みをしてきたプロジェクトはいくつかあるが、どれもコンパイラ以上の専用ツールが必要になってしまい、すべてを制御する必要があって、ライブラリの段階的な採用などもできないために大掛かりには導入されなかった。</p><p>html, css, js という多くの開発者が蓄積された経験をもっていて、小規模に段階的に導入するには、それらの言語をハックして拡張するのがパフォーマンスもよく、もっとも優れた解決策であると考えるに至った。</p></blockquote><p>実際に svelte のチュートリアルをやってみると、その簡潔さから rich harris 氏の言葉も理解できる。開発者によっては svelte コンパイラが拡張している javascript の構文や機能を受け入れられない人もいるだろう。純粋な javascript を書きたい人には向かないライブラリかもしれない。そこがリアクティブな ui をコンパイラレベルで実現するためのトレードオフと言える。だから svelte は javascript のハックも含めての言語なのだという解釈になる。</p></div></div><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0110/>仕事始め</a></h1><div class=post-meta><span class=post-date>2023-01-10 (Tue.)</span></div><span class=post-tags>#<a href=/diary/tags/hotel/>hotel</a>&nbsp;
#<a href=/diary/tags/document/>document</a>&nbsp;</span>
<img src=/diary/img/2023/0110_pudding.jpg class=post-cover alt=仕事始め><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#ドーミーイン池袋>ドーミーイン池袋</a></li><li><a href=#製品カタログのたたき台作り>製品カタログのたたき台作り</a></li></ul></nav></div><div class=post-content><p>23時に寝て6時半に起きた。前日飲み歩いてホテル着いたら酔いつぶれてバタンキューで寝てた。コロナ禍で飲み歩くことがなくなってたのでこういう寝方もすごく久しぶり。</p><h2 id=ドーミーイン池袋>ドーミーイン池袋</h2><p>自費で泊まる宿泊先を選ぶときにふと <a href=https://www.hotespa.net/hotels/ikebukuro/spa/>大浴場</a> があるところにしようと思った。昔は大浴場があって部屋のお風呂がないホテルの方が宿泊料金が安い傾向があったからよく泊まっていた。最近はそういうホテルが淘汰されて、カプセルホテルに近いものと大浴場がセットになって、普通のホテルは大浴場があるところが減ってしまった。あってもそれを付加価値として通常よりも料金が高めになっているようにみえる。大浴場があって宿泊料金が高くない候補の1つにドーミーインがある。予約が空いていたのが池袋だった。</p><p>せっかく大きいお風呂に入ろうと予約したので朝起きてから入ってきた。早朝なので空いててほぼ貸し切りのように広いお風呂に浸かれて快適だった。お風呂を出た隣には漫画スペースもあって時間があれば漫画でも読みたい気分になった。部屋に戻ってきて荷物を整理して出掛けようとしたときにおもてなしがあることに気付いた。冷蔵庫をあけたらプリンがあって、ちょっと固いプリンだったけれど、おもてなしの配慮が嬉しくてよかったと思う。ドーミーインはコストパフォーマンスに優れていて設備も配慮も行き届いていてよいホテルだなと改めて感心した。</p><h2 id=製品カタログのたたき台作り>製品カタログのたたき台作り</h2><p>合間にコードレビューなどをやりながら、製品カタログの資料作りをしていた。作業を進めているうちに、私は顧客のことを知らなさ過ぎるのでどういった内容が顧客に訴求できるのかわからないことに気付いた。そこで作業の目的を変更して、製品カタログの叩き台を作ることにした。この資料から顧客のことをわかっている人が訴求点を改善してさらに洗練させてほしいという意図で作った。叩き台の叩き台の時点で公開して、メンバーにレビューもしてもらいながら指摘事項を直したりしていた。後日、プロジェクトの進捗報告とともに経営者に説明する。</p></div></div><div class=pagination><div class=pagination__buttons><a href=/diary/page/40/ class="button previous"><span class=button__icon>←</span>
<span class=button__text>最近の日記</span></a>
<a href=/diary/page/42/ class="button next"><span class=button__text>過去の日記</span>
<span class=button__icon>→</span></a></div></div></div></div><footer class=footer><div class=footer__inner><div class="copyright copyright--user"><span>© 2021 Tetsuya Morimoto</span>
<span>:: Theme made by <a href=https://twitter.com/panr>panr</a></span></div></div></footer><script type=text/javascript src=/diary/bundle.min.js></script></div></body></html>