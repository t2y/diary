<!doctype html><html lang=en><head><meta name=generator content="Hugo 0.109.0"><title>forest nook</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=/diary/><link rel=stylesheet href=/diary/styles.css><link rel=stylesheet href=/diary/style.css><link rel="shortcut icon" href=/diary/favicon.ico><meta name=twitter:card content="summary"><meta name=twitter:site content="t2y"><meta name=twitter:creator content="t2y"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:title" content="forest nook"><meta property="og:description" content><meta property="og:url" content="/diary/"><meta property="og:site_name" content="forest nook"><meta property="og:image" content="/diary/favicon.ico"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><link href=/diary/index.xml rel=alternate type=application/rss+xml title="forest nook"></head><body class=green><div class="container full headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=/diary><div class=logo>forest nook</div></a></div><ul class="menu menu--mobile"><li class=menu__trigger>Menu&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=/diary/about>自己紹介</a></li><li><a href=/diary/dates>月別一覧</a></li><li><a href=/diary/tags>タグ一覧</a></li></ul></li></ul></div><nav class=navigation-menu><ul class="navigation-menu__inner menu--desktop"><li><a href=/diary/about>自己紹介</a></li><li><a href=/diary/dates>月別一覧</a></li><li><a href=/diary/tags>タグ一覧</a></li></ul></nav></header><div class=content><div class=posts><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0705/>go の generics 勉強会へ向けての準備</a></h1><div class=post-meta><span class=post-date>2023-07-05 (Wed.)</span></div><span class=post-tags>#<a href=/diary/tags/go/>go</a>&nbsp;
#<a href=/diary/tags/design/>design</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#go-の-generics-勉強会の準備>go の generics 勉強会の準備</a></li></ul></nav></div><div class=post-content><p>0時に寝て6時に起きて7時に起きた。週明けから忙しくて余裕ない。それでもよく眠れていることが幸い。</p><h2 id=go-の-generics-勉強会の準備>go の generics 勉強会の準備</h2><p>今週末の金曜日に勉強会をする想定で作り始めた。generics は難しいのでなかなか本腰を入れて取り組めていなかった。基本的には tenntenn さんの <a href=https://tenn.in/generics>プログラミング言語Go完全入門 15章ジェネリクス（型パラメタ）</a> の資料をベースに、自分で理解できるように調査したり、サンプルコードを書いたり、自分で理解した内容を補足したりして資料を作り始めた。go 1.18 のジェネリクスで導入された概念は次になる。これらのキーワードに関するところをそれぞれ調べることにした。</p><ul><li>型パラメーター</li><li>型引数</li><li>インターフェースによる制約 (Type constraint)</li><li>型セット (Type sets)</li></ul></div></div><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0704/>ldap プロトコルの persistent search</a></h1><div class=post-meta><span class=post-date>2023-07-04 (Tue.)</span></div><span class=post-tags>#<a href=/diary/tags/ldap/>ldap</a>&nbsp;
#<a href=/diary/tags/founding/>founding</a>&nbsp;
#<a href=/diary/tags/web-design/>web design</a>&nbsp;
#<a href=/diary/tags/communication/>communication</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#persistent-search-あれこれ>persistent search あれこれ</a></li><li><a href=#サイトデザイン最終レビュー>サイトデザイン最終レビュー</a></li></ul></nav></div><div class=post-content><p>0時に寝て5時に起きて6時半に起きた。朝から大鼓方を調べたりしていた。</p><h2 id=persistent-search-あれこれ>persistent search あれこれ</h2><p>ldap プロトコルの文脈でクライアントがサーバーに接続して、エントリーの更新を検出して更新があったエントリーのみを取得することを persistent search (永続検索) と呼ぶ。メッセージキューで言うところの pubsub の consumer に相当する機能。フィルター条件に合致したエントリーのみを取得するという側面では検索と言える。</p><p>ietf のワーキンググループに次のような仕様がある。</p><ul><li><a href=https://www.ietf.org/proceedings/50/I-D/ldapext-psearch-03.txt>Persistent Search: A Simple LDAP Change Notification Mechanism</a></li></ul><p>go-ldap で過去に <a href=https://github.com/go-ldap/ldap/pull/80>Add Persistent search control + PersistentSearch() #80</a> で実装を追加しようとしたのもあったので調べてみた。しかし、この機能に openldap は対応していないようだ。</p><p>以前から調べている <a href=/diary/posts/2023/0317/>openldap の syncrepl</a> も persistent search を実現する機能の1つと言える。ldap に詳しくないと用語と機能と実装の切り分けができなくて困惑する。syncrepl はもともとレプリケーションのための仕組みではあるが、pubsub の consumer としても使える。そういうときに syncrepl を使って <em>&ldquo;persistent search&rdquo;</em> を行うと言ったりする。このときに先の ietf に提案されている persistent search とはまったく関係ない。だから混乱する。</p><p>lopenldap サーバー同士で syncrepl の provider の機能は次の overlay モジュールによって提供される。逆に syncrepl の consumer の機能は openldap の組み込みの機能で提供される。なんらかの歴史的経緯があるのだろう。</p><pre tabindex=0><code>overlay syncprov
</code></pre><p>ldapsearch コマンドで persistent search (syncrepl consumer) を実行するには次のようにする。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ ldapsearch -x -H <span style=color:#e6db74>&#34;ldap://localhost:389&#34;</span> -b <span style=color:#e6db74>&#34;dc=example,dc=com&#34;</span> -D <span style=color:#e6db74>&#34;cn=Manager,dc=example,dc=com&#34;</span> -w <span style=color:#e6db74>&#34;secret&#34;</span> -E <span style=color:#e6db74>&#39;!sync=rp&#39;</span>
</span></span></code></pre></div><p>ldap プロトコルの文脈で persistent search を行うといった場合、クライアントから pubsub で言うところの consumer を用意するといった意味だけで、その実装や通信方法はいくつか実現方法があるということを学んだ。</p><h2 id=サイトデザイン最終レビュー>サイトデザイン最終レビュー</h2><p>19時からデザイナーさんとはらさんと打ち合わせ。少し前に用意してくれた <a href=/diary/posts/2023/0619/#サイトデザインのサンプルページ>サイトデザインのサンプルページ</a> の最終レビューを行った。全体としては気に入っているので概ね ok なのだけど、詳細の気になったところやデザインの機微のようなところをはらさんと一緒にデザイナーさんとやり取りして共有した。</p><p>デザインだけをみてこちらで想定していたことも、デザイナーさんの意見や視点を伺ってみると発見があっておもしろかった。逆に言えば、デザインだけでデザイナーさんの意図を伝えるのはとても難しいということもわかった。背景の説明を受けると論理的だったり合理性があったりするものの、なにも情報がない状態でそのことに気付くのは難しい。これはコードリーディングにおいても同じで、作者に意図の説明を受けながらソースコードを読むと簡単に理解できたりする。そして、デザイナーさんもうちらの意見から考え方を見直すこともあった。ウェブデザインのようなものを1人で完全に気付きを得るのは難しそうだ。</p><p>はらさんにレビューに入ってもらっていてとても助かる。私は ui/ux については素人なので、要件やレビューする視点の重要なところにツッコミを入れてくれるので気付くことも多い。私がコードレビューで設計やプログラミングについて指摘しているのも、別の人の視点からみるとこういうみえ方をするんだろうなと思いながら聞いていた。「餅は餅屋」とはよく言った言葉だ。自分がよくわからない分野のお仕事を依頼もしくは話すときは、自分たちの立場でそういった外部の専門家を雇うことの重要性も同時に理解できた。私は課題管理の専門家としてそういうポジションを作っていきたい。</p></div></div><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0703/>リフレクションにはまった半日</a></h1><div class=post-meta><span class=post-date>2023-07-03 (Mon.)</span></div><span class=post-tags>#<a href=/diary/tags/go/>go</a>&nbsp;
#<a href=/diary/tags/ldap/>ldap</a>&nbsp;
#<a href=/diary/tags/mongodb/>mongodb</a>&nbsp;
#<a href=/diary/tags/reflection/>reflection</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#非同期の-ldap-検索の-api>非同期の ldap 検索の api</a></li><li><a href=#mongodb-の-unmarshal-実装>mongodb の unmarshal 実装</a></li></ul></nav></div><div class=post-content><p>23時に寝て5時に起きて6時半に起きた。ストレッチで伸ばしたせいか、いつもよりよく眠れた。先週は主に旅行へ行っていて非日常でリフレッシュした。今朝は朝ご飯に野菜サラダを作って食べて7時半には家を出れた。</p><h2 id=非同期の-ldap-検索の-api>非同期の ldap 検索の api</h2><p>先日送った <a href=/diary/posts/2023/0601/#チャンネルを用いた-ldap-検索の-api>go-ldap の pr</a> を完了した。送ったときはチャンネル用いた検索 api だったのだけど、それから設計を議論して非同期検索を主とした api として生まれ変わった。レビューに1ヶ月を要したものの2人のメンバーから approve をもらって無事にマージされた。</p><ul><li><a href=https://github.com/go-ldap/ldap/pull/440>Add search asynchronously with context #440</a></li></ul><p>この一歩は大きくてこの機能を突破口にうちらの要件に足りない機能を実装していく。プロトコル部分の修正が過去の draft 実装から参考にできるのであれば今週中にはまた pr を送りたい。</p><h2 id=mongodb-の-unmarshal-実装>mongodb の unmarshal 実装</h2><p>mongodb-driver での bson の marshal/unmarshal を実装する。<a href=https://pkg.go.dev/go.mongodb.org/mongo-driver/bson>mongo-driver/bson</a> に unmarshal について2つの interface が紹介されている。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Unmarshaler</span> <span style=color:#66d9ef>interface</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>UnmarshalBSON</span>([]<span style=color:#66d9ef>byte</span>) <span style=color:#66d9ef>error</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>ValueUnmarshaler</span> <span style=color:#66d9ef>interface</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>UnmarshalBSONValue</span>(<span style=color:#a6e22e>bsontype</span>.<span style=color:#a6e22e>Type</span>, []<span style=color:#66d9ef>byte</span>) <span style=color:#66d9ef>error</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>bson の byte 列を unmarshal するにあたり、構造体そのものには <code>UnmarshalBSON()</code> を、構造体のメンバーには <code>UnmarshalBSONValue()</code> を使う。これでうまくいきそうに思えたのだけど、interface を介したデコード処理で意図した振る舞いにならないことに気付いた。mongodb-driver は decode/unmarshal 処理を <a href=https://pkg.go.dev/reflect>reflect</a> を使って実装している。要件の詳細は省く (interface を使いたい背景がある) が、再現コードが次になる。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>MyInterface</span> <span style=color:#66d9ef>interface</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>MyFunc</span>() <span style=color:#66d9ef>error</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>MyType</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>t</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>MyType</span>) <span style=color:#a6e22e>MyFunc</span>() <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>tMyInterface</span> = <span style=color:#a6e22e>reflect</span>.<span style=color:#a6e22e>TypeOf</span>((<span style=color:#f92672>*</span><span style=color:#a6e22e>MyInterface</span>)(<span style=color:#66d9ef>nil</span>)).<span style=color:#a6e22e>Elem</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>some</span>(<span style=color:#a6e22e>v</span> <span style=color:#a6e22e>reflect</span>.<span style=color:#a6e22e>Value</span>) {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>f</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>v</span>.<span style=color:#a6e22e>Convert</span>(<span style=color:#a6e22e>tMyInterface</span>).<span style=color:#a6e22e>MethodByName</span>(<span style=color:#e6db74>&#34;MyFunc&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;got&#34;</span>, <span style=color:#a6e22e>f</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;=========&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>t1</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>MyType</span>{}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>some</span>(<span style=color:#a6e22e>reflect</span>.<span style=color:#a6e22e>ValueOf</span>(<span style=color:#a6e22e>t1</span>))
</span></span><span style=display:flex><span>	<span style=color:#75715e>// the zero value of an interface is nil
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>t2</span> <span style=color:#a6e22e>MyInterface</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>some</span>(<span style=color:#a6e22e>reflect</span>.<span style=color:#a6e22e>ValueOf</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>t2</span>).<span style=color:#a6e22e>Elem</span>())
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>このコードを実行すると次のエラーになる。</p><pre tabindex=0><code>panic: reflect: Method on nil interface value
</code></pre><p>ドキュメントにも interface の nil の値を呼び出すと panic するよと書いてある。</p><blockquote><p>Method returns a function value corresponding to v&rsquo;s i&rsquo;th method. The arguments to a Call on the returned function should not include a receiver; the returned function will always use v as the receiver. Method panics if i is out of range or if v is a nil interface value.</p><p><a href=https://pkg.go.dev/reflect#Value.Method>https://pkg.go.dev/reflect#Value.Method</a></p></blockquote></div></div><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0702/>敦盛を観てきた</a></h1><div class=post-meta><span class=post-date>2023-07-02 (Sun.)</span></div><span class=post-tags>#<a href=/diary/tags/noh/>noh</a>&nbsp;
#<a href=/diary/tags/event/>event</a>&nbsp;
#<a href=/diary/tags/community/>community</a>&nbsp;
#<a href=/diary/tags/life/>life</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#能-敦盛>能: 敦盛</a><ul><li><a href=#狂言-雷>狂言: 雷</a></li><li><a href=#大鼓方>大鼓方</a></li><li><a href=#能楽と郷土を知る会>能楽と郷土を知る会</a></li></ul></li><li><a href=#ストレッチ>ストレッチ</a></li></ul></nav></div><div class=post-content><p>18時半に寝て22時過ぎに起きて、もう今日は無理やと諦めてまた寝て、6時に起きて8時に起きた。車移動の旅の疲れか、いつもよりよく眠れた。</p><h2 id=能-敦盛>能: 敦盛</h2><p>13時から <a href=https://shin-flower.jp/events/2023/0419143830.html>第四回《真花演能会》能『敦盛』</a> を <a href=/diary/posts/2023/0603/#カフーツさん訪問>カフーツのいとうさんとながいさん</a> と一緒に観に行ってきた。結論から書くと、私にとってはとてもよかった。<a href=/diary/posts/2023/0603/>前に1度能を観た体験</a> があるのでその前回の体験との相対比較で観ることもできた。前回は能を2つ、狂言を1つ観たことで時間がかかった。今回は狂言と能を1つずつのセットで観た。初心者は観ていて疲れるのでこのぐらいの規模で十分に思えた。</p><p>一番よいSS席が8,000円と、前回よりも少し高い価格設定となっている。その価格差からサービスレベルの違いも伺えた。お客さんの入りは会場のキャパシティに対して7割程度といったところかな。</p><ul><li>スマホとイヤホンで能の解説が聞けるアプリを提供<ul><li>イヤホンをもっていなかったので聞いてないが、、、</li></ul></li><li>朝原さんの解説が丁寧でわかりやすかった<ul><li>この解説もスマホから英語で聞けると話されていた</li></ul></li><li>資料は英語併記で当日のアナウンスも日本語の後に英語で行っていた</li><li>詞章 (ししょう) という、能の台本が資料に添付されていた<ul><li><a href=https://ja.wikipedia.org/wiki/%E8%AC%A1%E6%9B%B2>謡曲 (ようきょく)</a> とも呼ばれるみたい</li></ul></li></ul><p>詞章があることで演者が何を言っているのか把握しやすい。例えば、次のような台詞を能の独特の謡の表現で聞き分けるのは素人にはなかなか難しい。というのは現代語ではないという点と、明確な1文になっていなかったり、単語の区切りがよく分からなかったりするから。次の台詞から「に」「の」とかで終わっている文章があることがわかる。</p><blockquote><p>ワキ: さては其夜の御遊びなりけり城のうちに。さも面白き笛の音の。よせ手の陣まで聞こえしは<br>シテ詞: それこそさしも敦盛が。最後まで持ちし笛竹の<br>ワキ: 音も一節を唄ひ遊ぶ<br></p></blockquote><p>必ずしもこの台詞通りに謡をしているわけでもないことがわかった。少し飛ばしたり、書いていない内容を謳うこともあった。あくまでこれは参考程度のもののようだ。感覚的には8割ぐらい資料の沿って進んでいた気がする。</p><p>前回はちょくちょく寝落ちしてしまっていた。今回は詞章をみながら能を観ていたのでずっと集中して観ることができた。詞章ばかり目で追っていると演者の動きをみれないのでそのバランスも大事だと理解できた。本当はこの内容を暗記して観るのが正しいのだろう。寝落ちしたのは中盤の、詞章がなかった地元に住む男との会話の部分だけだった。</p><p>後半は囃子方の演奏とシテの演者の舞いが盛り上がっていって、最後の最後は場面が変わって少し落として終わったように思える。そこら辺はよくわからなかったけど、後半の盛り上がりにかけての、蓮生 (熊谷次郎直実) と敦盛との和解の雰囲気が表れていた。敦盛は2番目物の修羅能にカテゴライズされる。このカテゴリは修羅道に落ちた苦しみを描く作品が多い中、敦盛を討った蓮生が供養し、敦盛が成仏していく？ような終わり方になっていてよい結末のような話しになる。内容も後味がよいものだった。</p><h3 id=狂言-雷>狂言: 雷</h3><p>能と狂言をセットにして <a href=https://ja.wikipedia.org/wiki/%E8%83%BD%E6%A5%BD>能楽</a> と呼ぶ。日記での紹介は前後しているが、現代では狂言を演じてから能をするという順番になるらしい。狂言は20-30分、能は1.5時間程度といった時間配分になる。現代に当てはめると、狂言はコメディ、能はシリアスなドラマといった演目になる。</p><p><a href=https://ja.wikipedia.org/wiki/%E9%9B%B7_(%E7%8B%82%E8%A8%80)>雷 (神鳴)</a> という狂言をみた。狂言は演劇に近いので詞章がなくてもだいたい雰囲気はわかるし、笑えるところもわかる。腰痛を治してもらった雷神が医者にお礼を求められ、持ち合わせがなかったことから「近日眷属を連れてそなたの住処に落ちて礼をする」と言うが、医者は「それは迷惑でござる。」と言い放った瞬間が一番受けていた気がする。一緒に行ったながいさんは狂言の方がわかりやすくてよいと話されていた。</p><h3 id=大鼓方>大鼓方</h3><p>太鼓 (たいこ) じゃなくて大鼓 (おおつづみ)、漢字が似ているのでたまに間違う。</p><p>前回に能を観に行ったときも <a href=http://t-masatoshi.com/>谷口正壽</a> さんが大鼓を演奏されていた。おそらく関西圏で活動されているのだと推測する。前回はパンフレットに囃子方の名前がなかったけれど、今回は囃子方の演者も記載されていたので名前を確認して調べてみた。観終わった後にいとうさんも谷口さんの演奏について言及しているのを聞いて、私も前回初めて聴いたのに囃子方すごいと印象に残ったのは谷口さんの技量の高さによるものだとわかった。素人が聴いていてもこの人は別格のように感じた。ホームページのプロフィールによると昭和54年 (当時10歳) から能楽石井流大鼓方に入門とあるので40年以上のキャリアになる。</p><p>谷口さんが大鼓で出演している能を探したら次がヒットした。<a href=/diary/posts/2023/0603/>前に菊慈童</a> の動画を見返したときも感じたが、臨場感が全然違う。動画だと谷口さんの凄さは霞んでしまう。生で聴いた大鼓と掛け声の聴こえ方とは異なる。</p><div class=video-container><iframe src=https://www.youtube.com/embed/z-h6r-JH37w allowfullscreen title=高砂></iframe></div><h3 id=能楽と郷土を知る会>能楽と郷土を知る会</h3><p>能楽を演じる前に30分ほど予備知識や背景などを解説する時間がある。今回は <a href=https://nohgaku-kyodo.com/performer/asahara-hiroki>朝原広基</a> さんという能楽研究家が演目の解説を行った。肩書きの通り、当時の時代背景や風習などをとても丁寧に解説してくれてわかりやすかった。</p><p>パンフレットに入っていたチラシをみて <a href=https://nohgaku-kyodo.com/>能楽と郷土を知る会</a> というイベントを運営されているようだ。まさに私が関心のある内容なので今度遊びに行ってみようと思う。</p><h2 id=ストレッチ>ストレッチ</h2><p>土曜日は旅行へ行っていたので日曜日の夜にストレッチへ。首が痛いとトレーナーさんに伝えたら、いつもはやらない首のストレッチもやってくれた。感謝。体調の悪いところを伝えるとそこもストレッチしてみてくれるのが助かる。車を運転する姿勢はどうしても前傾姿勢になるのと、運転は意識を集中しないとできないことからデスクワークよりも上位の負荷がかかるらしい。神戸から高知まで何時間もかけて運転しているし、移動の時間は車に乗せてもらうことも多かったので全身あちこちに張りがあって、とくに上半身が全般的に硬かった。今日の開脚幅は開始前151cmで、ストレッチ後154cmだった。いつもとは違う状況での計測なので数値は悪化した。</p></div></div><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0701/>最終日の移動</a></h1><div class=post-meta><span class=post-date>2023-07-01 (Sat.)</span></div><span class=post-tags>#<a href=/diary/tags/day-off/>day off</a>&nbsp;
#<a href=/diary/tags/sightseeing/>sightseeing</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#朝食バイキング>朝食バイキング</a></li><li><a href=#桂浜へ>桂浜へ</a></li><li><a href=#海洋堂スペースファクトリー南国の寄り道>海洋堂スペースファクトリー南国の寄り道</a></li><li><a href=#車移動>車移動</a></li></ul></nav></div><div class=post-content><p>0時に寝て3時と6時に起きて7時に起きた。まぁまぁ眠れたと思う。</p><h2 id=朝食バイキング>朝食バイキング</h2><p>昨日はスマホもってなくて写真を撮れなかったが、今日はもってきてちゃんと撮ったよ。朝ご飯がめっちゃよかった。さすが高級旅館。朝からこんな贅沢が許されるのか (言い過ぎ？) という種類の食材とおいしさの朝ごはんだった。私は普段から外食が多いため、食生活がよくない。野菜をたくさんとれることに大きな価値をおく。あとサラダが大好き。いろんな野菜をとれてよかった。写真に写っている10倍ぐらいの食材があって、オムレツのような簡単な料理はシェフにお願いすれば作ってくれるらしい。和と洋の両方の食材があったと思う。地元の特産品もたくさんあった。団体だとみんなどんな朝ご飯をトッピングしているか、どういう組み合わせにしているかをみて次の参考にできたりもして楽しめた。</p><figure><img src=/diary/img/2023/0701_breakfast.jpg></figure><p>バイキングの食材をどう組み合わせるのかというのも創作の1つに思えた。</p><h2 id=桂浜へ>桂浜へ</h2><p>高知と言えば桂浜、桂浜と言えば坂本竜馬かな。お約束の竜馬像を見に行ってきた。残念ながら雨だったので桂浜のあちこちを散策しようという雰囲気ではなかった。</p><figure><img src=/diary/img/2023/0701_ryoma.jpg></figure><p>当初の予定では <a href=https://katurahama-aq.jp/>桂浜水族館</a> へ行くといった話しもあったんだけど、時間の都合で見送られた。私は水族館が大好きなので昨日に続いてもう1つ行けると期待していたのに残念だった。</p><p><a href=https://tabelog.com/kochi/A3901/A390101/39007101/>ドライブイン 西村食堂</a> という、近くの食堂で少し早めのお昼ご飯を食べる。朝ご飯のバイキングをがっつり食べた人にはややきつそうだった。お刺し身定食が山盛りで出てくる感じの食堂でよかったと思う。私の記憶では高知で食べたお刺身の中ではこの食堂に出てきたものがもっとも鮮度がよくておいしかったと思う。次の高知へ来たときはお腹を空かせて山盛りのお刺身定食を頼んでみたいと思う。私は海鮮丼という普通サイズの、お刺身が4種のった丼ぶりを注文した。これもコスパよくて十分においしかった。</p><figure><img src=/diary/img/2023/0701_don.jpg></figure><p>ここで12時をまわっていたので私は社員旅行から離脱して帰路に入ることにした。</p><h2 id=海洋堂スペースファクトリー南国の寄り道>海洋堂スペースファクトリー南国の寄り道</h2><p>帰路の途中だったので <a href=https://kaiyodo-sfn.jp/>海洋堂スペースファクトリー南国</a> にも立ち寄ってみた。1F と 2F は無料で見学できて写真も撮ってよいと教えていただいた。有償のガイドツアーのようなものもやっていて関心はあったけど、時間もないので断念した。30分ほどささっと見て回った。アニメや漫画が好きな人には楽しめそう。</p><figure><img src=/diary/img/2023/0701_godzilla.jpg></figure><figure><img src=/diary/img/2023/0701_tachikoma.jpg></figure><figure><img src=/diary/img/2023/0701_fate.jpg></figure><h2 id=車移動>車移動</h2><p>12時55分に海洋堂さんを出発して13時53分に <a href=https://www.w-holdings.co.jp/sapa/2484.html>吉野川サービスエリア</a> で休憩した。雨降りの視界の悪さ、トンネルの多さなどもあって疲労と眠気で運転はかなり辛かった。2-3回ぐらいは車体が揺れて車道にある線をオーバーしそうになった。休むと一時的に眠気はしゃきっとするものの、30分ほど走っているとまたすぐにどんよりしてきて辛かった。私にとってはトンネルを走るのがとても疲れたように思えた。1人だから気楽に運転できたけど、人を乗せていたら怖い運転だったと思う。</p><p>14時13分に吉野川サービスエリアを出て、15時16分に淡路島の実家に着いた。高速道路でガーッと走っていたので高速道路を降りた後の実家までの道のりもわりとスピードを出してしまっていた。疲労もあって感覚が狂ってしまっていた。実家には誰もいなかったので30分ほど横になって休んでいた。このままいると寝てしまいそうだったので起き上がって16時7分に実家を出発した。</p><p>休息したのと、ここから神戸まで帰る道のりはよく知っている道筋で慣れているせいか、四国を走っていたときよりも頭も眠気も冴えて集中して帰ってくることができた。知らない道を走るというのも疲れるのかもしれないと思えた。17時37分に神戸のマンションへたどり着くことができた。</p><p>休憩も含めて5-6時間あれば高知市から神戸市まで車で移動できることもわかった。こうやって移動時間の記録を残しておけば、また何かのイベントのときに役立つかもしれない。</p></div></div><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0630/>雨の四万十川</a></h1><div class=post-meta><span class=post-date>2023-06-30 (Fri.)</span></div><span class=post-tags>#<a href=/diary/tags/day-off/>day off</a>&nbsp;
#<a href=/diary/tags/sightseeing/>sightseeing</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#四万十川市へ>四万十川市へ</a></li><li><a href=#土佐清水市へ>土佐清水市へ</a></li></ul></nav></div><div class=post-content><p>0時に寝て1度トイレに起きて6時半に起きた。疲れていたせいか、わりとよく眠れた。</p><h2 id=四万十川市へ>四万十川市へ</h2><p>雨が降ったり止んだりの、途中豪雨にふられたりしながらの移動。お昼ご飯に天然のうなぎを食べに <a href=https://shimantoya.com/>四万十屋</a> さんへ行く。おそらく学生の頃の卒業旅行でここに来たことがある気がする。2階席からの風景をなんとなく覚えていた。</p><figure><img src=/diary/img/2023/0630_simantoya1.jpg></figure><p>私は滅多にうなぎを食べない (数年に1回ぐらい？) ので養殖と天然ものの違いに疎いが、身の引き締まり具合が違うらしい。刺し身の鮮度や良し悪しだったら身の引き締まり具合で私もわかるので食べ慣れた人にはわかるんだなぁと聞いていた。</p><figure><img src=/diary/img/2023/0630_simantoya2.jpg></figure><p>その後、四万十川の途中にある <a href=https://www.city.shimanto.lg.jp/soshiki/13/1454.html>佐田 (今成) 沈下橋</a> へ行く。</p><figure><img src=/diary/img/2023/0630_bridge.jpg></figure><p>雨がぱらぱら降ったりもしながらの、沈下橋を歩いて往復してきた。雨空なので四万十川っぽいきれいさはないものの、川の広さや雰囲気は伝わってきた。</p><h2 id=土佐清水市へ>土佐清水市へ</h2><p>それから <a href=https://kaiyoukan.jp/>足摺海洋館</a> へ行って海の生きものをみてきた。もう個人で水族館へ行くことはないけれど、なにかの機会で水族館へ行くことは稀にあって、大人になってから水族館へ行くと子どもの頃にはわからなかった楽しさがある。めっちゃ楽しかった。20-30分程度でコースを見終えてしまう規模の水族館だったけど、爬虫類、カメ、甲殻類、サンゴ、貝、さまざまな魚がいていろいろみれた。水槽の形もいろいろ工夫があって見学者が飽きないよう設計されていたと思う。規模こそ大きくはないものの、質はとてもよかったように思う。</p><p>その後は高知市の昨日泊まった旅館へ戻ってきて晩ご飯を食べて、部屋でくつろいでお風呂入って、疲れて寝た。車での移動距離が往復で200kmを超えていたので乗せてもらって座っているだけでも疲れた。雨降りの中、運転された方はしんどかったんじゃないかと推測する。</p></div></div><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0629/>うだつの町並みと祖谷のかずら橋</a></h1><div class=post-meta><span class=post-date>2023-06-29 (Thu.)</span></div><span class=post-tags>#<a href=/diary/tags/day-off/>day off</a>&nbsp;
#<a href=/diary/tags/sightseeing/>sightseeing</a>&nbsp;
#<a href=/diary/tags/coworking/>coworking</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#うだつの街並み>うだつの街並み</a></li><li><a href=#アンドワーク>アンドワーク</a></li><li><a href=#祖谷のかずら橋>祖谷のかずら橋</a></li><li><a href=#高知市へ>高知市へ</a></li></ul></nav></div><div class=post-content><p>22時に寝て何度か起きて6時に起きて7時過ぎまで史記を読んでシャワーを浴びて8時には ADLIV さんをチェックアウトした。</p><h2 id=うだつの街並み>うだつの街並み</h2><p>すぐ近くに道の駅があり駐車できる。道の駅の駐車場から歩いて土手にのぼり<a href=https://mimakankou.or.jp/event/wakimachisensuikyou/>脇町の潜水橋</a> を眺める。この土手からの景色がとても気に入った。</p><figure><img src=/diary/img/2023/0629_dote.jpg></figure><p>お盆にはこの川で <a href=https://matsuri-no-hi.com/matsuri/30994>花火大会</a> があるらしい。おそらく宿泊施設はすでに予約でいっぱいだろうと話されていた。実家からなら1時間半ぐらいで行ける場所なのでちょっと遠出して見に来てもよいかもしれない。</p><p>その後にうだつの街並みの通りを歩いてきた。平日の朝の8時半頃だったので観光客はまったくいなくて地元の人に何人か挨拶をしたぐらい。数百メートルの通りなのですぐに歩ける。</p><figure><img src=/diary/img/2023/0629_udatu1.jpg></figure><p>この通りは歴史的建築を残してはいるが、一般の民家であるらしく、オーナーがいたり、普通に住んでいる人もいるらしいと、昨日なかがわさんから教えてもらった。城崎温泉のような自治体ぐるみで街づくりしているのとは少し趣は異なるようにみえた。</p><figure><img src=/diary/img/2023/0629_udatu2.jpg></figure><p>「うだつが上がらない」という言葉に表れる「うだつ」を初めてみた。2階の屋根からちょっと飛び出している防火壁を指す。うだつを上げるにはお金がかかることから出世や富の象徴としてみられたらしい。
￼
前日になかがわさんに案内していただいた解説を思い出しながら写真を撮ってぶらぶらしてきた。</p><p>この通りのすぐそばに <a href=https://www.nodokeya.com/>のどけや</a> さんというコワーキングスペースもある。立ち寄ってもよかったんだけど、昨日なかがわさんと一緒に挨拶へ行ったらオーナーは出張でいなかったのと、朝8時半からとくに用事もないのに再訪するのもどうかな？と思って今日は見送った。また次回行くときがあれば宿泊してみたい。</p><h2 id=アンドワーク>アンドワーク</h2><p>うだつの街並みのすぐ横に <a href=https://mimacity.jp/>ミライズ</a> という行政施設があり、その中に <a href=https://and-work.com/>アンドワーク</a> というコワーキングスペースがある。9時過ぎに軽く見に行こうと行ってみた。受け付けのスタッフの方と軽く雑談。ここでもいとうさんの名前は通じていた。スタッフの方が地元の人たちはあまり使わないといったことも話されていたので外部からきたデジタルノマドが活用する機会の方が多いのかもしれない。まだ新しい施設で設備面からコワーキングスペースとしてはとてもよい環境にみえた。9時20分から10時50分まで作業してみたが他の利用者は誰も来なかった。</p><figure><img src=/diary/img/2023/0629_and-work.jpg></figure><h2 id=祖谷のかずら橋>祖谷のかずら橋</h2><p>昨日からお手伝い先の会社さんが社員旅行で四国に来られている。私もその社員旅行に途中参加で帯同する予定になっていた。今日の目的地である高知へ移動する途中で <a href=https://www.awanavi.jp/archives/topics/20875>祖谷渓</a> に立ち寄るというからそこで私も合流することにした。</p><p>11時頃に脇町を出発して12時45分にかずら橋に着いた。合流はちょっと遅れそうとのことだったので大きなお土産屋さんのカウンター席を使って作業をしていた。この施設は冷房がきいてなくて暑かったこと以外は快適だった。暑かったんだけど。他の社員さんを待っている間に軽くコードレビューをしていた。</p><figure><img src=/diary/img/2023/0629_kazura-basi.jpg></figure><p>かずら橋渡ろうかどうか迷ってやめた。学生時代に1度来て渡ったことはある。いつからか高いところが怖くなって、下をみると足がすくむ。万が一の粗相があったら社員旅行に迷惑をかけるなとリスク管理的な視点から安全に振る舞う考えが出てきてみんなが渡っているのを見学することにした。おもしろいもので、人によって高さをものともしない人がいて、怖くてゆっくりしか渡れない人もいる。かずら橋は人間の多様性を観察する装置の1つにも受け取れた。</p><p>かずら橋は蟲師13話「一夜橋」のモデルになっているらしい。リアルタイムにみていたときには気付かなかったけど、そう言われてみればそのまんまよね。</p><ul><li><a href=https://nekotto-life.com/2020/05/24/musisi13/>第13話「一夜橋」リビングデッドを愛した男。TVアニメ「蟲師」を深掘り！詳細あらすじと感想</a></li></ul><h2 id=高知市へ>高知市へ</h2><p>かずら橋から 1.5 時間ぐらいかけて高知市の <a href=https://www.jyoseikan.co.jp/>城西館</a> という宿泊先に向かう。</p><p>晩ご飯は <a href=https://tabelog.com/kochi/A3901/A390101/39000003/>土佐料理 司 高知本店</a> で食べた。お約束として出てくる食べものはすべておいしかった。その中でこれは過去に食べたことないなとおもったのが鮎素麺だった。</p><figure><img src=/diary/img/2023/0629_ayu-somen.jpg></figure><p>小さい鮎と素麺が一緒につゆに浸かっていて、鮎は骨まで食べられるぐらいに身をほろほろほぐせた。鮎の身をほぐしながら素麺と一緒にいただくという食べものだった。それぞれの食材は食べたことがあったけど、一緒の組み合わせで食べたことがなくて食べ方も楽しめて味もおいしかった。</p><p>その後、ホテルに戻ってきて大浴場入って眠くなるまで休憩スペースで作業をして寝た。</p></div></div><div class=pagination><div class=pagination__buttons><a href=/diary/page/22/ class="button previous"><span class=button__icon>←</span>
<span class=button__text>最近の日記</span></a>
<a href=/diary/page/24/ class="button next"><span class=button__text>過去の日記</span>
<span class=button__icon>→</span></a></div></div></div></div><footer class=footer><div class=footer__inner><div class="copyright copyright--user"><span>© 2021 Tetsuya Morimoto</span>
<span>:: Theme made by <a href=https://twitter.com/panr>panr</a></span></div></div></footer><script type=text/javascript src=/diary/bundle.min.js></script></div></body></html>