<!doctype html><html lang=en><head><meta name=generator content="Hugo 0.123.1"><title></title>
<meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=/diary/><link rel=stylesheet href=/diary/styles.css><link rel=stylesheet href=/diary/style.css><link rel="shortcut icon" href=/diary/favicon.ico><meta name=twitter:card content="summary"><meta name=twitter:site content="t2y"><meta name=twitter:creator content="t2y"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:title" content><meta property="og:description" content><meta property="og:url" content="/diary/"><meta property="og:site_name" content><meta property="og:image" content="/diary/favicon.ico"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><link href=/diary/index.xml rel=alternate type=application/rss+xml title></head><body class=green><div class="container full headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=/diary><div class=logo>forest nook</div></a></div><ul class="menu menu--mobile"><li class=menu__trigger>Menu&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=/diary/about>自己紹介</a></li><li><a href=/diary/dates>月別一覧</a></li><li><a href=/diary/tags>タグ一覧</a></li></ul></li></ul></div><nav class=navigation-menu><ul class="navigation-menu__inner menu--desktop"><li><a href=/diary/about>自己紹介</a></li><li><a href=/diary/dates>月別一覧</a></li><li><a href=/diary/tags>タグ一覧</a></li></ul></nav></header><div class=content><div class=posts><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2022/0117/>国民健康保険の保険料</a></h1><div class=post-meta><span class=post-date>2022-01-17 (Mon.)</span></div><span class=post-tags>#<a href=/diary/tags/founding/>founding</a>&nbsp;
#<a href=/diary/tags/life/>life</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#国民健康保険の保険料>国民健康保険の保険料</a></li></ul></nav></div><div class=post-content><p>0時に寝て4時に起きて2度寝して7時に起きた。こんなこと滅多にないんやけど、朝からずっと頭痛があってしんどかった。早めにお仕事を終えて帰ったら少しよくなってそのまま寝てた。</p><h2 id=国民健康保険の保険料>国民健康保険の保険料</h2><p><a href=/diary/posts/2022/0114/#明石市の調査>以前にも書いた明石市長</a> の次のツィートをみかけた。</p><blockquote class=twitter-tweet><p lang=ja dir=ltr>国民健康保険の保険料。<br>均等割の金額も、今は自治体ごとの判断。<br>（明石市48830円、神戸市60600円、西宮市53400円など）<br>県からは、増額（56936円への引き上げ）を求められているが、<br>明石市長としては、コロナ禍での増額には反対だ。<br>次年度も増額しないことを、今ここで約束する。<a href="https://twitter.com/hashtag/%E5%9B%BD%E6%B0%91%E5%81%A5%E5%BA%B7%E4%BF%9D%E9%99%BA?src=hash&amp;ref_src=twsrc%5Etfw">#国民健康保険</a> <a href=https://t.co/1SQYbQeXLW>pic.twitter.com/1SQYbQeXLW</a></p>&mdash; 泉 房穂（いずみ ふさほ） (@izumi_akashi) <a href="https://twitter.com/izumi_akashi/status/1482904883506212864?ref_src=twsrc%5Etfw">January 17, 2022</a></blockquote><script async src=https://platform.twitter.com/widgets.js></script><p>国民健康保険って自治体ごとに保険料が違うんだとか思って、健康保険の仕組みを調べ直した。健康保険制度は大きく分けて2通りある。会社に勤めていない人のための国民健康保険と、会社に勤めている人のための会社の健康保険。うちの会社の健康保険は <a href=https://www.kyoukaikenpo.or.jp/>全国健康保険協会 (協会けんぽ)</a> に加入している。中小企業のデフォルトが協会けんぽなのかな？健康保険の運営者を保険者と呼び、どんな会社でも加入できる保険者として協会けんぽがある。有名な保険者として関東ITソフトウェア健康保険組合があるけど、<a href=https://www.its-kenpo.or.jp/kanyu/kijun.html>関東ITソフトウェア健康保険組合の加入基準</a> を満たさないと加入できない。例えば「被保険者数が20名以上であること」という条件があるので社員数が少ない企業は加入できない。一般論として、健康保険組合の方が協会けんぽよりも保険料が安いという利点があるらしい。そうでなければ、健康保険組合を作ったり、そこに加入する利点も小さくなるし。</p><p>会社を辞めたり、定年退職したりすると75歳まで国民健康保険に入る必要があるみたい。住むところにこだわりがなければ、保険料の安い自治体に住んでもよいのかもしれない。</p></div></div><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2022/0116/>JUnit5 のテスト拡張</a></h1><div class=post-meta><span class=post-date>2022-01-16 (Sun.)</span></div><span class=post-tags>#<a href=/diary/tags/java/>java</a>&nbsp;
#<a href=/diary/tags/testing/>testing</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#junit5-的なロガーのテスト>JUnit5 的なロガーのテスト</a></li></ul></nav></div><div class=post-content><p>1時に寝て5時に起きて2度寝して9時に起きた。前日呑んでたのであまり眠れなくて体調よくない。</p><h2 id=junit5-的なロガーのテスト>JUnit5 的なロガーのテスト</h2><p>お仕事でログ管理の機能開発をしている。カスタムロガーを使って出力するメッセージを加工している。設計が固まってきて機能も作り込むようになってきたので出力内容が意図した構造化ログになっているかをテストしたい。JUnit5 の機能と log4j の機能を組み合わせてカスタムロガーのテストの仕組みを作ってみた。</p><p>まずログ出力した内容を取得するオブジェクトを特定するためのアノテーションを定義する。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#a6e22e>@Documented</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>@Target</span>(ElementType.<span style=color:#a6e22e>FIELD</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>@Retention</span>(RetentionPolicy.<span style=color:#a6e22e>RUNTIME</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#a6e22e>@interface</span> LoggerTestWriter {
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>JUnit5 の <a href=https://junit.org/junit5/docs/current/user-guide/#extensions-registration-declarative>Declarative Extension Registration</a> の仕組みを使って、テストケース非依存な setup/teadown のメソッドを定義する。<a href=https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/ExtensionContext.html>ExtensionContext</a> から拡張するテストケースのインスタンスを取得できる。テストケースインスタンスに定義されている <code>@LoggerTestWriter</code> アノテーションがついたオブジェクトを lgo4j の Appender としてインジェクションするようなコードを setup/teardown (beforeEach/afterEach メソッド) で定義する。Appender のインジェクション周りは <a href=https://qiita.com/kazurof/items/abbd42f11bfc125f3190>Log4j 2でログ出力をテストするサンプルソース</a> の記事を参考にした。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>SetupLogAppender</span> <span style=color:#66d9ef>implements</span> BeforeEachCallback, AfterEachCallback {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> String APPENDER_NAME <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;logger-test-appender&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> Optional<span style=color:#f92672>&lt;</span>Writer<span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>getWriter</span>(ExtensionContext context) <span style=color:#66d9ef>throws</span> IllegalAccessException {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>var</span> testInstance <span style=color:#f92672>=</span> context.<span style=color:#a6e22e>getRequiredTestInstance</span>();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>var</span> field : testInstance.<span style=color:#a6e22e>getClass</span>().<span style=color:#a6e22e>getDeclaredFields</span>()) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (field.<span style=color:#a6e22e>isAnnotationPresent</span>(LoggerTestWriter.<span style=color:#a6e22e>class</span>)) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>return</span> Optional.<span style=color:#a6e22e>of</span>((Writer) field.<span style=color:#a6e22e>get</span>(testInstance));
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> Optional.<span style=color:#a6e22e>empty</span>();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>beforeEach</span>(ExtensionContext context) <span style=color:#66d9ef>throws</span> Exception {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>var</span> writer <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>getWriter</span>(context).<span style=color:#a6e22e>orElseThrow</span>(() <span style=color:#f92672>-&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>new</span> IllegalStateException(<span style=color:#e6db74>&#34;@LoggerTestWriter のアノテーションをもつ Writer を定義してください&#34;</span>));
</span></span><span style=display:flex><span>        addAppender(writer, APPENDER_NAME);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>afterEach</span>(ExtensionContext context) <span style=color:#66d9ef>throws</span> Exception {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>var</span> writer <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>getWriter</span>(context).<span style=color:#a6e22e>orElseThrow</span>(IllegalStateException::<span style=color:#66d9ef>new</span>);
</span></span><span style=display:flex><span>        removeAppender(APPENDER_NAME);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (writer <span style=color:#66d9ef>instanceof</span> StringWriter) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>var</span> stringWriter <span style=color:#f92672>=</span> (StringWriter) writer;
</span></span><span style=display:flex><span>            stringWriter.<span style=color:#a6e22e>getBuffer</span>().<span style=color:#a6e22e>delete</span>(0, stringWriter.<span style=color:#a6e22e>getBuffer</span>().<span style=color:#a6e22e>length</span>());
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span></code></pre></div><p>実際にテストを書くテストクラスは次のようになる。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#a6e22e>@ExtendWith</span>(SetupLogAppender.<span style=color:#a6e22e>class</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MyLoggerTest</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>final</span> MyLogger logger <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> MyLogger(MyLoggerTest.<span style=color:#a6e22e>class</span>.<span style=color:#a6e22e>getName</span>());
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@LoggerTestWriter</span>
</span></span><span style=display:flex><span>    StringWriter writer <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> StringWriter();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Test</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>testDebugMap</span>() {
</span></span><span style=display:flex><span>        logger.<span style=color:#a6e22e>debug</span>(<span style=color:#e6db74>&#34;my-message&#34;</span>)
</span></span><span style=display:flex><span>        assertEquals(<span style=color:#e6db74>&#34;my-message&#34;</span> writer.<span style=color:#a6e22e>toString</span>());
</span></span><span style=display:flex><span>    }
</span></span></code></pre></div><p><code>@ExtendWith</code> で指定した <code>SetupLogAppender</code> クラスの beforeEach や afterEach がそれぞれのテストメソッドごとに呼ばれて、Appender のインジェクションが <code>@LoggerTestWriter</code> のアノテーションをもつ writer を使って行われる。この writer にはログ出力した文字列が記録されるようになる。これで、テストメソッドで logger に対して出力したメッセージを writer から取得できるので意図したメッセージが出力されていることをテストできる。カスタムロガーのテストケースごとに再利用可能な拡張をきれいに実装できた。</p></div></div><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2022/0115/>ワーケーション延期</a></h1><div class=post-meta><span class=post-date>2022-01-15 (Sat.)</span></div><span class=post-tags>#<a href=/diary/tags/life/>life</a>&nbsp;
#<a href=/diary/tags/workcation/>workcation</a>&nbsp;
#<a href=/diary/tags/drinking/>drinking</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#ストレッチ>ストレッチ</a></li><li><a href=#ワーケーション延期>ワーケーション延期</a></li><li><a href=#呑み>呑み</a></li></ul></nav></div><div class=post-content><p>1時に寝て8時に起きた。</p><h2 id=ストレッチ>ストレッチ</h2><p>今週も開発に集中していてあまりストレッチができなかった。今日の開脚幅は開始前165cmで、ストレッチ後166.5cmだった。先週と同じぐらい、もしくはちょっとよくなったぐらい。先週から引き続き、ふくらはぎとふとももの後ろが張っている。ここ最近は開発に集中していて1日あたり10-12時間ぐらい椅子に座っているので疲労しているのだと推測する。毎週ストレッチを受けていると疲労改善になってよい。</p><h2 id=ワーケーション延期>ワーケーション延期</h2><p>これまで <a href=/diary/posts/2021/1225/#ワーケーション準備>準備を進めてきたワーケーション</a> が2週間後になった。もともとこの企画はオミクロン株が発見される前だったので1月末に予定していた。年末年始を挟んでオミクロン株の感染流行を今週みてきて延期することに決定した。<a href=https://web.pref.hyogo.lg.jp/kf16/coronavirus_data.html>兵庫県 新型コロナウイルスの検査・陽性者の状況</a> によると、直近の陽性者数は次のように推移している。2週間後は5,000人ぐらいの陽性者数になるのではないか。諸外国の推移をみていると兵庫県のピークの陽性者数は1日1万人ぐらいまで増える可能性がある。</p><ul><li>1/10: 167</li><li>1/11: 113</li><li>1/12: 511</li><li>1/13: 903</li><li>1/14: 929</li><li>1/15: 1191</li></ul><p>残念だけど、次回の目処は5-6月ぐらいに3回目のワクチン接種を終えてからになるだろう。</p><h2 id=呑み>呑み</h2><p>21時から勉強会に参加して23時過ぎに終わって晩ご飯食べてなかったので、帰りに仲のよい焼き鳥屋さんのお店に寄って晩ご飯を食べた。26時までやっているので24時頃に言っても普通に食べものを出してくれる。1時間ほど飲み食いして法人決算や消費税、共済のこととかを話してた。マスターも個人事業主から法人成りしたようで、話してみたら私と同じで創業2年だった。業界は違っても行政手続きは共通点も多いだろうから情報共有できそう。</p></div></div><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2022/0114/>引越考察</a></h1><div class=post-meta><span class=post-date>2022-01-14 (Fri.)</span></div><span class=post-tags>#<a href=/diary/tags/government/>government</a>&nbsp;
#<a href=/diary/tags/founding/>founding</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#明石市の調査>明石市の調査</a></li><li><a href=#オフィスの引っ越し>オフィスの引っ越し</a></li></ul></nav></div><div class=post-content><p>0時半に寝て5時半に起きた。昨日からワールドトリガーのエンディング曲で <a href="https://www.youtube.com/watch?v=p0RCsmFAXXY">雲外憧憬</a> を聞いている。歌詞がワールドトリガーの世界観ともあっているし、タイトルの雲外憧憬という言葉に驚いた。四字熟語のように読めるけど、たぶん違う？こんな言葉よく思いつくなと感心してしまった。apple music の英語表記だと Aspiration Beyond The Clouds と訳されている。</p><ul><li>雲外: 空のはるか遠いところ</li><li>憧憬: あこがれること</li></ul><h2 id=明石市の調査>明石市の調査</h2><p>1ヶ月ほど前から <a href=https://twitter.com/izumi_akashi>泉房穂明石市長</a> が twitter を始めた。私のタイムラインでもフォロワーの誰かがいいねしたり、リツィートしたりしてちょくちょくみかける。泉氏の暴言などがニュースで取り上げられたりするので地方都市の市長にしては知名度が高い方だろう。神戸市の隣は明石市なのでご近所の関心はある。明石市は日本の標準時子午線があって、学生の頃に <a href=https://www.am12.jp/>天文科学館</a> にも行ったことがある。いまも成年後見人の弁護士さんの事務所は明石市にあるし、運転免許センターも明石市にあるので年に数回ぐらい行く機会もある。ツィートを眺めていると58歳の市長が初めてやっているにしてはうまく sns を使いこなしていて、始めて1ヶ月ほどしか経っていないのに8万6千人ものフォロワーがいる。ブレーンが優秀なのか、本人がやっているのかはわからないけど、すごいことだと思う。</p><p>ツィートは当然、明石市のアピールが主なのでそれを眺めているうちに明石市よいところだなと好感度があがってきた。高齢者向けのサービスを廃止して育児や教育といった子ども向けのサービスを重視していて、それが子育て世帯にうけて、全国でも有数の人口増の中核都市となっている。当然、子育てに関係ない高齢者からは不満の声もあるみたい。私もその方針は支持したいと考えて、年寄りよりも子どもの教育に行政サービスのリソースを集中すればよいと思う。</p><p>いま神戸市に住んでいるのは大阪に通勤するためだった。コロナ禍により、フルリモートワークの世の中に移行したので明石市へ引っ越してもよいかもしれないと考え始めた。明石海峡大橋があるところなので実家の淡路島へ帰るのも少し近くなる。軽く検索していくつかみた雰囲気だと、賃貸マンションの家賃も神戸市より割安感がある。比較サイトによると住民税も神戸市より年間2万円安い。ただシェアオフィスの数、起業文化やベンチャー支援みたいなところは神戸市には相当に及ばない。そこは政令指定都市としての面目躍如といったところか。オフィスさえよい場所があったら住居もオフィスも明石市へ引っ越ししてもよいかもしれない。ひとまずアンテナを張っておく。</p><h2 id=オフィスの引っ越し>オフィスの引っ越し</h2><p>明石市の話とは別に来期のどこかでオフィスを引っ越ししようかとも考えている。いまのオフィスも大きな不満はないので急いではいない。<a href=/diary/posts/2021/0930/#joel-on-software>前に Joel on Software を読んだ</a> ときに窓のないオフィスのストレスについて考えるようになった。気付いたら気付けなかった頃には戻れない。強くはないけど、ストレスの要因はなるべく排除したい。窓以外の不満でいうと働いているうちに備品も増えて部屋が手狭になってきた。引っ越し先候補の1つとして <a href=https://www.regus-office.jp/area-serch/hyogo-kobe-area/kokusai-kaikan/>リージャス神戸国際会館ビジネスセンター</a> がある。問い合わせしたら来週に内覧をさせてくれるらしい。交通アクセスやビルのグレードが高いので賃料もかなり高いだろうけど、他のシェアオフィスとの比較も含めて参考のために内覧してくる。</p></div></div><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2022/0113/>師範代としての振る舞い</a></h1><div class=post-meta><span class=post-date>2022-01-13 (Thu.)</span></div><span class=post-tags>#<a href=/diary/tags/issue-tracking-system/>issue tracking system</a>&nbsp;
#<a href=/diary/tags/food/>food</a>&nbsp;
#<a href=/diary/tags/drinking/>drinking</a>&nbsp;
</span><img src=/diary/img/2022/0113_mikan.jpg class=post-cover alt=師範代としての振る舞い><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#課題管理システムの使い方指南>課題管理システムの使い方指南</a></li><li><a href=#みかん>みかん</a></li><li><a href=#会員制バー>会員制バー</a></li></ul></nav></div><div class=post-content><p>0時半に寝て6時半に起きた。</p><h2 id=課題管理システムの使い方指南>課題管理システムの使い方指南</h2><p>いまお手伝いしているお仕事はスクラム開発をしている。課題管理システムに <a href=https://backlog.com/ja/>backlog</a> を使っている。アリエルを退職後、この10年、私より課題管理システムを使いこなす開発者をみたことがない。0-9段階で言うと、師範代として私のレベルが8だとすると、他のメンバーは0から2ぐらいのレベルしかない。このぐらいの差がある。0というのはほとんど使っていないという意味。情報共有とは、メンバー全員がいつでもどこでも同じ情報を取得できる仕組みを確立した上で、情報の提供側ではなく、その情報を必要とする受け手が常に最新の情報を取得し続ける運用ができて初めて成り立つ。情報共有を成功させるには受け手の意識の問題が大きい。まずメンバー全員がやっていない時点で情報共有の価値が大きく毀損する上に、受け手が自律的に検索して最新の情報を取得するようにならなけば実務において生産性を向上させることにもつながらない。</p><p>役に立つ情報がないから検索しない、検索しないから役に立つ情報を書かないは表裏一体だ。まず役に立つ情報を溜め、受け手が検索して情報収集するようになり、検索の精度をあげるためにカテゴリやタグでラベリングし、業務に活かすために最新情報を更新するようになる。これをチーム全員でやるようになるのは一朝一夕ではできない。</p><p>そのため、私は課題管理システムの運用に関して特異な開発者である (言うてもアリエルなら普通) という前置きをした上で、チームの開発者も非開発者も課題管理システムをうまく使えていない。私が課題管理システムをどう使っているのかをみて、開発者が真似して同じように使い始める。そして、非開発者向けにはどう使えばよいかというプラクティスを機をみて提案したり啓蒙したりしている。これは半年から1年かかる作業だと見積もっている。というのは、私が半年ぐらい働いて実践的な課題管理システムの使い方をみせないと多くの人は学べない。半年ぐらい経って、普段私がやっている価値はどういうものかを実際の実務で理解した後、模倣者がやり始めて慣れてくるのに半年ぐらいはかかる。お手本をみせるのに半年、模倣するのに半年で1年かかる。いろんなチームを指導してきたのでチームがどのような学習曲線を辿るかは概ね推測がつく。これをコンテンツにしてビジネスしようといまは考えているので、こういう実践的な機会にコンテンツとしてのノウハウも溜めていこうと考えている。</p><h2 id=みかん>みかん</h2><p>実家からみかんが送られてきた。実家で作っているみかんなのかな？なんか微妙に腐り始めようとしている雰囲気もある。お正月に帰ったときから実家に置いてあったやつだろうと思う。段ボール箱の空きスペースを埋めるために入ってた <a href=http://www.takosato.shop/shopdetail/000000000067/>「りんちょこ」</a> というお菓子を初めてみた。冬季限定らしい。軽く食べてみると思いの外おいしい。えびせんべいをチョコレートでコーティングしていてチョコフレークの食感に近い。チョコフレークが好きな人にはうけると思う。お土産にもよさそう。</p><h2 id=会員制バー>会員制バー</h2><p>オフィスの郵便受けに <a href=https://kobe-salon-s.localinfo.jp/>KOBE SALON S</a> という会員制バーのチラシが入っていた。新規会員を募集しているらしい。個人だったら全く興味はないけど、経営していると接待する機会がたまにある。前に顧問さんに経営コンサルティングを受けたときに交際費が少な過ぎるという指摘を受けた。交際費は5年後10年後のお仕事をとるための先行投資もしくは調査費用のようなものだという。そこで今期は交際費の予算に30万円を見積もっているが、現時点で46,971円しか使っていない。4月までにあと2-3件は飲みに行くあてはあるけど、このままいくと30万円は消化できない。コロナ禍というのもあるけど、何もしないと私は交際費を使わないので積極的に使っていく仕組みを作らないといけない。その一環として会員制バーは接待にいいかもしれない。すぐ退会するかもしれないけど、チラシをみた縁で入会してみる。</p></div></div><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2022/0112/>BizSTATION Light の初期設定</a></h1><div class=post-meta><span class=post-date>2022-01-12 (Wed.)</span></div><span class=post-tags>#<a href=/diary/tags/founding/>founding</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#bizstation-light-の契約移行>BizSTATION Light の契約移行</a></li></ul></nav></div><div class=post-content><p>4時半に寝て7時半に起きた。なんか眠れなくてゲームしたり映画みたり記事を読んだりしてた。</p><h2 id=bizstation-light-の契約移行>BizSTATION Light の契約移行</h2><p><a href=/diary/posts/2021/1230/#bizstation-light>年末に銀行支店で申し込みした</a> Light の新規契約分の書類が届いた。早速 Windows マシンでログインするための初期設定を行った。セキュリティ設定を変更したり、電子証明書を取得したりとけっこう面倒くさい。流れ的にはこんな感じだけど、なんで Web サービスにログインするために OS の設定変更をしないといけないのかみたいなところの抵抗感がある。セキュリティ意識の高い Web アプリケーションの仕組みを垣間みる。</p><ol><li>OS の事前設定</li><li>電子証明書の設定</li><li>ワンタイムパスワードのデバイス登録</li><li>ログイン用パスワードと取引用パスワードの設定</li></ol><p>年末年始を挟んだので少し時間がかかるかもしれないと窓口の担当者は言っていたが、そういうこともなく2週間程度で書類が送られてきた。しばらくは有償プランにはせず、無償プランのまま運用する。現時点では、明細が月1-2件ほどしかないので、有償プランが提供する API サービスによる会計システムとの連携をしなくても事務手続きの工数的にもまったく困らない。いずれ明細が増えたときのための準備として契約を移行しておいたという話し。</p></div></div><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2022/0111/>log4j2 の yml 設定</a></h1><div class=post-meta><span class=post-date>2022-01-11 (Tue.)</span></div><span class=post-tags>#<a href=/diary/tags/java/>java</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#log4j2yml-を読み込む>log4j2.yml を読み込む</a></li></ul></nav></div><div class=post-content><p>0時半に寝て6時半に起きた。だいぶ開発に集中してきて朝も起きれるようになってきた。</p><h2 id=log4j2yml-を読み込む>log4j2.yml を読み込む</h2><p>log4j2 のログ設定を整理していて設定ファイルを読み込む順番は次のようにドキュメントに記載されている。java ライブラリのこういった手厚いルールはややうんざりするところもあるけど、是非はともかく、ファイルフォーマットの違い、ファイル名の違いで読み込む優先順位がある。歴史のあるライブラリだから要求を聞いているうちにこんな感じになったんだろうと推測する。</p><blockquote><ol><li>Log4j will inspect the &ldquo;log4j2.configurationFile&rdquo; system property and, if set, will attempt to load the configuration using the ConfigurationFactory that matches the file extension. Note that this is not restricted to a location on the local file system and may contain a URL.</li><li>If no system property is set the properties ConfigurationFactory will look for log4j2-test.properties in the classpath.</li><li>If no such file is found the YAML ConfigurationFactory will look for log4j2-test.yaml or log4j2-test.yml in the classpath.</li><li>If no such file is found the JSON ConfigurationFactory will look for log4j2-test.json or log4j2-test.jsn in the classpath.</li><li>If no such file is found the XML ConfigurationFactory will look for log4j2-test.xml in the classpath.</li><li>If a test file cannot be located the properties ConfigurationFactory will look for log4j2.properties on the classpath.</li><li>If a properties file cannot be located the YAML ConfigurationFactory will look for log4j2.yaml or log4j2.yml on the classpath.</li><li>If a YAML file cannot be located the JSON ConfigurationFactory will look for log4j2.json or log4j2.jsn on the classpath.</li><li>If a JSON file cannot be located the XML ConfigurationFactory will try to locate log4j2.xml on the classpath.</li><li>If no configuration file could be located the DefaultConfiguration will be used. This will cause logging output to go to the console.</li></ol><p><a href=https://logging.apache.org/log4j/2.x/manual/configuration.html#AutomaticConfiguration>log4j2 Automatic Configuration</a></p></blockquote><p>普通 java は xml で設定を書くけど、この設定ファイルの読み込みルールをみたら yml にも対応しているならその方がよさそうとか思うやん。log4j2.xml から log4j2.yml に書き換えて試してみると、ログ設定が有効にならない。どうも log4j2.yml を読み込んでいないようにみえる。ググっていると <code>jackson-dataformat-yaml</code> を依存関係に追加しろといった内容をみつかるけど、どういう理屈でそういう仕様になっているのか、まったく理解できない。なによりも読み飛ばしたというログが出力されないから設定ファイルを読んでいるのかどうかすら気付けない。これは知ってないとはまるポイントの1つ。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;groupId&gt;</span>com.fasterxml.jackson.dataformat<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;artifactId&gt;</span>jackson-dataformat-yaml<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/dependency&gt;</span>
</span></span></code></pre></div></div></div><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2022/0110/>自己肯定感の考察</a></h1><div class=post-meta><span class=post-date>2022-01-10 (Mon.)</span></div><span class=post-tags>#<a href=/diary/tags/psychology/>psychology</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#自己肯定感高いか低いか>自己肯定感、高いか低いか</a></li></ul></nav></div><div class=post-content><p>0時に寝て8時に起きた。</p><h2 id=自己肯定感高いか低いか>自己肯定感、高いか低いか</h2><p>前になにかの記事で読んだことに、自己肯定感が高い人は困難な状況にあってもうまく折り合いをつけてやっていけるという。例えば、パワハラ気質の上司がいても、それは上司がおかしいのだと解釈して、なにを言われても全く自己否定やネガティブな感情にならないという。あるとき、別のイベントで起業家を養成するために幼児の頃から徹底的に自己肯定感を高めるためのカリキュラムを実践しているという話を聞いたことがある。田舎でのほほんと生きてきた人間とは幼児の頃から育ちが違う。</p><p>ふと自分の自己肯定感はどうだろう？とか考えるときもある。もうこの歳になって自己肯定感がどうこうで悩んだりすることはないけど、なにか事象が発生したときにまずは自分が悪かったんじゃないかと疑ってかかるところから思考が始まる。ネガティブな事象が起こると、自分が気付けば防げたとか、もっと機転を利かせばうまく対処できたんじゃないかと考えたりする。自己評価は5段階なら、自分で振り返って不満がなかったら3で、なにかあったら2をつける。そのため、多くのケースで360度評価が乖離する。たまたま野球部だったせいもあるかもしれないけど、基本的に監督に叱られるのが普通のような感覚をもっている。もっと言うと、他人から褒められた経験があまりないから褒められてもどう反応していいかもわからない。嬉しくないわけではないけど、相手に気を遣わせてしまって申し訳ないなとか思うこともある。</p><p>良くも悪くも私は他人に関心がないし、他人からの評価にはもっと関心がない。自分が取り組んでいる課題を自身の基準でうまくできたかどうかにしか興味がない。わりと他人に素っ気ない態度をとってしまうときもある。一方で他人から咎められると一通り自身の基準に当てはめて理が通っていればへこむときがある。褒められてもそれほど嬉しくないのに咎められたらへこむというのは、自己肯定感の高低によって変わったりするのかな？とか考えたりしていた。言うても、もうこの歳になると褒められることも咎められることもないのであまり気にする機会すらないのだけど。</p></div></div><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2022/0109/>進撃の巨人をみてた</a></h1><div class=post-meta><span class=post-date>2022-01-09 (Sun.)</span></div><span class=post-tags>#<a href=/diary/tags/life/>life</a>&nbsp;
#<a href=/diary/tags/comic/>comic</a>&nbsp;
#<a href=/diary/tags/animation/>animation</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#進撃の巨人>進撃の巨人</a></li></ul></nav></div><div class=post-content><p>0時に寝て8時に起きた。</p><h2 id=進撃の巨人>進撃の巨人</h2><p><a href=https://shingeki.tv/final/>進撃の巨人</a> の最終章の第2クールが始まるみたい。去年、マガジンの連載であと数話で終わりと発表があって、その後、最終話がマガジンに掲載されたときに漫画喫茶で完結したのを読んだので結末がどうなるかはもう知っている。懐かしかったので過去の話しをいくつかみていたらついつい見続けてしまった。アニメは話の展開がスムーズなせいか、視聴者を飽きさせずに次の展開へ引き込める気がする。進撃の巨人は不思議な作品で、初期のときは世界観にすごく衝撃を受けて楽しみにして漫画を読んでいたが、途中から組織のどろどろした内部抗争になって興味が失せてしまった。そして、その後、外の世界のもっとどろどろした国家間抗争になってしまってさらに興味が失せてしまった。何よりも漫画で読んでいると文章が多くて読むのに疲れる漫画になってしまった印象を受けていた。複雑な設定を追加したことで必然的に説明が増えてしまった。アニメをみていてそこまで説明調の台詞が気にならなかったのは制作スタッフがうまく作っているのだろうなとは思えた。完結して振り返ってみると、(私の好みではなくなったけど) 話の展開も伏線の回収もうまくて見事な物語になったなぁと思う。単行本の一気読みやアニメをまとめて見るとすごくおもしろいようにも感じる。こんな複雑なややこしい物語をちゃんと完結させたというところだけでも素晴らしい作品だとは思う。</p></div></div><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2022/0108/>初詣</a></h1><div class=post-meta><span class=post-date>2022-01-08 (Sat.)</span></div><span class=post-tags>#<a href=/diary/tags/life/>life</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#ストレッチ>ストレッチ</a></li><li><a href=#初詣>初詣</a></li></ul></nav></div><div class=post-content><p>0時に寝て3時に起きて、2度寝して9時ぐらいに起きた。前日はあまり寝てなくてバテてたんでよく寝てた。</p><h2 id=ストレッチ>ストレッチ</h2><p>年末年始を挟んでやや忙しかったのとだらけてたの2重奏であまりストレッチができなかった。今日の開脚幅は開始前164cmで、ストレッチ後167cmと12月よりもかなり数値が悪くなってしまった。気温が下がって寒くなってほとんど外に出掛けなくなってそれも悪影響を及ぼしているのかもしれない。また右足の内転筋まわりの張りが大きくなっているのを実感している。新年になって心機一転して日常生活を改善していかないといけない。</p><h2 id=初詣>初詣</h2><p>気分転換に <a href=https://www.minatogawajinja.or.jp/>湊川神社</a> に初詣してきた。JR 神戸駅のすぐ近くにある。歴史が好きな人なら南北朝時代の武将、楠木正成公を祀っている神社として有名みたい。足利尊氏と戦って敗れた最後の地として <a href=https://ja.wikipedia.org/wiki/%E6%B9%8A%E5%B7%9D%E3%81%AE%E6%88%A6%E3%81%84>湊川の戦い</a> の「湊川」がこの辺りになるらしい。なので楠木正成の墓所も境内に含まれている。立派な門構えでよく前を通る度にみかけてはいたけど、実際に参拝するのは初めてだった。境内も普通の神社の2-3倍ぐらいは広くて立派な装いをしている。江戸時代に徳川光圀公により立派なお墓が建立され、幕末には維新志士から崇敬の対象となって明治維新の尊王思想にも影響を与えたといったことが掲示されていた。時の権力争いの戦に敗れた武将がいろいろあって主祭神として立派な神社を構えているのも時代の流れを感じた。</p></div></div><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2022/0107/>「聞かなくてもわかる」という価値観</a></h1><div class=post-meta><span class=post-date>2022-01-07 (Fri.)</span></div><span class=post-tags>#<a href=/diary/tags/information-exchange/>information exchange</a>&nbsp;
#<a href=/diary/tags/communication/>communication</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#情報共有とコミュニケーションコスト>情報共有とコミュニケーションコスト</a></li></ul></nav></div><div class=post-content><p>0時に寝て3時に起きた。4時までドラクエタクトしたりもしてたけど、夕方に PoC のデモ打ち合わせがあるのになにも準備できてなくて不安で起きて5時からお仕事してた。久しぶりに早起きしたせいか、打ち合わせ終えたら眠いからすぐに帰って、夜はオンライン飲み会しつつくつろいでいた。</p><h2 id=情報共有とコミュニケーションコスト>情報共有とコミュニケーションコスト</h2><p>課題管理システムのことを考えていてふと思いついたことを書き出す。私からみると、多くの人たちは「聞かなくてもわかる」という価値を過小評価しがちである。というのは、その価値を定量化するのは難しいので評価されにくい。そうすると、評価されないことはやらないといった合理的な働き方をすればそうなるのは理解できる。しかし、私はその価値を理解しているので軽く考察してみる。</p><ol><li>聞けない</li><li>聞けばわかる</li><li>聞いてもわからない</li><li>聞かないとわからない</li><li>聞かなくてもわかる</li></ol><p>情報共有の過程でパッと思いつくことを段階ごとに書いてみた。1に近い方が容易で5に近い方が難しいという難易度を表しているとも言えるし、組織の情報共有のレベルを表しているとも言える。少し言葉を補うと次のように解釈してもよいだろう。</p><ol><li>(メンターが気難しくて/メンターに無能だと思われたくなくて) 聞けない</li><li>(メンターに余裕があって) 聞けばわかる</li><li>(メンターのスキル不足で/担当者が退職してて) 聞いてもわからない</li><li>(背景が文書化されていなくて) 聞かないとわからない</li><li>(課題管理システムを検索すれば) 聞かなくてもわかる</li></ol><p>昔は1のような状況を発生させる人もちょくちょく職場にいた気がするけど、いまは淘汰されてあまりみかけない。多くの組織は3か4ぐらいのレベルだろう。5まで達している組織は少ない。課題管理システムについて議論していると、たまに「知っている人に聞けばいいじゃない？」という意見があがる。この質問をしている時点で目指している働き方のレベルや生産性が大きく異なっていることがわかる。というのは、他人に聞くというのはコミュニケーションコストが非常に高い。これは他人に聞くなと言っているわけではない。他人に聞かないといけないことを減らすことで生産性を上げるという話しをしているだけだ。他者へ同じ情報を伝えるのに1時間の打ち合わせが済むのか、3時間の打ち合わせを要するのかという比較をしている。当然、打ち合わせ時間を減らしても伝えられる情報量が同じであれば打ち合わせ時間は少ない方が望ましい。そういう話しをしている。</p><p>5のレベルに達していれば、例えば、いまのシステムの仕様はなぜこのようになっているのか？変更するとしたら影響範囲はどのぐらいか？どういったモジュールに注意して改修すればいいか。もちろん前任者やリーダーに聞けばわかるだろう。聞くために打ち合わせの予定を調整するかもしれない。するとリーダーは忙しくて時間を調整できるのは来週になるという。もし課題管理システムにそういった情報が残っていれば、来週まで待つ必要がなくなる。理想的にはリーダーとの打ち合わせも必要なくなる。リーダーは他に重要な業務に時間を割ける。これが「聞かなくてもわかる」という価値である。</p><p>昔はなんらかの理由で1の状態にあった組織において、職場の風通しがよくなると、コミュニケーションコストを軽視しがちになる。職場の風通しがよいことは重要だが、打ち合わせや会議ばかりするようになると、キーパーソンの時間を湯水のように使う。キーパーソンはすぐに会議だらけになって物理的に実務ができなくなって、結果的に生産性や品質が下がる。ここで重要なのは権限委譲だが、この話しは長くなるのでここで筆をおく。</p></div></div><div class=pagination><div class=pagination__buttons><a href=/diary/page/71/ class="button previous"><span class=button__icon>←</span>
<span class=button__text>最近の日記</span>
</a><a href=/diary/page/73/ class="button next"><span class=button__text>過去の日記</span>
<span class=button__icon>→</span></a></div></div></div></div><footer class=footer><div class=footer__inner><div class=copyright><span>© 2024 Powered by <a href=https://gohugo.io>Hugo</a></span>
<span>:: <a href=https://github.com/panr/hugo-theme-terminal target=_blank>Theme</a> made by <a href=https://github.com/panr target=_blank>panr</a></span></div></div></footer><script type=text/javascript src=/diary/bundle.min.js></script></div></body></html>