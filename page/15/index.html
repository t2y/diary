<!doctype html><html lang=en><head><meta name=generator content="Hugo 0.123.1"><title>forest nook</title>
<meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=/diary/><link rel=stylesheet href=/diary/styles.css><link rel=stylesheet href=/diary/style.css><link rel="shortcut icon" href=/diary/favicon.ico><meta name=twitter:card content="summary"><meta name=twitter:site content="t2y"><meta name=twitter:creator content="t2y"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:title" content="forest nook"><meta property="og:description" content><meta property="og:url" content="/diary/"><meta property="og:site_name" content="forest nook"><meta property="og:image" content="/diary/favicon.ico"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><link href=/diary/index.xml rel=alternate type=application/rss+xml title="forest nook"></head><body class=green><div class="container full headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=/diary><div class=logo>forest nook</div></a></div><ul class="menu menu--mobile"><li class=menu__trigger>Menu&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=/diary/about>自己紹介</a></li><li><a href=/diary/dates>月別一覧</a></li><li><a href=/diary/tags>タグ一覧</a></li></ul></li></ul></div><nav class=navigation-menu><ul class="navigation-menu__inner menu--desktop"><li><a href=/diary/about>自己紹介</a></li><li><a href=/diary/dates>月別一覧</a></li><li><a href=/diary/tags>タグ一覧</a></li></ul></nav></header><div class=content><div class=posts><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0916/>昼に寝て夜に考える</a></h1><div class=post-meta><span class=post-date>2023-09-16 (Sat.)</span></div><span class=post-tags>#<a href=/diary/tags/life/>life</a>&nbsp;
#<a href=/diary/tags/founding/>founding</a>&nbsp;
#<a href=/diary/tags/tax/>tax</a>&nbsp;
#<a href=/diary/tags/scrum/>scrum</a>&nbsp;
#<a href=/diary/tags/project-management/>project management</a>&nbsp;
#<a href=/diary/tags/issue-management/>issue management</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#ストレッチ>ストレッチ</a></li><li><a href=#工事業者の訪問>工事業者の訪問</a></li><li><a href=#遺産分割協議書の契印割印の要否>遺産分割協議書の契印・割印の要否</a></li><li><a href=#ストーリーポイント再考>ストーリーポイント再考</a></li></ul></nav></div><div class=post-content><p>0時に寝て何度か起きて7時に起きた。昨日は晩ご飯食べてからだらだらしているうちにいつの間にか寝ていた。今日はオフィス暑くて14時から帰ってきてお昼寝して19時過ぎにまた戻った。</p><h2 id=ストレッチ>ストレッチ</h2><p>先週末は実家や四国へ出掛けていたため、ストレッチをお休みしていた。2週間ぶりのストレッチとなる。右足がパンパンでひどいことになっていた。休んだことと出掛けていたことの疲労が重なったのか、右足のどこの部位も調子が悪くて歩くのもやや辛いと言える。相対的に左足が大丈夫なように聞こえるが、普通の感覚ではそれなりに張りがあるので左足も疲労している。あと腰も左右ともに負荷がかかっているように思えた。今日の開脚幅は開始前155cmで、ストレッチ後157cmだった。週末はちょっと休もうかと思ったぐらいの疲労度と体調の悪さを実感した。</p><h2 id=工事業者の訪問>工事業者の訪問</h2><p>先日の <a href=/diary/posts/2023/0915/>暑さ対策委員会</a> の続き。</p><p>ストレッチを終えてオフィスに向かうと、ちょうど同じエレベーターで工事業者さんと鉢合わせになった。いまから作業するところだったらしく、作業前にオフィスに入ってもらって通気口の状況を確認してもらった。いまの室温は30℃を少し上回ったところ。通気口からエアコンの風は出ているが、室内がまったく冷えないことを伝えた。そのときになにかの機器にガスを注入したという話しをしていた。これでダメなら (エアコンの？) メーカーの担当者と別の調査か対策を行うといった話しをされていた。何であれ、調査して原因の切り分けをして、次の作業へ進展している話しを聞いて安心した。但し、今日のところは、夜になっても室温の変化はみられなかった。まだ改善するかどうかはわからない。</p><h2 id=遺産分割協議書の契印割印の要否>遺産分割協議書の契印・割印の要否</h2><p>弁護士さんから以前、作成した遺産分割協議書に割印をしていないことに気付き、税務署の手続きを進められない可能性があるから、もう一度、相続人全員の割印を取得してほしいと書類が届いた。すでに銀行・法務局の手続きは滞りなく終えている。こんな面倒なことを可能性があるという不確かな情報でやってられないと思って、本当に必要な手続きかどうかを税務署に確認してほしいと返信した。それと同時にググってみると、あるほうが改ざん防止になるので望ましいが、必須ではないという記事が多くみつかる。書類を作成するときに依頼されていれば応じるが、書類作成後になって大半の手続きも終えていて、相続税を払うためだけにそんなことやってられるかと思ってこのまま進めてほしいと押印せず書類も返送した。</p><ul><li><a href=https://www.souzoku-zei.jp/souzokuzei/souzoku-tetsuduki/%E9%81%BA%E7%94%A3%E5%88%86%E5%89%B2%E5%8D%94%E8%AD%B0%E6%9B%B8%E6%96%87%E4%BE%8B%E9%9B%86/>https://www.souzoku-zei.jp/souzokuzei/souzoku-tetsuduki/%E9%81%BA%E7%94%A3%E5%88%86%E5%89%B2%E5%8D%94%E8%AD%B0%E6%9B%B8%E6%96%87%E4%BE%8B%E9%9B%86/</a></li><li><a href=https://www.tax-tomoni.co.jp/blog/souzokuzei/stamp/>https://www.tax-tomoni.co.jp/blog/souzokuzei/stamp/</a></li></ul><p>もちろん税理士さんや税務署に裏付けをとる必要はあるが、ちょっと調べれば分かることをベテランの弁護士さんが調べずに顧客へ工数を転嫁することにがっかりした。</p><h2 id=ストーリーポイント再考>ストーリーポイント再考</h2><p>少し前にみかけたポストで「ストーリーポイントは機能しない」というものがあった。</p><blockquote class=twitter-tweet><p lang=en dir=ltr>Story Points don't work.<br><br>Even Ron Jeffries, who invented them, said he was sorry years ago.<br><br>And not only did he apologize, but he called the whole estimation idea "Evil."<br><br>Unfortunately, too many teams still use these points to estimate their work.<br><br>Story Points is a made-up… <a href=https://t.co/w62WJRU7lg>pic.twitter.com/w62WJRU7lg</a></p>&mdash; Santiago (@svpino) <a href="https://twitter.com/svpino/status/1697250711632003260?ref_src=twsrc%5Etfw">August 31, 2023</a></blockquote><script async src=https://platform.twitter.com/widgets.js></script><p>私もストーリーポイント否定派の1人だが、その投稿に発明者ですら謝罪していると書かれていた。それでずっと気になっていたので発明者の元記事を読んでみた。翻訳に近いが、日本語でも要約された記事もある。</p><ul><li><a href=https://note.com/shunk_py/n/n6bcf39bbe282>XP創始者、Ron Jeffries氏による「ストーリーポイントの再考」</a></li><li><a href=https://ronjeffries.com/articles/019-01ff/story-points/Index.html>Story Points Revisited</a></li></ul><p>これを読んでみて、発明者も言っていることは真っ当だと思う。ストーリーポイントがいかに誤用されているか、それによって意味のない時間を費やしているか。そもそも見積もりは現実のプロジェクトマネジメントにおいて必要とされるが、実際の開発においてまったく無意味であるといったことなどが書かれていて、ソフトウェア開発を見積もろうとする行為そのものがそもそも間違っていて、それをさらに相対化 (抽象化) させたストーリーポイントが役に立つわけがないとすら思えた。誤用されるなら、スプリントプランニングのためにストーリーポイントを使うのはまったくの無駄とまで言い切っている。</p><p>この記事を読んで不思議なことの1つに、実際にスクラムでストーリーポイントを使ってみれば意味のない指標であることに気付く開発者は多いと思う。スクラムガイドにおいても、見積もりより経験主義の重要性を説いているにも関わらず、なぜこんな誤ったメトリクスがスクラムとセットで導入されているのか、私には理解できない。プロジェクトマネジメントては別の、政治力学においてストーリーポイントが使われているのではないか？という気すらしてくる。</p><p>課題管理の文脈だと、見積もりは勘と経験でよいというのが私の解になる (ストーリーポイントを使ったところで出鱈目なんだから) 。課題管理と見積もりというテーマもなにかしらコンテツになりそうな気がした。</p></div></div><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0915/>涼しくなる前に暑さ対策を</a></h1><div class=post-meta><span class=post-date>2023-09-15 (Fri.)</span></div><span class=post-tags>#<a href=/diary/tags/document/>document</a>&nbsp;
#<a href=/diary/tags/founding/>founding</a>&nbsp;
#<a href=/diary/tags/accounting/>accounting</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#ドキュメント書き>ドキュメント書き</a></li><li><a href=#実務スタッフの訪問>実務スタッフの訪問</a></li><li><a href=#クレジットカードの明細のリアルタイム連携>クレジットカードの明細のリアルタイム連携</a></li></ul></nav></div><div class=post-content><p>0時に寝て何度か起きて7時過ぎに起きた。6時に起きようと思ったけど、気付いたら7時になってた。</p><h2 id=ドキュメント書き>ドキュメント書き</h2><p>8月前半にやっていた非機能要件である差分比較の仕組みについてドキュメントを追加した。但し、この機能はまだ品質を保証できないところがあるため <code>experimental</code> という機能にした。そのためのドキュメントとサポートポリシーについても明記した。利用者からのフィードバックを得られることを目的にした開発途中の機能をプロダクトに追加する仕組み化した。あまりエンタープライズ向けの業務システムでそういった機能を多用するようなことはないと思うけど、QA を十分にできなくてまだ品質に自信がないといったときにも使えるかもしれない。</p><h2 id=実務スタッフの訪問>実務スタッフの訪問</h2><p>先日の <a href=/diary/posts/2023/0901/>暑さ対策委員会</a> の続き。</p><p>そろそろ電話しようかと考えていたところ、スタッフが訪問してくれた。7月の中旬からクレームを上げていて、初めてオフィスに来てくれて室温が高いことを確認してくれた。いまだと昼間は30℃ぐらい。その人は過去の経緯をわかっていないようで、フィルター交換と冷媒交換をしたが、まったく効果がないことを丁寧に説明し、エアコンのコントロールパネルの温度・風量設定もまったく機能しないことを伝えた。明日の午前中に工事の業者と一緒に調査してくれるという。ようやく人が来てちゃんと確認してくれた。明日の作業に期待。</p><h2 id=クレジットカードの明細のリアルタイム連携>クレジットカードの明細のリアルタイム連携</h2><p>先週末の小旅行にかかった経費の領収書を会計システムに登録した。30分もあればできるのにずっと後回しにしていた。</p><p>唐突だが、<a href=https://www.freee.co.jp/card/unlimitedcard/>freeeカード Unlimited</a> がすごくよい。起業時に作った法人向けのクレジットカードは所持しているが、クレジットカードの盗難・紛失時の冗長化の目的で4月に携帯用のカードとして導入した。これが後発のせいか、freee のシステムとの親和性を考慮しているのか、まだ使っているユーザーが少ないからなのか、ほぼリアルタイムで決済情報が会計システムに連携される。</p><p>もともと使っていた旧来のクレジットカードと比較できるため、会計システムと決済情報のデータが迅速 (ほぼリアルタイム) に連携すると、実際に運用してみて事務手続き工数を削減できることに気付いた。旧来のクレジットカードは決済情報を取得するのに2週間ほどかかり、さらに先方のシステムの都合で月の負荷が高くなりそうな期間 (10-14日とか) は連携不可といった運用になっている。2週間経ってから決済情報をみても何にお金を使ったのか思い出すのに少し時間がかかったり、請求書などを調べて確認したりする作業が発生する。クレジットカードで支払った直後に会計システムに取引登録するのがもっとも事務手続き工数を削減できることに気付いた。</p><p>半年間ほど新旧のクレジットカードで運用してみて、旧来のクレジットカードによる決済を置き換えていくことに決めた。今後は Unlimited なクレジットカードを2つ使って冗長化した運用にしようと思う。</p><p>速さは正義。</p></div></div><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0914/>資料作りの一日</a></h1><div class=post-meta><span class=post-date>2023-09-14 (Thu.)</span></div><span class=post-tags>#<a href=/diary/tags/project-management/>project management</a>&nbsp;
#<a href=/diary/tags/issue-management/>issue management</a>&nbsp;
#<a href=/diary/tags/issue-tracking-system/>issue tracking system</a>&nbsp;
#<a href=/diary/tags/gitlab/>gitlab</a>&nbsp;
#<a href=/diary/tags/mongodb/>mongodb</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#今開発の大きなふりかえりの資料作り>今開発の大きなふりかえりの資料作り</a></li><li><a href=#次開発の要件打ち合わせの資料作り>次開発の要件打ち合わせの資料作り</a></li></ul></nav></div><div class=post-content><p>23時に寝て何度か起きて6時に起きた。疲労も溜まっているのでなるべく早く寝るように努めている。旅行中ずっと早起きしていたから早起きするのは苦にならない。</p><h2 id=今開発の大きなふりかえりの資料作り>今開発の大きなふりかえりの資料作り</h2><p>ふりかえりのために課題管理システムの issue 情報から統計的な数値を取得する。</p><p>gitlab の <a href=https://gitlab.com/gitlab-org/cli>cli</a> ツールを使って issue 情報を取得して mongodb にインポートする。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ glab api --paginate <span style=color:#e6db74>&#34;groups/product%2Funicorncidm/issues?milestone=2023-09-05&amp;not[labels]=Duplicate,Invalid,Wontfix&#34;</span> | jq -c <span style=color:#e6db74>&#39;.[]&#39;</span> &gt; 2023-09-05-issues.json
</span></span><span style=display:flex><span>$ mongoimport --authenticationDatabase<span style=color:#f92672>=</span>admin --uri <span style=color:#e6db74>&#34;mongodb://root:secret@localhost:27017&#34;</span> --db gitlab --collection issues 2023-09-05-issues.json
</span></span></code></pre></div><p>mongodb で aggregation (sql で言うところの group by 句に相当する) するときはパイプライン処理を実装する。例えば、最初にデータをフィルターして、次にグルーピングして、最後にソートするのは次のようなパラメーターになる。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ mongosh --username root --password secret
</span></span><span style=display:flex><span>test&gt; use gitlab
</span></span><span style=display:flex><span>gitlab&gt; db.issues.aggregate<span style=color:#f92672>([</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>{</span> $match: <span style=color:#f92672>{</span> $or: <span style=color:#f92672>[</span> <span style=color:#f92672>{</span> <span style=color:#e6db74>&#34;milestone.title&#34;</span>: <span style=color:#e6db74>&#34;2023-09-05&#34;</span> <span style=color:#f92672>}</span>,<span style=color:#f92672>{</span> <span style=color:#e6db74>&#34;milestone.title&#34;</span>: <span style=color:#e6db74>&#34;2023-09-19&#34;</span> <span style=color:#f92672>}</span> <span style=color:#f92672>]</span> <span style=color:#f92672>}</span> <span style=color:#f92672>}</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>{</span> $group: <span style=color:#f92672>{</span> <span style=color:#e6db74>&#34;_id&#34;</span>: <span style=color:#f92672>{</span> milestone: <span style=color:#e6db74>&#34;</span>$milestone<span style=color:#e6db74>.title&#34;</span> , author: <span style=color:#e6db74>&#34;</span>$author<span style=color:#e6db74>.username&#34;</span> <span style=color:#f92672>}</span>, councount: <span style=color:#f92672>{</span> <span style=color:#e6db74>&#34;</span>$sum<span style=color:#e6db74>&#34;</span>: <span style=color:#ae81ff>1</span> <span style=color:#f92672>}</span> <span style=color:#f92672>}</span> <span style=color:#f92672>}</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>{</span> $sort: <span style=color:#f92672>{</span> _id: <span style=color:#ae81ff>1</span> <span style=color:#f92672>}</span> <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>])</span>
</span></span></code></pre></div><p>これで前回の開発のときに取得した数値と今回の開発の数値を比較してみると、いろいろわかることもあって、メンバーが成長していることも伺えて、課題管理をしながら開発を進めることのメリットを実感できる開発になったのではないかと思う。gitlab のアクティビティ図 (草生え図) をみても前回の開発よりも草がたくさん生えているので課題管理に習熟している様子が伺える。これをあと2-3年ぐらいすれば、課題管理を使いこなせる一般の開発者になるのではないかと思う。課題管理 + イテレーション開発でチームビルディングしていくところの、地盤のようなものはできたようにみえる。</p><p>この草生え図を匿名化して利用許可をもらって、うちの会社でいうところの課題管理ができるようになると、メンバーの働き方はこうなるというサンプルとして紹介させてもらうつもり。また来週メンバーにもその許諾を取ろうと思う。</p><h2 id=次開発の要件打ち合わせの資料作り>次開発の要件打ち合わせの資料作り</h2><p>今開発を始めるときに洗い出した要件の未対応のものと、今開発でやり残した非機能要件の開発課題を資料にまとめてたたき台とした。それだけでも3-4ヶ月分の開発課題になりそうだし、アーキテクチャとして大きな意思決定も1つある。私自身、7割型は決まっているが、考え方や要件によってはもう1つの案でいくのもよいかもしれない。機能要件は実際にお客さん先へ導入するときにもいくつか出てくるだろうけれど、非機能要件の運用に影響を与える懸念のところはなるべく早く改善しておきたい。次の開発期間にそこだけ対応すれば、一定の安心をもってお客さんへ提供できるようになると思う。</p></div></div><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0913/>来週の出張準備</a></h1><div class=post-meta><span class=post-date>2023-09-13 (Wed.)</span></div><span class=post-tags>#<a href=/diary/tags/document/>document</a>&nbsp;
#<a href=/diary/tags/ldap/>ldap</a>&nbsp;
#<a href=/diary/tags/issue-management/>issue management</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#ドキュメント書き>ドキュメント書き</a></li><li><a href=#近況報告の資料作り>近況報告の資料作り</a></li></ul></nav></div><div class=post-content><p>1時に寝て何度か起きて6時半に起きた。気分転換も兼ねた非日常の小旅行を終えてまた元の生活へ戻していく。</p><h2 id=ドキュメント書き>ドキュメント書き</h2><p>昨日の続き。ドキュメントの一部レビューをお願いしているところがあるので別のところのドキュメントを書いていた。その過程で ldap の anonymous bind の設定ができないような制御になっていることに気付いてその設定を修正したりした。ドキュメントを書いていてバグをみつけた。</p><h2 id=近況報告の資料作り>近況報告の資料作り</h2><p>四国から帰ってきたばかりなのに来週は東京へ行かないといけない。開発はほぼ完了しているのでなにも憂いはないが、出張のタイミングで大きなふりかえりや次の開発フェーズの要件の発散などもやりたい。そのための資料の準備がまったくできていないことに昨日の夜、気付いた。明日・明後日ぐらいで準備して、できるだけ事前に参加者に共有したい。いまは忙しくないのだけど、なぜか空き時間をうまく作れなくても毎日バタバタしている感がある。</p><p>今日は月例の近況報告の資料を作っていた。客観的に、このタイミングで私を契約終了としてもよいだろうし、私の感覚的には次の開発フェーズを3-4ヶ月みて、その後にチームのメンバーにこのプロダクト開発を委譲するといった段取りがよいのではないかと考えている。そういった話しも来週はしてくるつもり。長く残ったとしても今年度いっぱいが区切りとしてよいのではないかな。</p></div></div><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0912/>家に帰るまでが旅行</a></h1><div class=post-meta><span class=post-date>2023-09-12 (Tue.)</span></div><span class=post-tags>#<a href=/diary/tags/remote-work/>remote work</a>&nbsp;
#<a href=/diary/tags/document/>document</a>&nbsp;
#<a href=/diary/tags/biztrip/>biztrip</a>&nbsp;
#<a href=/diary/tags/project-management/>project management</a>&nbsp;
#<a href=/diary/tags/founding/>founding</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#ドキュメント書き>ドキュメント書き</a></li><li><a href=#帰路に着く>帰路に着く</a><ul><li><a href=#たこせんべいの種類>たこせんべいの種類</a></li><li><a href=#新神戸駅>新神戸駅</a></li></ul></li><li><a href=#小旅行の所感>小旅行の所感</a></li></ul></nav></div><div class=post-content><p>実家へ帰って疲れていたせいか、21時過ぎから寝てしまって2-3時間ごとに起きて5時半に起きた。親はもっと早くから起きているからその時間から朝ご飯が出てくる。</p><h2 id=ドキュメント書き>ドキュメント書き</h2><p><a href=/diary/posts/2023/0909/#実家>持ち帰ったばかりの机とバランスチェア</a> を使って初めてのリモートワーク。とくに問題なく作業できたのでよさそうに思う。今日は早くお仕事を切り上げるために7時からお仕事を始めた。issue の対応を見守りながらドキュメントをまとめて書いていた。新規追加した機能やまったく違う仕組みに置き換えたものがあるため、ドキュメントの変更量が多い。</p><p>お昼にメンバーからも qa テストの完了報告が届いて、私も自分がもっている issue ではバグ修正もすべて終えていて、あとはドキュメントと最後の GA 向けのパッケージングぐらい。いつもそう思うけれど、終わってみれば順調に予定通り開発のイテレーションを完了できた。今回は機能開発に約3ヶ月、QA に1ヶ月の約4ヶ月のイテレーションとなった。開発の状況をみながらマイルストーン (2週間) を増やしたりもした。その程度の調整もした上で予定通りと言える。3ヶ月のイテレーションに対して、私がマネジメントをしていれば前後2週間程度のズレしか出ない。こんなの当たり前だと思うが、以前お手伝いしたスクラム開発でのストーリポイントでは2ヶ月の見積もりに対して4ヶ月を要した。見積もりがめちゃくちゃだったと言える。</p><h2 id=帰路に着く>帰路に着く</h2><p>てらださんが鳴門から淡路島南 IC に15時30分に着くという予定を教えてもらっていた。そのため、15時にお仕事を切り上げて、迎えに行って、それから神戸に一緒に帰ってきた。</p><h3 id=たこせんべいの種類>たこせんべいの種類</h3><p>帰路の途中で <a href=http://www.takosato.co.jp/index.php>たこせんべいの里</a> へ立ち寄った。津名一宮 IC のすぐ近くにある。おそらく私は行ったことなかったと思う。長居するような観光施設ではないが、立ち寄ってみたらそれなりにおもしろかった。てらださんの奥さんがたこせんべい好きらしくて、いろいろ教えてくれた。50種類ぐらいある。たこせんべいっていろいろ入っていることは知っていたけど、こんなに多くの種類があるとは知らなかった。たこせんべいの個別試食ができて、コーヒーも飲めて、工場見学して、お土産にせんべい買って帰った。16時半には出発した。</p><figure><img src=/diary/img/2023/0912_tako-senbei.jpg></figure><h3 id=新神戸駅>新神戸駅</h3><p>快調に高速道路を走って、3号神戸線を迂回して7号北神戸線から神戸へ戻る。道中で若宮-芦屋間で渋滞18kmとか出ていた。いつものこと。てらださんに <a href=/diary/posts/2023/0813/#阪神高速3号神戸線>3号神戸線のうんちく</a> をたくさん語って満足。この日のためのネタだ。17時には新神戸駅に到着して送り届けられた。無事に旅程をこなせてよかったと私がほっとした。</p><h2 id=小旅行の所感>小旅行の所感</h2><p>てらださんがオープンセミナー参加のために香川県へ来られるという話しを聞いて、車も買ったばかりだし地元だから案内しようと考えた。その延長で LT 発表しようと思いつき、ある記事を翻訳したらちょっとバズって世の中の役に立ったのかもしれない。</p><p>私はなにも用事がなければ出掛けないことが多い。いまは基本的にずっと会社のお仕事をしているし、そんな毎日でも不満もない。だからこそ、なおさらこういった縁の機会が大事だとわかるようになってきた。てらださんが来られなければ、この3泊4日の小旅行はあり得なかった。そして <a href=/diary/posts/2023/0911/#2泊3日の車中泊の所感>車中泊の経験</a> も得られなかった。新しいことを学ぶ機会そのものが尊い。旅程を通して関わってくれた周りの人たちに感謝したい。</p><p>これは昔はらさんからも助言をいただいたことを覚えている。私が交際費を年間で2-3万円しか使っていなかったときのこと。</p><blockquote><p>放っておいて会社にお仕事が舞い込んだりしない。<br>いまのお仕事がずっと続くことはあり得ない。<br>将来のために新しい縁を自分から探しに行かない限り、会社を継続できない。</p></blockquote></div></div><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0911/>鳴門観光と車中泊のまとめ</a></h1><div class=post-meta><span class=post-date>2023-09-11 (Mon.)</span></div><span class=post-tags>#<a href=/diary/tags/day-off/>day off</a>&nbsp;
#<a href=/diary/tags/biztrip/>biztrip</a>&nbsp;
#<a href=/diary/tags/sightseeing/>sightseeing</a>&nbsp;
#<a href=/diary/tags/drive/>drive</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#道の駅-くるくるなると>道の駅 くるくるなると</a></li><li><a href=#北灘漁協直送とれたて食堂>北灘漁協直送とれたて食堂</a></li><li><a href=#うずしおの観潮船>うずしおの観潮船</a></li><li><a href=#2泊3日の車中泊の所感>2泊3日の車中泊の所感</a></li></ul></nav></div><div class=post-content><p>1時に寝て6時前に起きた。あまり深くは眠れていないとは思うけど、車の中で眠ると途中で起きた気がしない。いつもより浅く長く眠れた気がする。今日はお休みをとってアテンドに徹する。</p><h2 id=道の駅-くるくるなると>道の駅 くるくるなると</h2><p>午前中はとくに用事がなかったので、どこかで作業できないかと考えてながら走っていてよさそうな道の駅をみつけた。まったく調べずにたまたま通りかかって寄ってみたらすごくよかった。食べものも独自メニューがあって、お土産もたくさんあって、外にはテラス席が設けられていてそこでパソコンを開いて作業をしていた。外のテラス席だと、電波1でぎりぎり wifi 接続できる程度。快適にインターネットをするのは厳しい。後になって 2F の休憩スペースがあることに気付いた。そこだと快適だったのかもしれない。</p><p>他人にお勧めできるかどうか、自分でも海鮮丼を頼んでみた。メニューより小ぢんまりしていて普通サイズではあるが、道の駅にしては十分においしかったと思う。</p><ul><li><a href=https://www.facebook.com/t2y1979/posts/pfbid0UzX3mwFyPwAfMEa2Wo5xNekaXwB389TW2JN1GvoWRgekuC6ARmXZHYdd52UiHNVrl>写真と所感はここ</a></li></ul><h2 id=北灘漁協直送とれたて食堂>北灘漁協直送とれたて食堂</h2><p>12時40分に鳴門駅でてらださんと合流してお昼ご飯を食べに来たところがここ。くるくるなるとも候補の1つだったのだけど、時間もあったし、私が相対比較したかったのもあって移動。10時にくるくるなるとで朝ごはんを食べたばかりでややお腹に溜まっていた。その分を差し引いて、この食堂の海鮮丼もおいしかった。価格帯が同じぐらいなので魚の品質レベルはどちらも大差ないように思えた。しかし、鳴門わかめのおみそ汁がついて、器が大きくて見栄えもよく、料理としての完成度はこちらの方が格上だった。相対的に他者にお勧めするなら断然こっちだなとわかってよかった。</p><ul><li><a href=https://www.facebook.com/t2y1979/posts/pfbid0wdWksqrXCZdoHStys2WtevKJ1wKMQSEAHnFJHqq4azDRctL7niSGv9Wm8WUDfA3ol>写真と所感はここ</a></li></ul><h2 id=うずしおの観潮船>うずしおの観潮船</h2><p>15時40分の観潮船に乗った。塩の満ち引きだから朝と夕方の見どころの時間がある。残念ながらきれいに渦がまいているのはみえなかった。しかし、雨上がりで虹がかかっているのをみれたのでそれはよかった。うず潮は淡路島と徳島県の間にしかない自然現象になる。他でみれないという視点からお客さんがきたときに連れて行くのはよいと思う。それほどすごいものじゃないけど、ここにしかないという特別なものではある。淡路島からも福良から観潮船が出ているらしい。今度それも乗ってみようと思う。</p><ul><li><a href=https://www.facebook.com/t2y1979/posts/pfbid049VTfjXmZSZx579UhJ8L7kK7qJZbozxWuHQRmy8u4TbevrqJpx65hseYeT9nGMt6l>写真と所感はここ</a></li></ul><h2 id=2泊3日の車中泊の所感>2泊3日の車中泊の所感</h2><p>行き当たりばったりで出掛けて初めて車中泊で旅行した。まったくなにも準備せず、普通のお泊りセットだけもって出掛けた。おかげで自分の無知と必要なものがたくさんわかった。</p><ul><li><a href=/diary/posts/2023/0910/#カーチャージャーが大活躍>カーチャージャー</a><ul><li>スマホのバッテリーがなくなると不安になるので必須</li></ul></li><li>モバイルバッテリー<ul><li>カーチャージャーは運転していないと充電できないため、車外でも充電できる安心感のためにあるとよい</li><li>カーチャージャーでモバイルバッテリーも充電しておけば、いつでもどんな状況でもスマホを充電できる</li></ul></li><li>拠点となる車を長時間駐車してもよさそうな場所の確保<ul><li>知らない地域では右往左往してしまうし、車は未知に迷うと小回りがきかないから疲れる<ul><li>拠点となる場所を最低限調査してから行くべき</li></ul></li><li>拠点の候補<ul><li>道の駅<ul><li>駐車場が広く24時間トイレを使える</li></ul></li><li>スーパー銭湯<ul><li>お風呂に入って疲れを取れるし長く休憩できる</li></ul></li><li>大きめのドラッグストア<ul><li>やや郊外で駐車場が広い傾向があるから邪魔になりにくい</li></ul></li><li>駐車場の広いコンビニエンスストア<ul><li>道の駅が近くにないときの代替となるところ</li></ul></li></ul></li></ul></li><li>エンジンを切ってエアコンがなくても過ごせる季節に行く<ul><li>エンジンをかけていないとエアコンのコンプレッサーは動かない</li><li>アイドリングは騒音になるため、周りに民家などがあればマナー違反だという</li><li>暑い時期さえ外せば、毛布などをもっておけばエンジンを停止して休める</li></ul></li><li>移動を急かされる焦燥感のようなストレスを受ける<ul><li>ここにずっと居ていいわけではないため、居場所がないというストレスがある</li><li>ホテルで泊まるときのような、一息つくという感覚を持ちにくく疲労しやすい (と思える)<ul><li>これはいくらかスーパー銭湯でリフレッシュできる</li></ul></li></ul></li></ul></div></div><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0910/>香川観光</a></h1><div class=post-meta><span class=post-date>2023-09-10 (Sun.)</span></div><span class=post-tags>#<a href=/diary/tags/day-off/>day off</a>&nbsp;
#<a href=/diary/tags/biztrip/>biztrip</a>&nbsp;
#<a href=/diary/tags/sightseeing/>sightseeing</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#車中泊の所感>車中泊の所感</a><ul><li><a href=#カーチャージャーが大活躍>カーチャージャーが大活躍</a></li></ul></li><li><a href=#朝風呂>朝風呂</a></li><li><a href=#鬼ヶ島-女木島>鬼ヶ島 (女木島)</a></li><li><a href=#昼食のうどん>昼食のうどん</a></li><li><a href=#泉谷アーチダム>泉谷アーチダム</a></li><li><a href=#閉館前の会館>閉館前の会館</a></li><li><a href=#夜風呂>夜風呂</a></li><li><a href=#車中泊>車中泊</a></li></ul></nav></div><div class=post-content><p>2時に寝て車中泊して6時に起きた。初めて車中泊を試してみた。</p><h2 id=車中泊の所感>車中泊の所感</h2><p>エンジンをかけたたままエアコン入れてシートを倒して普通に眠れた。私は昔からオフィスで椅子を並べて寝たり、机に寄りかかって寝たりするのになにも抵抗がなかったから、車で寝ていてもまったく抵抗がない。これは宿泊費を削減できていいなと思えた。</p><h3 id=カーチャージャーが大活躍>カーチャージャーが大活躍</h3><p>音楽を流しながら寝たため、朝起きて気付いたらスマホのバッテリーがなくなっていた。そっか。ホテルに泊まっていないと電源がないことに気付いた。これはやばい。慌ててセブンイレブンへ行って <a href=https://shop.tamadenco.co.jp/product/kp132uc/>PD対応 カーチャージャー 20W USB-C×1ポート USB-A×1ポート KP132UCモデル</a> を購入した。</p><p>要否に関係なく、私のような人間はスマホが使えないと不安になる。車中泊にとってカーチャージャーは必需品だということに気付いた。あとカーチャージャーから接続するには適度な長さのケーブルも必要になる。さらに保険のためにモバイルバッテリーも常備しておこう。たまたまほぼ放電してたモバイルバッテリーがリュックに入っていることに気付いて、カーチャージャーからモバイルバッテリーに充電して、機をみてモバイルバッテリーからスマホに充電するといった運用をしていた。これでほぼスマホのバッテリーを心配する必要はなくなって、この後の旅程も安心して過ごすことができた。</p><p>その後、多摩電子工業さんのオンラインサイトみていたら <a href=https://shop.tamadenco.co.jp/product/tkp147uck/>TKP147UCK</a> なら type-c で 65W の電力を供給できる。これなら m2 macbook にも充電できるんじゃないかと思う。衝動買いで購入してみたのでまた後日テストしてみる。macbook のバッテリーも気にする必要がなくなれば、車中泊の運用の幅が広がる気がする。</p><h2 id=朝風呂>朝風呂</h2><p>6時過ぎに起きてお風呂に入ろうと思って <a href=https://www.kiraraonsen.com/>天然温泉きらら</a> へ行った。お風呂もサウナも普通で特別に言及するようなスーパー銭湯でもないが (別に悪いわけではない) 、朝6時から開いているところがもっとも素晴らしいと言える。車中泊でスマホも macbook も放電してしまったため、充電も目的の1つにはあった。和室の休憩スペースに電源コンセントがあってことなきを得た。お風呂に入ってから1.5時間ほど充電しつつ macbook で作業をしていた。充電が溜まると安心できた。wifi も30分起きに接続し直す不便さだけ我慢すればフリーでは使えた。</p><h2 id=鬼ヶ島-女木島>鬼ヶ島 (女木島)</h2><p><a href=http://www.onigasima.jp/>鬼ヶ島観光協会</a> へ行ってきた。スーパー銭湯で今日の行き先を調べていて、よさそうにみえた。まだ10時のフェリーに間に合うと気付いて慌てて準備して高松港へ向かった。お昼から雨の予報だったが、結果的に女木島から戻ってくるまで雨は降らなかった。</p><ul><li><a href=https://www.facebook.com/t2y1979/posts/pfbid0yXNwyj7o9AQR8PJP8GfmejBq1SbDMDD4JvKc3pmrqMY8ZNSjoCGuLoikn4s1Yci3l>写真と所感はここ</a></li></ul><h2 id=昼食のうどん>昼食のうどん</h2><p>14時前に女木島から高松港へ戻ってきてお昼ご飯。てきとうに食べログを検索して <a href=https://tabelog.com/kagawa/A3701/A370101/37008943/>讃岐うどん えん家</a> といううどん屋さんに入った。実は昨日のお昼もここで食べて連日でやってきた。昨日のうどんがおいしかったので、また別のメニューを頼んでみようと寄った次第。駐車場がないところだけが懸念点かな。</p><ul><li><a href=https://www.facebook.com/t2y1979/posts/pfbid02t3o3sax9xzLMcAc1Z1BwCrkoPs4Zk8sY9CSJKy9NFKhEth9bCyppTiGpwr2iXSxSl>写真と所感はここ</a></li></ul><h2 id=泉谷アーチダム>泉谷アーチダム</h2><p>うどんを食べてからだから15時前ぐらいかな？徳島県へ移動を始める。途中から雨も普通に降ってきて疲れた。雨振りだったのもあり、山道は怖く、ダム湖は汚れていた。私は高い所が苦手なのでダムの堤防の上から眺めるのも怖くて、苦労して行ったのにすぐに帰ってきてしまった。それが16時半ぐらい。</p><ul><li><a href=https://www.facebook.com/t2y1979/posts/pfbid0E6EGpneUSUuqzBrSjCtEg9UV72Hmrfoq1niWiwju6RgpUGd72TCWPTJMPGhvmE7kl>写真と所感はここ</a></li><li><a href=https://www.topics.or.jp/articles/-/352985>淡いエメラルドグリーン 美しい弧を描いた泉谷アーチダム（上板町）</a></li></ul><h2 id=閉館前の会館>閉館前の会館</h2><p>そのまま徳島市へたどり着き、たまたまみつけて <a href=https://www.awaodori-kaikan.jp/>阿波おどり会館</a> へ入ってみた。17時はまわっていたと思う。施設の展示などはもう終わっていて、1F のお土産屋さんだけが開いていた。軽く眺めてみて、あまりパッとしなくて印象に残らなかった。</p><h2 id=夜風呂>夜風呂</h2><p>夜はやることなくて暇だったのでそのままスーパー銭湯の <a href=http://aratae.jp/>あらたえの湯</a> へ向かった。営業は深夜1時まで。連続してスーパー銭湯へ行ったため、相対的に比較してしまって、朝のきららよりもあらたえの湯の方が格段によかった。施設も大きく、お風呂の種類もたくさんあって、休憩スペースも広い。一言で例えると、リンスインシャンプーしかないのとシャンプーとリンスは別々といった格の違いがすべてという感じ。値段は同じきららが700円、あらたえの湯が900円 (土日祝料金) だった。私なら200円多く払っても後者かな。</p><p>土曜日だったせいか、高校生ぐらいの若い人たちが集団で遊んでいた。電源席もあいていて、もともとそんな減ってなかったが、余裕をもって充電しながら作業をした。20時頃から休憩スペースで作業して、22時で高校生は帰りなさいとアナウンスが流れて、それからお風呂に入って0時半には料金を支払ってスーパー銭湯を出た。</p><h2 id=車中泊>車中泊</h2><p>連泊の車中泊。スーパー銭湯の駐車場にいても閉め出されることはなかったと思うけど、もしものときのためにすでに閉店しているドラッグストアの広い駐車場に移動してそこで寝てた。夜中雨が強くなってきて、車で寝ていると雨の音を聴きながら眠ることができる。私は眠るときに雨音とかもまったく気にならない。車中泊には部屋の中にいると忘れてしまうことを思い出させてくれるものがある。</p></div></div><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0909/>久しぶりの異文化懇親会</a></h1><div class=post-meta><span class=post-date>2023-09-09 (Sat.)</span></div><span class=post-tags>#<a href=/diary/tags/day-off/>day off</a>&nbsp;
#<a href=/diary/tags/biztrip/>biztrip</a>&nbsp;
#<a href=/diary/tags/event/>event</a>&nbsp;
#<a href=/diary/tags/issue-management/>issue management</a>&nbsp;
#<a href=/diary/tags/drinking/>drinking</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#実家>実家</a></li><li><a href=#オープンセミナー>オープンセミナー</a><ul><li><a href=#てらださんpythonの現状からデータ分析やllm活用への発展>てらださん：Pythonの現状からデータ分析やLLM活用への発展</a></li><li><a href=#npo法人nemtus松岡さん後藤さん-ブロックチェーン概要説明--symbolブロックチェーンの特徴活用事例紹介>NPO法人NEMTUS　松岡さん、後藤さん 「ブロックチェーン概要説明 ＆ Symbolブロックチェーンの特徴・活用事例紹介」</a></li><li><a href=#製造業-dx-を意識したときのiot-用-db-設計の注意点>製造業 dx を意識したときの、iot 用 db 設計の注意点</a></li><li><a href=#lt>LT</a></li><li><a href=#懇親会>懇親会</a></li><li><a href=#あと飲み>あと飲み</a></li></ul></li><li><a href=#車中泊>車中泊</a></li></ul></nav></div><div class=post-content><p>22時頃には戻ってきたそれから準備したらよいところを、だらだらしてうたた寝して気付いたら2時になっていた。もうこのまま寝て朝起きてから準備しようと3時50分にアラーム設定して起きた。それからお風呂入ってストレッチして荷造りして5時18分に三ノ宮を出発した。</p><h2 id=実家>実家</h2><p>6時21分に実家へ着いた。休憩せずに一気に帰ると約1時間ぐらい。先月ジモティーで譲ってもらっていた机とバランスチェアを実家へ持って帰った。朝ご飯を食べてからバランスチェアを組み立てる。ちょうど机と椅子がよい感じにリモートワーク可能な環境になった。</p><figure><img src=/diary/img/2023/0909_desk-char.jpg></figure><p>9時半頃まで実家でのんびり過ごして、言うても暇なので少し早めに香川県へ向けて出発した。</p><h2 id=オープンセミナー>オープンセミナー</h2><p>オープンセミナーとは、中四国地域で開催されている勉強会らしい。コロナ禍前はもっとたくさん開催されていたそうだが、いまは香川、広島、岡山といった地域で復活しているらしい。<a href=https://osk.connpass.com/event/292551/>オープンセミナー2023@香川</a> に参加した。高松市の高松港の真横にある <a href=https://www.e-topia-kagawa.jp/>eｰとぴあ・かがわ</a> という行政っぽいコミュニティ施設のイベントスペースを借りて開催された。実家から10分休憩を1度取った上で約1時間30分で着いた。実家から高松市まで1時間半とみておくとよさそう。</p><h3 id=てらださんpythonの現状からデータ分析やllm活用への発展>てらださん：Pythonの現状からデータ分析やLLM活用への発展</h3><p>てらださんの応援も兼ねて参加してみた。基調講演のような位置づけ。参加者の python 習熟度のレベルをみながら話す内容をあわせていた。</p><ol><li>あまり知らない</li><li>ちょっと知っている</li><li>がっつり使っている</li></ol><p>最初は python の用途や得意・不得意といった、入門的な話しから始めつつ、徐々に最近の話題へと展開していた。</p><p>python の用途</p><ul><li>システム系</li><li>web 系</li><li>データ分析や科学技術計算系</li><li>iot 系</li><li>3d グラフィックス</li></ul><p>苦手なこと</p><ul><li>web フロントエンド</li><li>デスクトップ gui アプリ開発</li><li>速度重視の低レイヤーの処理</li><li>趙大規模なミッションクリティカルな分野の処理</li></ul><p>python は年1リリース & 5年サポートになっている。</p><p>いまホットな話題として llm (large language model) がある。
私は chatgpt 以外のものはまったくわからないが、
oss で無料使えるツールや学習モデルがどんどん公開されているらしい。日本語に特化したものも出てきているみたい。</p><p>llm のツールチェーンを使って、任意のドキュメントに chatgpt のような質問で検索できるシステムの構築方法を紹介していた。
私が知らなかった技術として、インデクシングすると全文検索インデックスを作成する代わりにベクトル化をしてベクトル DB に保存する。
もっとも煩雑なところがドキュメントのベクトル化してベクトル DB に格納し、検索するときもクエリをベクトル化して、ベクトルの近似計算を行って検索結果を取得できる。
検索結果から回答の文章を生成するところを openai の api を使っているとのこと。有償なのでここだけお金がかかる。自前でやるには強力な gpu をもつマシンがないと処理が追いつかないといった話しだった気がする。
ai の学習モデルをホスティングするサービスとして <a href=https://huggingface.co/>Hugging Face</a> というものが有名らしい。
github ではなく、なにかしらモデルを管理するときに都合のよいことがあるみたい。
web ui には <a href=https://streamlit.io/>streamlit</a> を使っていた。私はまったく使ったことはないが、fin-py で紹介しているのを何度かみた感じでよいイメージをもっている。</p><h3 id=npo法人nemtus松岡さん後藤さん-ブロックチェーン概要説明--symbolブロックチェーンの特徴活用事例紹介>NPO法人NEMTUS　松岡さん、後藤さん 「ブロックチェーン概要説明 ＆ Symbolブロックチェーンの特徴・活用事例紹介」</h3><p>NEM を広めるための NPO 法人らしい。ブロックチェーンの技術説明のスライドがめちゃくちゃわかりやすく作られていた。2人で発表していて、前半は技術的な解説、後半は事例紹介となっていた。事例紹介であちこちで使われているのはわかるけれど、その大半はブロックチェーンを使わなくてもできるものばかりだった。ブロックチェーンの特性が活きるアプリケーションはグローバルな仮想通貨のような用途以外にみつかっていないという気がする。既存の web 技術でもできるものをブロックチェーンに置き換えても、効率の悪さ (コスト高) をどうやってカバーするのかを説明しないのは不誠実なようにも感じられた。せめてスマートコントラクトを絡めて話さないと伝わらないんじゃないかと思う。</p><h3 id=製造業-dx-を意識したときのiot-用-db-設計の注意点>製造業 dx を意識したときの、iot 用 db 設計の注意点</h3><p>会社名は公けに書かれていないから伏せておく。名前だけ聞くと、創業400年という、財閥系の JTC の会社の情シス部門のようなお仕事をされていた。工場の運用改善のために iot と社内システムをすべて内製/自前で構築しているという。工場から生データを収集し、それをデータベースに正規化して、分析して日々の業務の運用改善にあてるという、ストーリーは当たり前のもの。工場の売上は数千億円といった規模になるという。例えば4-5人のチームをアサインすると2000万円ほどの経費がかかるが、1000億円の0.1%を改善すれば1億円になるのでペイするという。そういった考え方で工場の運用改善をしているうちに、いまのチームは30人といった規模になったという。</p><p>事業会社で自分たちで技術を勉強してがんばっているようにみえる。発表のところどころの細かいところの認識が誤っていて、web のシニアエンジニアかアーキテクトがいれば、もっと効率のよいシステムを運用できるのになぁと思いながら聞いていた。あとで懇親会で詳しく聞いてみると、このチームは凄くてハードウェアまでカスタマイズできるという。基盤や回路まで自分たちで設計して作ったりもする。またメーカー品が自分たちの用途の機能を提供していなかったら、サポートを無視して勝手にメーカー品のハードウェアをカスタマイズして自分たちの用途にあったデータを取得できるようにカスタマイズしてしまうといったことも話していた。</p><p>ハードウェアの基盤開発から組み込みのプログラミング、データベース、web と1つのチームですべてやっているという。なかなかこれだけの技術スタックを1チームですべて一気通貫でやっているところはないと思う。web 技術のところではいくつかツッコミ所はあったんだけど、これだけの広い分野をみていると、それは些事だなとちょっと反省した。私が自分の得意な分野だけをみていい気になっていたような気持ちになって反省した。</p><p>懇親会で話していて、iot のシステムは基本的に安くて儲からないと話していて、しかし、ここに web システムを付けるだけで付加価値として売上の金額が上がるという。それは多くの iot メーカーは web に疎いため web システムを作れないらしい。ハードウェアと web の両方の技術に精通している会社/組織というのは意外に少ないらしく、iot + web が儲かるモデルとして話されていた。たしかに私は web に精通しているが iot はまったく分からないので納得感があった。</p><h3 id=lt>LT</h3><p>これが私のお仕事の部分だけど、会社としてイベントに登壇してきた。マーケティング活動の1つやね。</p><iframe class=speakerdeck-iframe frameborder=0 src=https://speakerdeck.com/player/dd65b3a94e5b4feeb73f780c9626cb0a title="Iintroduction of how big tech runs tech projects" allowfullscreen style="border:0;background:padding-box padding-box rgba(0,0,0,.1);margin:0;padding:0;border-radius:6px;box-shadow:rgba(0,0,0,.2)0 5px 40px;width:600px;height:auto;aspect-ratio:560/315" data-ratio=1.7777777777777777></iframe><h3 id=懇親会>懇親会</h3><p>17時から懇親会で21時過ぎまで飲んでいた。私は車で参加していたのでソフトドリンク。知らないイベントの懇親会で、あまりよく知らない人たちと技術の話題でわいわい盛り上がるのは久しぶりで楽しかった。昔の it 勉強会はこんな感じだったなとコロナ禍の終わりも実感した。</p><p>懇親会の参加者には組み込みやハードウェアに詳しい方が何人もいて、私のような web 系の方が少数派でちょっといつもとは違ったメンバーで聞く話しもとても新鮮味があった。iot やハードウェアの話しにさっぱり付いていけなかった。web 系の勉強会やイベントにしか行かないというのも、一種のエコーチェンバーだなと実感した。</p><h3 id=あと飲み>あと飲み</h3><p>21時過ぎから23時まで、てらださんと飲んでいた。てらださんは酔っ払ってどんどん呑むんだけど、酔い潰れるみたいな状態にはならなくて、余裕があるのかないのかよく分からないけど、呑むペースが速いなと感心していた。コミュニティの話し、教育の話し、経営の話し、政治の話し、わりといろんな話しをして時間でお開きにした。</p><h2 id=車中泊>車中泊</h2><p>その後、車を移動して、24時間空いているサウナで泊まろうと近くまで行ったものの、あまり外観の雰囲気がよくなくて、そのまま駐車場に車を泊めて車中泊にした。1時頃だったと思う。駐車場料金がホテル代のようなものになった。あとで調べたらアイドリングしたまま車中泊するのは、付近に家があると騒音がうるさいらしくマナー違反だという。歓楽街だったので周りは若者が遊んでいて、もともとうるさい場所だったと思うのでそれほど迷惑にはならなかったと思いたい。</p></div></div><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0908/>お休み前の勉強会</a></h1><div class=post-meta><span class=post-date>2023-09-08 (Fri.)</span></div><span class=post-tags>#<a href=/diary/tags/go/>go</a>&nbsp;
#<a href=/diary/tags/logging/>logging</a>&nbsp;
#<a href=/diary/tags/event/>event</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#slog-勉強会>slog 勉強会</a></li><li><a href=#lt-資料の推敲>LT 資料の推敲</a></li></ul></nav></div><div class=post-content><p>22時に寝て24時に起きて2時に起きて4時に起きて6時に起きた。晩ご飯食べてからオフィスに戻る元気がない。本当は明日の出張に備えて今晩、実家へ帰ろうと思っていたが、まったく準備ができていないので明日の早朝に帰ることにした。</p><h2 id=slog-勉強会>slog 勉強会</h2><p>チーム勉強会向けに、今日は軽い話題として slog のブログ記事をピックアップしてみた。この内容を deepl で翻訳して社内の wiki に書いてそれをメンバーと共有した。</p><ul><li><a href=https://go.dev/blog/slog>Structured Logging with slog</a></li></ul><p>うちのプロジェクトの logger はすべて slog に移行済みではあるが、一部 slog を使う前に実装したログ関数があって、そのカスタムログ関数の移行だけまだできていない。アプリケーションの振る舞いには影響を与えないし、急ぐ必要もないので先送りにしているだけ。次の開発フェーズでカスタムログ関数周りもすべて移行して slog で万全の状態にしたい。そのための予備知識として slog でこんなことができるという全体像は理解できた。とてもよい記事だったと思う。</p><h2 id=lt-資料の推敲>LT 資料の推敲</h2><p>先日 <a href=/diary/posts/2023/0903/#LT-資料の作成>LT 資料のたたき台</a> を作成した。いくらか寝かして週のどこかの空いている時間に推敲しようとずっと頭の中にはあったものの、現実にはさぼっていて前日に最終見直しをしている。でも、見直した方がよいところのアイディアは2-3個思いついてはいる。少し手直ししたら明日のイベントに備えて早めに寝る。</p></div></div><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0907/>組織やプロジェクト横断的なメトリクスの視覚化</a></h1><div class=post-meta><span class=post-date>2023-09-07 (Thu.)</span></div><span class=post-tags>#<a href=/diary/tags/ldap/>ldap</a>&nbsp;
#<a href=/diary/tags/go/>go</a>&nbsp;
#<a href=/diary/tags/issue-management/>issue management</a>&nbsp;
#<a href=/diary/tags/information-exchange/>information exchange</a>&nbsp;
#<a href=/diary/tags/visualization/>visualization</a>&nbsp;
#<a href=/diary/tags/event/>event</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#dirsync-周りのリファクタリング>dirsync 周りのリファクタリング</a></li><li><a href=#go-イベントのパネルディスカッション>go イベントのパネルディスカッション</a><ul><li><a href=#gonew-の提供>gonew の提供</a></li><li><a href=#derrors-の是非>derrors の是非</a></li><li><a href=#go-2-はもうリリースされない>go 2 はもうリリースされない</a></li></ul></li></ul></nav></div><div class=post-content><p>0時に寝て4時に起きてもう1回ぐらい起きて6時半に起きた。</p><p>もうすぐ期限がやってくる。私が担当している issue 対応はあらかた終わってメンバーに「大きいもので見落としある？」って尋ねて「ない」って返ってきたのでもうクローズに向けて調整していく感じ。今週末から月曜日と3日間お休みする (土日も含めて休むというのも変ではあるが) ので一安心。</p><h2 id=dirsync-周りのリファクタリング>dirsync 周りのリファクタリング</h2><p>ずっとレビューが放置されていた。おそらくいま go-ldap のプロジェクトで最も活発なメンテナーが夏休みだったのではないかと推測する。昨日帰ってきたようで怒涛のレビューをされていて、私が3週間前に送っていた pr もレビューしてくれた。</p><ul><li><a href=https://github.com/go-ldap/ldap/pull/458>Refactor DirSync search process #458</a></li></ul><p>概ね同意してくれて public な関数名をより適切な関数名に変えたところを、1度公開したものは互換性を維持するために deprecated のコメントをして残しておいてと言われたところだけ修正した。修正後、数時間ですぐにマージしてくれた。感謝。</p><p>go-ldap にいくつかコントリビュートした機能はうちのプロダクトのシステムに使われていて、それなりの qa テストをやった上で動いているので一定の品質は担保していると思う。<a href="https://github.com/go-ldap/ldap/graphs/contributors?from=2022-09-08&to=2023-09-07&type=c">直近1年間のコントリビューター</a> を参照すると、私は2番目に貢献しているようにみえる。こういう見える化が自分のモチベーションになるならそれはそれでよいと思う。</p><figure><img src=/diary/img/2023/0907_contributor.png></figure><p>組み込みの課題管理のプロダクトを作る上で、個人がみたいメトリクスを簡単に集計できるような機能を提供しようと考えている。それは自分が伸ばしたいスキルやプラクティスに対して、会社やプロダクトを横断的に計測できる仕組みがあるといいと私は考えている。とくにいまどきはプログラマーが転職するのは当たり前だが、転職したら前の会社でやっていたメトリクスがみれないとか、別の会社でのメトリクスと相対比較したいとか、そういうニーズはあるなと私自身が感じているからでもある。</p><h2 id=go-イベントのパネルディスカッション>go イベントのパネルディスカッション</h2><p><a href=https://mercari.connpass.com/event/294164/>mercari.go #23 Go1.21 パネルディスカッション オンライン開催</a> に参加した。視聴者が少なかったのか、youtube のコメント欄でちょくちょくツッコミもいれたら現場で拾ってくれておもしろかった。私が関心のあった話題を3つあげてみる。</p><h3 id=gonew-の提供>gonew の提供</h3><blockquote><p>For a long time now, we have heard from Go developers that getting started is often the hardest part.</p><p><a href=https://go.dev/blog/gonew>Experimenting with project templates</a></p></blockquote><p>go で新規プロジェクトを始めるときにテンプレートからプロジェクトのレイアウトを作ってくれるユーティリティとして gonew というツールが公式から提供されたらしい。知らんかった。私も新しいリポジトリ作るときに標準的なものはファイルを基本コピペしているのでこういうのできれいに作れると嬉しいかもしれない。
￼</p><h3 id=derrors-の是非>derrors の是非</h3><p><a href=https://github.com/golang/pkgsite>pkgsite</a> という pkg.go.dev というサイトのリポジトリの internal として実装されている derrors というパッケージがある。defer を使って必ず関数がエラーを返すときに wrap するという、ユニークな発想で実装されたツール。明示的なコードを書くという go の文化とはあわない気はするけど、ユニークな使い方ではあるのでおもしろい。</p><ul><li><a href=https://github.com/golang/pkgsite/blob/master/internal/derrors/derrors.go>https://github.com/golang/pkgsite/blob/master/internal/derrors/derrors.go</a></li></ul><p>この延長でエラーが発生したときにレポートを生成する derrors のユーティリティもあったりする。google がやっていることだから、わりと開発者間でもこれと同じものを自前で実装する開発者が増えているといった話しも聞く。</p><h3 id=go-2-はもうリリースされない>go 2 はもうリリースされない</h3><blockquote><p>The answer is never. Go 2, in the sense of breaking with the past and no longer compiling old programs, is never going to happen. Go 2 in the sense of being the major revision of Go 1 we started toward in 2017 has already happened.</p><p><a href=https://go.dev/blog/compat>Backward Compatibility, Go 1.21, and Go 2</a></p></blockquote><p>これまでの go の言語処理系の開発の中で非互換な変更について「go 2 で」とプロポーザルだったり、issue の議論で先送りされてきた。最近コア開発者の Russ Cox 氏が (現時点で) go 2 はもう出ないと宣言した。go は既存のプログラムをコンパイルできない状態で新しいバージョンを出すことはしない。この背景の1つとして、誰もがジェネリクスの導入で go の互換性は崩れると思っていたものが互換性を維持して導入できたことが大きいと思う。(現時点で) go 2 はもうリリースされないらしい。</p></div></div><div class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0906/>openldap サーバーのデバッグ</a></h1><div class=post-meta><span class=post-date>2023-09-06 (Wed.)</span></div><span class=post-tags>#<a href=/diary/tags/ldap/>ldap</a>&nbsp;
#<a href=/diary/tags/debug/>debug</a>&nbsp;
#<a href=/diary/tags/testing/>testing</a>&nbsp;</span><div class=table-of-contents><h2>目次</h2><nav id=TableOfContents><ul><li><a href=#openldap-25-の-ldappasswd-の振る舞い>openldap 2.5 の ldappasswd の振る舞い</a></li></ul></nav></div><div class=post-content><p>1時に寝て3時に起きて5時に起きて6時半に起きた。あとひと踏ん張りなのでこのまま突っ切る。</p><h2 id=openldap-25-の-ldappasswd-の振る舞い>openldap 2.5 の ldappasswd の振る舞い</h2><p>openldap サーバーでパスワードを変更時の平文パスワードを連携するために <a href=/diary/posts/2023/0525/#カスタム-overlay-モジュールの改修>カスタム overlay モジュール</a> を使っている。前回の改修をしたときは openldap 2.4 向けのみの振る舞いを検証していた。今回は開発フェーズでは openldap 2.5 向けにもモジュールをビルドしてパッケージングしていた。その qa テストをしていて ldappasswd だけ、意図したパスワード連携が行われないという。</p><p>開発時に私が振る舞いを検証したつもりが ldapadd, ldapmodify は確認済みだったが、ldappasswd の確認をしていなかった。これは完全に私のミスで2つのフックポイントに対してカスタム overlay モジュールが動くのだから ldappasswd も大丈夫だろうと見通していた。しかし、そうではなかった。それぞれにフックポイントのコールバック設定があって、フックポイントもロジックが違うのだから当然ではあるのだけど、ちゃんと動作検証をしないといけないという、初歩的なミスをした。こんなこともあるんやと反省した。</p><p>gdb でデバッグしていて原因は 2.5.3 に含まれる次の修正だとわかった。私が検証していた openldap サーバーのバージョンは 2.5.14 だった。</p><ul><li><a href="https://bugs.openldap.org/show_bug.cgi?id=8698">Issue 8698 - ppolicy: responses from pwdCheckModule discarded when using an extended password modify</a></li><li><a href=https://git.openldap.org/openldap/openldap/-/merge_requests/304/diffs>ITS#8698 Propagate policy checker message through even if using PW Extop</a></li></ul><p>簡潔に言えば、なんらかの不具合対応でもともと設定してあるコールバックを別のものに上書きしていた。カスタム overlay モジュールが設定したコールバックが別のものに上書きされてしまって意図した振る舞いをしないという現象が起きていた。これは明らかに openldap のリグレッションなので 2.5.15 で修正されてた。</p><ul><li><a href="https://bugs.openldap.org/show_bug.cgi?id=9990">Issue 9990 - Part of the ITS#8698 fix breaks exop overlays that set a callback</a></li></ul><p>たまたまピンポイントにバグを踏んだ形にはなったが、qa テストという別の人がテストをする仕組みでこのバグを検出できたことがうちの開発の品質基準を担保していることの表れでもある。</p><blockquote><p>生きるということは嬉しいこと半分、辛いこと半分なのですよ。 采王</p></blockquote></div></div><div class=pagination><div class=pagination__buttons><a href=/diary/page/14/ class="button previous"><span class=button__icon>←</span>
<span class=button__text>最近の日記</span>
</a><a href=/diary/page/16/ class="button next"><span class=button__text>過去の日記</span>
<span class=button__icon>→</span></a></div></div></div></div><footer class=footer><div class=footer__inner><div class="copyright copyright--user"><span>© 2021 Tetsuya Morimoto</span>
<span>:: <a href=https://github.com/panr/hugo-theme-terminal target=_blank>Theme</a> made by <a href=https://github.com/panr target=_blank>panr</a></span></div></div></footer><script type=text/javascript src=/diary/bundle.min.js></script></div></body></html>