---
title: "クロスデフォルト"
date: "2021-12-07T08:14:52+09:00"
dates: [2021/12]
cover: ""
tags: [economy, java, logging]
showFullContent: true
---

0時に寝て6時半に起きた。5時台には起きているんだけど、起き上がるところまではなかなかいけない。

## 恒大集団のデフォルト

11月から利払の期日の日はチェックしていて、支払うときは2-3日前には支払いを完了したというニュースが出ていたように思う。今日の支払いは前日に支払いしたというニュースが出ないからダメなんだろうなと様子をみていた。

* [中国恒大、猶予期間終了までにオフショア債利払いできず＝関係筋](https://jp.reuters.com/article/evergrande-idJPKBN2IM0F0)

1つの債務がデフォルトした場合、残りの債務も一括返済しないといけないことを [クロスデフォルト](https://www.ifinance.ne.jp/glossary/loan/loa259.html) と呼ぶらしい。契約書にクロスデフォルト条項として書いてあるらしい。記事によると、クロスデフォルトによって約190億ドル (約2.1兆円) のオフショア債の返済を一括でしないといけないらしい。リーマンショックのようなことは起きないという見通しだけど、うちみたいな零細企業は世の中の影響を諸に受けるのでお仕事に影響がでなければいいなぁといったところ。

## アプリケーションログの調査

昨日の続き。ecs-logging-java で JSON Lines でログを制御するところで spring-boot の設定で tomcat のアクセスログの設定ができる。tomcat のアクセスログを log4j のレイアウトの仕組みを使って ecs-logging-java が提供する EcsLayout に変更できないかを3時間ほど調査して、どうもできないようだというのを教えてもらった。tomcat は apache のログを出力するという目的で実装されているから log4j の柔軟なログに対応していないという理屈。

じゃあ、どうやって apache のアクセスログを JSON Lines にするかというと、PatternLayout のパターンに json のフォーマットを直書きしてしまうというやり方がある。なんかプログラミングでスマートに解決したいところだけど、その仕組みがないなら仕方ないかって感じでこれでやろうと思う。

* [apacheのaccess_logをjson化しtd-agentで集約サーバへ収集する](https://ogugu.hateblo.jp/entry/2018/08/03/153930)
