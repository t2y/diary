---
title: "カスタム GitHub Actions のサンプルを作ってみた"
date: "2021-11-16T07:00:17+09:00"
dates: [2021/11]
cover: ""
tags: [github]
showFullContent: true
---

23時半に寝て5時半に起きた。昨夜は夜にウォーキングに出掛けようと思いつつ、22時頃に1時間ほど寝てしまった。それで出掛けるのが面倒になってそのまま寝てた。早く寝た分、早く起きた。せっかく早起きしたのでドラクエタクトのデイリーミッションやって、それから起きて7時ぐらいにはオフィスに着いてたと思う。

## カスタム GitHub Actions 作成

GitHub Docs の [アクションの作成](https://docs.github.com/ja/actions/creating-actions) をみながらサンプルを作ってみた。カスタムアクションは3つの作成方法がある。

* docker コンテナを使ったアクション
* javascript を使ったアクション
* シェルスクリプトなどを使ったアクション (composite アクション)

たぶんランタイムに何を使うかでアクションの作り方が異なるようにみえる。最後の composite アクションは呼び出される環境で動くことを想定しているのかな？サンプルには bash 上で動くものを紹介していた。ほとんどチュートリアルの内容そのままんだけど、動かして雰囲気を掴むために自分で composite アクションを作ってみた。単一のリポジトリに閉じたものなら通常のワークフローの設定に書けばいいけど、複数のリポジトリで同じ処理をしたい場合は composite アクションとして再利用できるようにするとよさそう。

* https://github.com/t2y/gh-actions-sample
