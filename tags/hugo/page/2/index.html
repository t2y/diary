<!doctype html><html lang=en><head><title>hugo :: forest nook</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=/diary/tags/hugo/><link rel=stylesheet href=/diary/styles.css><link rel=stylesheet href=/diary/style.css><link rel="shortcut icon" href=/diary/favicon.ico><meta name=twitter:card content="summary"><meta name=twitter:site content="t2y"><meta name=twitter:creator content><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:title" content="hugo"><meta property="og:description" content><meta property="og:url" content="/diary/tags/hugo/"><meta property="og:site_name" content="forest nook"><meta property="og:image" content="/diary/favicon.ico"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><link href=/diary/tags/hugo/index.xml rel=alternate type=application/rss+xml title="forest nook"></head><body class=green><div class="container full headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=/diary><div class=logo>forest nook</div></a></div><ul class="menu menu--mobile"><li class=menu__trigger>Menu&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=/diary/about>自己紹介</a></li><li><a href=/diary/dates>月別一覧</a></li><li><a href=/diary/tags>タグ一覧</a></li></ul></li></ul></div><nav class=navigation-menu><ul class="navigation-menu__inner menu--desktop"><li><a href=/diary/about>自己紹介</a></li><li><a href=/diary/dates>月別一覧</a></li><li><a href=/diary/tags>タグ一覧</a></li></ul></nav></header><div class=content><div class=posts><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/1120/>生活リズムが崩れた月曜日</a></h1><div class=post-meta><time class=post-date>2023-11-20 (Mon.) ::</time></div><span class=post-tags>#<a href=/diary/tags/animation/>animation</a>&nbsp;
#<a href=/diary/tags/economy/>economy</a>&nbsp;
#<a href=/diary/tags/go/>go</a>&nbsp;
#<a href=/diary/tags/ldap/>ldap</a>&nbsp;
#<a href=/diary/tags/hugo/>hugo</a>&nbsp;</span><div class=post-content><p>1時に寝て2時半に起きて5時に起きて7時に起きた。朝から昼過ぎまで寝てたのでトータルでは睡眠時間をたくさん取っているのになんか疲れている。生活のリズムを崩すのがよくないのかも。</p><h2 id=ガンダムに学ぶ経営学>ガンダムに学ぶ経営学</h2><p>教えてもらって寝る前にみたらおもしろかった。入山先生がガンダム大好きなことが伝わってくる。おもしろいのはそうだけど、まじレスすると、アニメの世界の組織や経済に学ぶというのは誤りで、当時の組織や経済のリアルを参考にして、ガンダムの世界観は作られていると推測する。だから入山先生はユーモアで盛り上げているのだと思うけれど、ガンダムから学ぶのではなく歴史から学べが正解だと思う。でも、ガンダムの世界観を知るよい番組だと思う。</p><div class=video-container><iframe src=https://www.youtube.com/embed/w7Hhimmu26c allowfullscreen title="ガンダムに学ぶ経営学 【まとめ】【テレ東経済ニュースアカデミー　GWセレクション３】"></iframe></div><h2 id=go-ldap-へのプルリクエスト>go-ldap へのプルリクエスト</h2><p>2週間ほど前に送った pr がまだレビューすらしてもらえていない。github actions のテストがいくつか落ちていて、この pr の修正によるものではないところでエラーになっている。メンテナーの1人が再実行してくれたんだけど、たくさんあるマトリックステストのどこかが落ちてまた再実行しないといけない。</p><ul><li><a href=https://github.com/go-ldap/ldap/pull/471>IsErrorAnyOf should match the given result code even if the error is wrapped #471</a></li></ul><p>それを待っている間に、テストがエラーになる本当の原因の問題を直そうと2-3日前に issue 登録していた。この issue の対応を本当は昨日やろうと思っていたのに、思いの外、寝てしまって、その後もいろいろ書きものをしていて時間を使ってしまってできていなかった。今朝からそれを片付けた。業務の一環なので日曜日にプルリクエストを送らなくてもよいのだけど、コントリビューションなので空き時間に終わらせて、業務の時間は別のことに使いたいという思いもあったりする。</p><ul><li><a href=https://github.com/go-ldap/ldap/pull/473>Fix DATA RACE as a result of changing ber&rsquo;s module global variable for fuzz tests #473</a></li></ul><p>さらに github actions のログに deprecated ワーニングが出ていたのでついでにそれも直した。</p><ul><li><a href=https://github.com/go-ldap/ldap/pull/474>Fix deprecated warning on GitHub Actions #474</a></li></ul><p>473, 474, 471 の順番にマージされていくのが望ましい。そろそろコミット権をくれたりしないかな？と思ったりもする。というのは、タイミングの問題で action の job が落ちたり、バージョン上げるだけの pr とか、自分でマージしてしまえばいいと思ったりする。</p><h2 id=hugo-で書いた記事に目次を生成する>hugo で書いた記事に目次を生成する</h2><p>お手伝い先のテックブログは hugo で運用されている。記事の目次がないなと気付いて追加してみた。hugo v0.60.0 以降のバージョンなら標準で目次生成の機能をもっている。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#f92672>aside</span>&gt;
</span></span><span style=display:flex><span>  {{ .TableOfContents }}
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>aside</span>&gt;
</span></span></code></pre></div><ul><li><a href=https://gohugo.io/content-management/toc/>Table of contents</a></li></ul><p>デフォルトはヘッダー2レベルより下の目次を生成する。レベル1も生成したい場合は config.toml に次の設定を追加する。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span>[<span style=color:#a6e22e>markup</span>]
</span></span><span style=display:flex><span>  [<span style=color:#a6e22e>markup</span>.<span style=color:#a6e22e>tableOfContents</span>]
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>startLevel</span> = <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>endLevel</span> = <span style=color:#ae81ff>3</span>
</span></span></code></pre></div></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0101/>ジャンプスターター使ってみた</a></h1><div class=post-meta><time class=post-date>2023-01-01 (Sun.) ::</time></div><span class=post-tags>#<a href=/diary/tags/hugo/>hugo</a>&nbsp;
#<a href=/diary/tags/device/>device</a>&nbsp;
#<a href=/diary/tags/life/>life</a>&nbsp;
#<a href=/diary/tags/day-off/>day off</a>&nbsp;</span><div class=post-content><p>1時に寝て7時半に起きた。なんともなく新年あけた。朝ご飯食べて孤独のグルメをみながら宅急便が届くのを待った。</p><h2 id=hugo-のスタイル修正>hugo のスタイル修正</h2><p>日付に曜日を付けるように変更した。タグから過去の日記をみたときに曜日があると役に立つときがたまにある。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;span</span> <span style=color:#a6e22e>class=</span><span style=color:#e6db74>&#34;post-date&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>  {{ .Date.Format &#34;2006-01-02 (Mon.)&#34; }}
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/span&gt;</span>
</span></span></code></pre></div><p>テーマの <a href=https://github.com/panr/hugo-theme-terminal>terminal</a> のバージョンをあげたらビルドに失敗するようになった。<code>extended</code> をインストールしないと scss/sass 周りのビルドに失敗するらしい。github actions の hugo セットアップの設定も変更した。</p><ul><li><a href=https://gohugo.io/troubleshooting/faq/#i-get-this-feature-is-not-available-in-your-current-hugo-version>https://gohugo.io/troubleshooting/faq/#i-get-this-feature-is-not-available-in-your-current-hugo-version</a></li></ul><h2 id=ジャンプスターター>ジャンプスターター</h2><p>年末に注文したジャンプスターターが届いた。実家の軽トラのバッテリーがあがってしまいエンジンをかけられないという。いつもはディーラーさんに来てもらってバッテリー交換なり他の車と接続してエンジンをかけるなりをやってもらっていた。たまたまテレビをみていたら雪国での役立つツールとしてジャンプスターターと呼ばれるものがあることを知った。スマートデバイスなどの予備バッテリーの形状で車のバッテリーに接続してエンジンをかけられるらしい。さっそく amazon で検索してベストセラーのタグがついている「PHILIPS フィリップス ジャンプスターター 12000mAh大容量 ピーク電流800A 12V車用 エンジンスターター」を購入した。うちの軽トラでも試してみたら問題なくエンジンが始動した。車のバッテリーが弱っている場合、boost ボタンを押してブーストモードで接続しないといけないようだ。boost ボタンを押すのがわかって接続・設定したらエンジンがすぐに始動した。うちみたいな小さい兼業農家でたまに軽トラを使うといった家でも携帯バッテリーは充電がすぐできて、保管も場所取らずでとても便利。これはよい買いものだと思えた。</p><p><a href="https://www.amazon.co.jp/gp/product/B091Y9Y22G?ie=UTF8&psc=1&linkCode=li2&tag=t2y-diary-22&linkId=b31c3d97937c844d911bb79486599b0c&language=ja_JP&ref_=as_li_ss_il" target=_blank><img border=0 src="//ws-fe.amazon-adsystem.com/widgets/q?_encoding=UTF8&ASIN=B091Y9Y22G&Format=_SL160_&ID=AsinImage&MarketPlace=JP&ServiceVersion=20070822&WS=1&tag=t2y-diary-22&language=ja_JP"></a><img src="https://ir-jp.amazon-adsystem.com/e/ir?t=t2y-diary-22&language=ja_JP&l=li2&o=9&a=B091Y9Y22G" width=1 height=1 border=0 alt style=border:none!important;margin:0!important></p><h2 id=温泉>温泉</h2><p>実家近くの <a href=http://awajiinfo.com/uzusio-onsen/>うずしお温泉</a> を提供している <a href=https://xn--y8jwbo3jva.com/>ゆとりっく</a> に行く。私にとっては銭湯へ行く感覚で実家に帰ったとき1回は行く。いつも通り温泉に浸かってそれから三ノ宮へ戻ることにした。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2021/1010/>86―エイティシックス―</a></h1><div class=post-meta><time class=post-date>2021-10-10 (Sun.) ::</time></div><span class=post-tags>#<a href=/diary/tags/life/>life</a>&nbsp;
#<a href=/diary/tags/hugo/>hugo</a>&nbsp;</span><div class=post-content><p>2時に寝て7時に起きる。昨日 <a href=https://anime-86.com/>86―エイティシックス―</a> の第2クールの初回をみた。起きてから第1クールの後半の内容を見返したりしてた。内容がすごくおもしろいというわけではないんだけど、作品の世界観と音楽がよい。というか、<a href=https://www.sawanohiroyuki.com/>澤野弘之</a> 氏のファンなので彼が音楽を手がける作品はみてしまう。第1クールの音楽も素晴らしかった。音楽がよいと映画やアニメのシーンが盛り上がるし、音楽だけを聞いているときにもそのシーンのイメージが想起されて音楽そのものにも深みが出るような気がする。</p><h2 id=terminal-のカスタマイズ>Terminal のカスタマイズ</h2><p>月別一覧のページを作成した。Hugo には <a href=https://gohugo.io/content-management/taxonomies/>Taxonomies</a> という仕組みがあって、任意のラベルでカテゴライズできる。デフォルトでは <code>categories</code> と <code>tags</code> が提供されている。設定ファイルに <code>dates</code> というカスタム Taxonomies を定義する。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span>[<span style=color:#a6e22e>taxonomies</span>]
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>date</span> = <span style=color:#e6db74>&#34;dates&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>tag</span> = <span style=color:#e6db74>&#34;tags&#34;</span>
</span></span></code></pre></div><p>コンテンツのメタデータには次のように年月のラベルを付与する。</p><pre tabindex=0><code>dates: [2021/10]
</code></pre><p>これは <code>hugo new</code> したときに自動生成されるので自分で明示的に設定する必要はない。</p><pre tabindex=0><code>dates: [{{ dateFormat &#34;2006/01&#34; .Date }}]
</code></pre><p>ラベル名に <code>/</code> を含めると自動的に月ごとのサブディレクトリになってくれるので月別のアーカイブを生成するのに都合がよい。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ tree -L <span style=color:#ae81ff>3</span> public/dates/
</span></span><span style=display:flex><span>public/dates/
</span></span><span style=display:flex><span>├── <span style=color:#ae81ff>2021</span>
</span></span><span style=display:flex><span>│   ├── <span style=color:#ae81ff>09</span>
</span></span><span style=display:flex><span>│   │   ├── index.html
</span></span><span style=display:flex><span>│   │   ├── index.xml
</span></span><span style=display:flex><span>│   │   └── page
</span></span><span style=display:flex><span>│   └── <span style=color:#ae81ff>10</span>
</span></span><span style=display:flex><span>│       ├── index.html
</span></span><span style=display:flex><span>│       ├── index.xml
</span></span><span style=display:flex><span>│       └── page
</span></span></code></pre></div><p>タグ一覧とは異なり、年単位・月単位にまとめて一覧表示するためにテンプレートをカスタマイズする。<a href=https://gohugo.io/templates/taxonomy-templates/>Taxonomy Templates</a> は <code>terms.html</code> によって提供されている。Terminal が提供しているこのテンプレートをカスタマイズすることで月別一覧を次のような表示になるようカスタマイズした。</p><figure><img src=/diary/img/2021/1010_dates.png></figure><p>実際の修正内容は次になる。</p><ul><li><a href=https://github.com/t2y/diary/commit/783d9685ae3698b85e428bce178bdd9ebe2c3dca>https://github.com/t2y/diary/commit/783d9685ae3698b85e428bce178bdd9ebe2c3dca</a></li></ul></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2021/1009/>職質された</a></h1><div class=post-meta><time class=post-date>2021-10-09 (Sat.) ::</time></div><span class=post-tags>#<a href=/diary/tags/life/>life</a>&nbsp;
#<a href=/diary/tags/hugo/>hugo</a>&nbsp;
#<a href=/diary/tags/book/>book</a>&nbsp;</span><div class=post-content><p>0時に寝て6時に起きる。昨日も田んぼ仕事の疲れが残っていたのでよく眠れた。1週間で6時頃に起きる癖がついたのですぐに起きれた。</p><h2 id=terminal-のカスタマイズ>Terminal のカスタマイズ</h2><p>昨日からいくつか修正をしていた。</p><ul><li>画像のパス問題の修正</li><li>favicon の追加</li><li>タグ一覧リンクの追加</li><li>atom フィードに icon 要素の追加 (feedly では読み取れない)</li></ul><p>atom フィードに favicon を指す要素を埋め込んでみたんだけど、feedly ではダメっぽい。たまたまヒットした GitHub issue でもそういったコメントをみかけた。</p><ul><li><a href=https://github.com/huginn/huginn/issues/1628#issuecomment-882103625>https://github.com/huginn/huginn/issues/1628#issuecomment-882103625</a></li></ul><h2 id=ストレッチ>ストレッチ</h2><p>毎週土曜日はストレッチの日。田んぼ仕事のおかげで全身軽い筋肉痛になっている。ストレッチを受けると、いつものときとの違いから、股関節から右ももと腕の筋肉がすごく張っているのに気付く。田んぼのような突発的に体を動かして疲労が溜まったときにもストレッチでほぐせるのがよい。今日の開脚幅は開始前169cmで、ストレッチ後170cmかな。前より少し落ちたのは田んぼ仕事に疲れて平日にあまりストレッチが出来なかったのと筋肉痛のせいかもしれない。</p><h2 id=joel-on-software>Joel on Software</h2><p>本当は実家に帰っているときに書き上げようと考えていたものの、田んぼ作業での疲れと実家のパソコンを使って作業する環境の悪さから書くことに集中できなくなって断念していた。集中できる環境なら3時間ほどで書けた。動機づけよりも価値観、価値観がブレないならその次は集中できる環境作りにこだわっていきたい。</p><ul><li><a href=https://t2y.hatenablog.jp/entry/2021/10/09/162618>https://t2y.hatenablog.jp/entry/2021/10/09/162618</a></li></ul><h2 id=職務質問>職務質問</h2><p>買いものして帰ろうとしてたら警察官に止められて職務質問をうけた。自転車の盗難が多いので防犯登録を調べたいとのこと。はいはいって感じで免許証を提示する。自転車は東京で購入したもので10年以上乗っている。防犯登録は警視庁になっているらしく、兵庫県警の警察官では調べられないみたい。次に車体番号も読み取って調べていたけど、よくわからなかったみたい。結局、私が本物の持ち主とその場で調べることができなくて、警察官もたぶん本物だと思いますみたいな歯切れの悪い結果で職務質問を終えた。仮にその自転車が盗難にあってもその防犯登録から私を辿ることはできないので近所の自転車屋さんで防犯登録入り直してくださいと言われた。あー、またこの件か。都道府県の防犯登録のシステムが全国で統合されていればいい話しなのに、なんで引っ越したら防犯登録をやり直さないとあかんねんと。現場の警察官に言っても仕方ないので何も言わないことにした。</p><h2 id=プロコン>プロコン</h2><p>たまたまタイムラインでみかけてちょっと眺めてた。動画で同じ内容をみて、ハラスメントを問題視する人と、プロダクトの新規性について言及する人がいて、感じ方は人それぞれだなぁと思いながら <a href="https://twitter.com/search?q=%23procon32&src=typed_query&f=top">ハッシュタグ</a> を眺めてた。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2021/1002/>テーマスタイルのカスタマイズ</a></h1><div class=post-meta><time class=post-date>2021-10-02 (Sat.) ::</time></div><span class=post-tags>#<a href=/diary/tags/life/>life</a>&nbsp;
#<a href=/diary/tags/hugo/>hugo</a>&nbsp;</span><div class=post-content><p>昨日の夜は早めに仕事を終えて <a href=https://opt.connpass.com/event/222709/>第一回関数型プログラミング（仮）の会</a> の、やましたさんとみずしまさんの発表の2つだけ聞いて、疲れてそのまま帰ってゆっくりしてた。ドラクエタクトの新しいイベントやってたかな。あと今秋初めて買った梨を食べてた。たぶん0時ぐらいには寝て8時ぐらいに起きた。</p><p><a href=https://www.ytv.co.jp/asapara/>あさパラS</a> は総裁選の振り返りや役員人事の解説やっててほむほむと見てた。河野さんが官僚に嫌われる要因の1つとしてちょっと前にパワハラ音声が流出してたけど、言葉遣いがきついのに加え、正論をきつく言うから官僚の逃げ道をなくして追い詰めてしまうといったことが話されてた。心理的安全性の文脈で、お互いに信頼関係が築けた上で厳しいことを指摘するのは構わない (言い方は配慮すべき) が、そうじゃないと相手を追い詰めてしまう。過去に私も不誠実な相手に対して正論を言って追い詰めがちだったのでいまは反省している。目的は課題を解決することであって、相手を追い詰めても目的を果たせないということがようやく経験から理解できるようになってきた。</p><h2 id=ストレッチ>ストレッチ</h2><p>毎週土曜日は <a href=https://doctorstretch.com/>Dr.stretch</a> さんでストレッチしてる。開脚の幅が目標 (メトリクス) になっていて毎週測っている。目標は自分の身長と同じぐらいということで178cm。ストレッチの開始前に測って、ストレッチを受けてから再計測する。今日は開始前169cm、ストレッチ後171cmと初めて170cmの大台に到達した。このままうまくいけば、あと3-6ヶ月ぐらいあれば目標の身長と同じぐらいの開脚幅になるかもしれない。家でも毎日ではないけど、2日に1回ぐらいのペースでストレッチをするのが習慣になりつつある。いまジョギングをすると腰に負担がくるんやけど、トレーナーさんが言うには、開脚幅が広がると股関節の可動域があがって腰の負担も減るという。本来、腰の筋肉は動かない方の筋肉だが、股関節の可動域が小さいとそれを補うために腰の筋肉が動いてしまい、その結果として腰に負担がかかる。なので、股関節が本来の意図した動きをしていれば、自然に腰の負担も下がるという理屈らしい。</p><h2 id=価値観を育てる>価値観を育てる</h2><p>あんちぽさんのスライドを眺めて共感してた。日記を書き始めたのも <a href=https://kentarokuribayashi.com/>あんちぽさんの日記</a> を読んでて、毎日やっていることを「書くこと」は何かしら意味や意義があるんじゃないかと思うようになったから。</p><iframe class=speakerdeck-iframe frameborder=0 src=https://speakerdeck.com/player/422f05833bc64c1a978c1ba92020a249 title="自分の人生を生きる - 遊びで生きて価値観を育てよう / Live Your Own Life - Live for Fun and Develop Your Values" allowfullscreen mozallowfullscreen=true webkitallowfullscreen=true style="border:0;background:padding-box padding-box rgba(0,0,0,.1);margin:0;padding:0;border-radius:6px;box-shadow:rgba(0,0,0,.2)0 5px 40px;width:560px;height:314px"></iframe><p>歳を経て難しく感じるようになったことの1つに <strong>動機づけ (モチベーションコントロール)</strong> がある。</p><p>私は基本的に忙しいという言葉を使わない。やらないといけないことの何かが進捗していないとき、それは「やる気がない」と受け止めている。もちろん相手がいるときにやる気がないとそのまま表現すると横柄だったり失礼だったりすることもあるので余裕がないと答える場合もある。しかし、本質的にはやる気がないが正しい。もう少し補足すると、いまやっていることの方が自分にとって優先度が高く (やる気があり)、それ以外の別のことを先送りしているだけだと捉えている。もし別のことにやる気があるならば、いまやっていることを後回しにすればいいだけだからだ。</p><p>ここで、何をやってもいいとしたら、何をやりたいかという課題が出てくる。適当にあれこれやってみても、実際にやってみるとうまくいかなくて、やる気が持続しなかったりすることがある。多くのケースで、若い頃ほどなにかに夢中になってやっていた経験が誰しもあると思うが、あのときはなぜそんなに夢中になってできたのか。いま思い返しながら、自分にとっての動機づけの源泉を探るようなことをしていかないとわからないのだ。まったく自分のことなのに。2021年に入ってからそういったことを考え続けていたところ、このスライドを眺めてたら動機よりも価値観なんだよと書いてあって、私がこの9ヶ月間、掘り返し続けてた動機づけの源泉=価値観という考え方はしっくりきて、価値観がブレると動機づけもうまくいかないなと思えた。</p><h2 id=hugoterminalのカスタマイズ>Hugo/Terminalのカスタマイズ</h2><p>Speaker Deck のスライドの埋め込みができなくて調べた。<a href=https://chizuchizu.com/blog/tag_hugo/>HUGOで埋め込みができない時の対処法</a> によると、<code>config.toml</code> に次の設定を追加すると表示された。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span>[<span style=color:#a6e22e>markup</span>]
</span></span><span style=display:flex><span>  [<span style=color:#a6e22e>markup</span>.<span style=color:#a6e22e>goldmark</span>]
</span></span><span style=display:flex><span>    [<span style=color:#a6e22e>markup</span>.<span style=color:#a6e22e>goldmark</span>.<span style=color:#a6e22e>renderer</span>]
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>unsafe</span> = <span style=color:#66d9ef>true</span>
</span></span></code></pre></div><p>Terminal のテーマだと本文と引用の違いわかりにくかったのでスタイルを変えてみた。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span><span style=color:#f92672>blockquote</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>background</span>: <span style=color:#ae81ff>#eafff4</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>color</span>: <span style=color:#ae81ff>#2d3330</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>font-style</span>: <span style=color:#66d9ef>italic</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li><p>変更前</p><figure><img src=/diary/img/2021/1002_blockquote-before.png></figure></li><li><p>変更後</p><figure><img src=/diary/img/2021/1002_blockquote-after.png></figure></li></ul><p>日付の表記を少し大きくして目立つようにした。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span>.<span style=color:#a6e22e>post-date</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>font-weight</span>: <span style=color:#66d9ef>bold</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>font-size</span>: <span style=color:#ae81ff>1.3</span><span style=color:#66d9ef>rem</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2021/1001/>インボイス制度への準備</a></h1><div class=post-meta><time class=post-date>2021-10-01 (Fri.) ::</time></div><span class=post-tags>#<a href=/diary/tags/tax/>tax</a>&nbsp;
#<a href=/diary/tags/hugo/>hugo</a>&nbsp;
#<a href=/diary/tags/book/>book</a>&nbsp;
#<a href=/diary/tags/gig/>gig</a>&nbsp;</span><div class=post-content><p>夜はドラクエタクトやってて2時過ぎに寝て7時に起きた。気のせいか、日記を書くようになってから早く寝付けるようになった。まつのさんが twitter で久しぶりに Python 書いたとツィートしていて、何気なくふと <a href=https://github.com/line/line-bot-sdk-python/pull/340>Implement experimental asyncio support #101 #340</a> をみて、そのツールの関係者でもないのに勝手にクソリプ的なレビューコメントをした。気付いてしまったらみなかった振りするのも気持ち悪いので。</p><h2 id=インボイス制度の準備>インボイス制度の準備</h2><p>2023年10月1日から <a href=https://www.nta.go.jp/taxes/shiraberu/zeimokubetsu/shohi/keigenzeiritsu/index.htm>消費税の軽減税率制度・適格請求書等保存方式（いわゆるインボイス制度）</a> が開始される。開始される前に適格請求書発行事業者に登録しておく必要があり、その登録受付が今日から開始された。前に知人が教えてもらった解説動画を見返した。</p><div class=video-container><iframe src=https://www.youtube.com/embed/E0lOsLfj1T0 allowfullscreen title=消費税インボイス方式対策として今からやっておくべき３つのことをお話します。【簡易課税で税負担1/2に！？】></iframe></div><p>ちなみにうちの会社は今期から課税事業者になるのでインボイス制度開始による益税の影響は受けない。前期の決算で消費税を算出したとき、本則課税と簡易課税なら後者の方が46%の納税金額が少なくなることがわかった。IT 業界は経費に占める人件費の割合が大きい (人件費は消費税がかからない) ので簡易課税の方が節税になるのではないかという気がする。そのため、簡易課税で申請している。一度、申請すると2年間適用され、不適用届出を出さない限りはずっと簡易課税で継続される。</p><p>国税庁の <a href=https://www.nta.go.jp/taxes/shiraberu/zeimokubetsu/shohi/keigenzeiritsu/invoice_shinei.htm>申請手続</a> をみながら￼e-Tax (WEB 版) で申請した。</p><p>個人で副業を受けることを想定すると、個人でも適格請求書発行事業者に登録した方がよいのだけど、私の場合、自分の会社なので法人で仕事を受けるのと個人で仕事を受けることの違いって何だろう？とわからなくなった。法人税と個人の所得税の税率の違いの話しは一旦置いておいて、最も大きな違いは会社で仕事を受けても(直近の)給与は増えないのでその報酬を自由には使えない。個人で仕事を受けたらその報酬を自由に使えるぐらいかな？もうちょっとその違いを調べ直してから考えよう。先の youtube 動画の中で税理士さんが「免税事業者という制度をやめたらいいのに。。。」と言ってたけど、個人はどうしよう？と悩んでしまう本質は免税事業者という概念があるからというのは正しいと思う。</p><h2 id=terminal-のカスタマイズ>Terminal のカスタマイズ</h2><p>hugo の Shortcodes で <code>class</code> で任意の CSS クラスを指定できる。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>{{&lt; <span style=color:#f92672>youtube</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;E0lOsLfj1T0&#34;</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;video-container&#34;</span> &gt;}}
</span></span></code></pre></div><p><code>static/style.css</code> をカスタムの CSS として読み込んでくれる。youtube のビデオサイズをよしなに調整するために次のスタイルを定義した。なかなか難しい。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span>.<span style=color:#a6e22e>video-container</span> <span style=color:#f92672>iframe</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>border</span>:<span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>max-width</span>: <span style=color:#ae81ff>600</span><span style=color:#66d9ef>px</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>max-height</span>: <span style=color:#ae81ff>338</span><span style=color:#66d9ef>px</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>width</span>: <span style=color:#ae81ff>100</span><span style=color:#66d9ef>%</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>height</span>: <span style=color:#ae81ff>50</span><span style=color:#66d9ef>vh</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=joel-on-software>Joel on Software</h2><p>読み終えた。ソフトウェアの本で test of time (時の試練？) に耐えるのは相当に難しい。本書だとマネジメントや教育、ビジネスや経営に関する内容はいまでも有効でおもしろかった。また後日ブログに書評を書く。いまとなっては手放しでお勧めできる本ではないため、どういう切り口で書くかが難しい。自分にとって学びとして身につけたいと思った本はなるべく書評を書いて自分の言葉で説明できるようになっていきたい。</p><h2 id=カジュアル面談>カジュアル面談</h2><p>プロジェクトマネージャーを募集している会社の CTO と面談。先方の時間が15分しかないという話しだったので事前に質問は連絡しつつ、バックエンドは Go 言語を使っているという話しだったので私が過去に書いたブログ記事やちょっと前に作った <a href=https://github.com/kazamori/go-sql-executor>go-sql-executor</a> を連絡して、技術選考の参考にしてほしいと伝えた。募集要項からスクラムを採用するように読めたのでその背景を聞いたところ、外部の技術顧問が推奨しただけでとくにこだわりはないという。いまもメンバーは8人いて1週間のスプリントでスクラムっぽい運用はしているとのこと。私の言う、課題管理とイテレーション開発の概要を軽く説明しつつ、それを実践するためにプロジェクトマネージャーをやりたくて、その実践の場を探しているといった話しをした。外部の技術顧問が欠席したせいか、Go 言語の開発に関する質問はとくになかった。メンバーはすべて業務委託という話しなので寄せ集めグループのドタバタプロジェクトなんだろうなという印象を受けた。心理的安全性や一体化マネジメント法とか勉強したんで <em>グループ</em> じゃなくて <em>チーム</em> 開発できるマネジメントがやりたいなぁ。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2021/0928/>副反応はいずこ？</a></h1><div class=post-meta><time class=post-date>2021-09-28 (Tue.) ::</time></div><span class=post-tags>#<a href=/diary/tags/life/>life</a>&nbsp;
#<a href=/diary/tags/hugo/>hugo</a>&nbsp;
#<a href=/diary/tags/book/>book</a>&nbsp;
#<a href=/diary/tags/halp/>halp</a>&nbsp;</span>
<img src=/diary/img/2021/0928_pocarisweat-s.jpg class=post-cover alt=副反応はいずこ？ title="Cover Image"><div class=post-content><p>2時過ぎぐらいに寝て5時前ぐらいに起きる。やや熱っぽいかなぁぐらいの印象でもう一度寝る。8時前に起きるともう平気になってた。昨日、書籍や macbook を持って帰ってきて引きこもり対策してたけど、体調が悪くないのでオフィスへ行くことにした。お昼から1時間おきに熱を測ってみたら37℃前後なので少し熱は出ていたみたい。とくにしんどくなかったので普通にお仕事してた。</p><h2 id=水分補給>水分補給</h2><p>副反応対策として、ポカリスエットイオンウォーターの粉末をウォーターサーバーの水に混ぜて飲んでみる。イオンウォーターと普通の <a href=https://www.otsuka.co.jp/faq/ionwater/01.html>ポカリスエットとの違いは何ですか？</a> によると、基本的な成分は同じで低カロリーという違いがあるらしい。</p><h2 id=日記サイト構築>日記サイト構築</h2><p><a href=https://github.com/t2y/diary>diary</a> リポジトリに push すると GitHub Actions で静的サイトをビルドして GitHub Pages で扱うための gh-pages ブランチに push される。<a href=https://qiita.com/peaceiris/items/d401f2e5724fdcb0759d>GitHub Actions による GitHub Pages への自動デプロイ</a> を参考にした。gh-pages ブランチにあるものが次の URL で参照される。リポジトリ名の <code>diary</code> がパスになるらしい。</p><ul><li><a href=https://t2y.github.io/diary/>https://t2y.github.io/diary/</a></li></ul><p>まだ設定は不完全だけど、運用しながらおいおい設定を詰めていく。<a href=https://gohugo.io/>Hugo</a> は会社のホームページにも使っているので慣れているのと、使い心地も気に入っているのでこのまま使い続ける。会社のサイトはたまにしか更新しないので日記を書く方が更新頻度があがって Hugo を触るインセンティブになるかもしれない。</p><h2 id=ジャーナリングとは>ジャーナリングとは</h2><p>読みかけで放置していた <a href=https://bunkyosha.com/books/9784866510149>「手で書くこと」が知性を引き出す 心を整え、思考を解き放つ新習慣「ジャーナリング」入門</a> を読み終えた。この日記も簡易的なジャーナリングになればよいと願っていたりする。「書くこと」への期待値を高くもって読み進めたせいか、内容が薄かったように思えた。ジャーナリングを行うテーマのワークシートが24個ついていて、ページ数を稼いでいるように感じた。日常生活であまり書いていない人には関心をそそるかもしれないけど、プログラマーは日常生活で平均以上の文字数を書いていると推測する。私にとってはあまり目新しいことはなかった。</p><p>マインドフルネス (気づき) を得るための方法論の1つとして書く瞑想=<strong>ジャーナリング</strong>を推奨している。手書きとキーボードのタイピングでは効果が異なるという研究成果はおもしろかった。手書きの方が記憶力や理解力を高める、脳波はアルファ波が出るといった研究があるという。従って、より創造的な仕事に向くかもしれない。ジャーナリングの研究によって、わかってきたことの1つは、自己や他者、社会への適応力を高めると示唆されている。ここでいう「適応力が高まる」というのは、課題や問題をどうとらえ、これからどう行動すればよいかのヒントにつながる可能性があるという意図らしい。ジャーナリングは心身の健全性にもプラスの影響をもたらされる可能性が高いといった研究も紹介されている。私の感覚的にも、書くことで課題や問題を明確化することはストレスを軽減して健康になるような気がする。</p><blockquote><p>ジャーナリングをする際に大事なことは「考えない」 ということです。</p></blockquote><p>書く瞑想とも言われる所以にも思える。そのままの状態を観察して気づきとするような、そういう姿勢を説いている。この内容は業務の取り組みへの応用からは離れてしまう。</p><p>前に <a href=https://note.com/t2y1979/n/n4713058f48ce>メタ認知で〈学ぶ力〉を高める：認知心理学が解き明かす効果的学習法</a> の著者が <a href=https://www.jstage.jst.go.jp/article/jjet/37/Suppl./37_KJ00009957528/_article/-char/ja>タイピング思考法の開発とその有効性の検討</a> という研究発表をしていた。この研究は、思考過程を推測する手法として、発話思考法における問題を解決するタイピング思考法を提案し、既知の問題を解決しつつ、発想の促進効果もみられてそこそこよい結果が出たというものであった。思考過程を発話とタイピングの2つで比較している。比較項目に手書きがあると少し結果に差異が出たりしたのかなぁとか思った。</p><h2 id=atlassian-community-online-meetup-の参加>Atlassian Community Online MeetUp の参加</h2><p>課題管理システムとチャットツールを連携する <a href=https://halp.com/>Halp</a> というツールがあるらしい。うちは課題管理システムにクラウド jira を使っていて、Atlassian 社から届くメールで本イベントのことを知った。Atlassian Community Event の頭文字をとって ACE と呼ぶらしい。</p><ul><li><a href=https://ace.atlassian.com/events/details/atlassian-tokyo-presents-48-tokyo-atlassian-community-online-meetup-dian-pu-bizinesudenohuo-yong-shi-li-halphuo-yong-tipsxin-aceridafa-biao/>#48 Tokyo Atlassian Community Online MeetUp - 店舗ビジネスでの活用事例＆Halp活用Tips＆新ACEリーダー発表</a></li></ul><p>初めて ACE イベントに参加した。コミュニティ (ユーザー) 主体のイベントになるらしい。運営メンバーの中に前職での jira チームのリーダーが出ていてちょっとびっくりした。何度かやり取りしてお世話になった方だったのでこういうところでも活動しているんだと思ってさらに尊敬の念が深くなった。halp については、想像通り、非開発者向けに slack の操作だけで jira の課題管理システムと連携するためのサービスとしてよさそうだった。slack (halp) と jira は双方向にデータの同期ができる。いまのところ、halp の無料プランがないので試せてないけど、なにかの機会で一通り触ってみたいと思うサービスだった。</p></div></article><div class=pagination><div class=pagination__buttons><a href=/diary/tags/hugo/ class="button previous"><span class=button__icon>←</span>
<span class=button__text>最近の日記</span></a>
<a href=/diary/tags/hugo/page/3/ class="button next"><span class=button__text>過去の日記</span>
<span class=button__icon>→</span></a></div></div></div></div><footer class=footer><div class=footer__inner><div class="copyright copyright--user"><span>© 2021 Tetsuya Morimoto</span>
<span>:: Theme made by <a href=https://twitter.com/panr>panr</a></span></div></div></footer><script type=text/javascript src=/diary/bundle.min.js></script></div></body></html>