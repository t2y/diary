<!doctype html><html lang=en><head><title>hugo :: forest nook</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=/diary/tags/hugo/><link rel=stylesheet href=/diary/styles.css><link rel=stylesheet href=/diary/style.css><link rel="shortcut icon" href=/diary/favicon.ico><meta name=twitter:card content="summary"><meta name=twitter:site content="t2y"><meta name=twitter:creator content><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:title" content="hugo"><meta property="og:description" content><meta property="og:url" content="/diary/tags/hugo/"><meta property="og:site_name" content="forest nook"><meta property="og:image" content="/diary/favicon.ico"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><link href=/diary/tags/hugo/index.xml rel=alternate type=application/rss+xml title="forest nook"></head><body class=green><div class="container full headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=/diary><div class=logo>forest nook</div></a></div><ul class="menu menu--mobile"><li class=menu__trigger>Menu&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=/diary/about>自己紹介</a></li><li><a href=/diary/dates>月別一覧</a></li><li><a href=/diary/tags>タグ一覧</a></li></ul></li></ul></div><nav class=navigation-menu><ul class="navigation-menu__inner menu--desktop"><li><a href=/diary/about>自己紹介</a></li><li><a href=/diary/dates>月別一覧</a></li><li><a href=/diary/tags>タグ一覧</a></li></ul></nav></header><div class=content><div class=posts><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/0111/>仕事して打ち合わせしてレンタカーの手配</a></h1><div class=post-meta><time class=post-date>2024-01-11 (Thu.) ::</time></div><span class=post-tags>#<a href=/diary/tags/svelte/>svelte</a>&nbsp;
#<a href=/diary/tags/event/>event</a>&nbsp;
#<a href=/diary/tags/hugo/>hugo</a>&nbsp;
#<a href=/diary/tags/workcation/>workcation</a>&nbsp;</span><div class=post-content><p>0時に寝て何度か起きて6時半に起きた。ようやく生活のリズムが戻ってきた。</p><p>今日の筋トレは腹筋:15x1,腕立て:10x1,スクワット15x1をした。</p><h2 id=sveltekit-のエラー制御>sveltekit のエラー制御</h2><p>svelte のエラーハンドラーの仕組みを調べた。</p><ul><li><a href=https://kit.svelte.jp/docs/errors>sveltekit: エラー</a></li></ul><p><code>error()</code> ヘルパーの内部で例外を throw して <code>+error.svelte</code> ファイルがエラーハンドラーでその例外を捕捉してエラーの表示を制御する。とくに目新しくない、普通のフレームワークなら用意してあるであろう例外ハンドラーのようにみえる。公式ドキュメントを読みなさいと常々メンバーに言っているが、なかなか読んでくれなくて、例外ハンドラーを知らずに自前のエラー制御を実装してしまう。私からツッコミが入って作り直しになる。公式ドキュメントを一通り読んだ方が開発が速いと何度も指摘しているのだが。</p><h2 id=静的サイトジェネレーターの勉強会の打ち合わせ>静的サイトジェネレーターの勉強会の打ち合わせ</h2><p>fin-py で2月に静的サイトジェネレーターのハンズオンをやるそうで hugo なら私が使っているので紹介ぐらいできますよと言ったらそのままハンズオンの講師をやることになった。今日はそのための打ち合わせを行うことになった。だいたい次の内容になった。私以外にも4人ほど講師がいて、他の静的サイトジェネレーターのハンズオンも行う。</p><ul><li>ハンズオンは1人30分を持ち時間とする<ul><li>質問も込みで30分</li><li>時間に余裕があるので少しぐらいなら超えてもよい</li><li>デプロイ先やホスティングについての話しは個別にやらない<ul><li>静的サイトジェネレーターとは別のセッションで話す</li></ul></li><li>ローカルでビルドするまでをハンズオンで話す</li></ul></li><li>このハンズオンの対象とする参加者の要項を書く<ul><li>ターゲットの参加者層を決めないと、どのレベルで解説してよいかわからない</li><li>git/github は使えるという前提</li><li>ターミナルでコマンドライン操作もできるという前提</li></ul></li><li>1月20日までにハンズオンのドキュメントを書いて connpass の要項を完成させる</li></ul><p>hugo をインストールして、サイト環境を構築して、記事の生成／ビルドをする。あとはメタデータ付きマークダウンやテーマの設定ぐらいを説明するかなぁ。</p><h2 id=開発合宿の準備>開発合宿の準備</h2><p>ちゃくちゃくと準備を進めている。今回は神戸から4人、関東から3人の合計7人が参加する。うちの会社の社用車で行く予定だったが5人しか乗れない。みんなで移動するのに車が2台になるのも面倒なのでレンタカーでミニバンを借りることにした。スタッドレスタイヤのオプションを付けると2泊3日で11,880円になる。これはスタッドレスタイヤのレンタルとほぼ同じぐらいの料金にみえる。これによって社用車のスタッドレスタイヤ換装の難しい課題からも解放される。キャンペーン割引があって保険も追加して2泊3日で合計61,215円となった。ミニバンなら7-8名は乗れるし、荷物も余裕をもって積み込みできる。このアイディアはいいなと思って、きのいえの定員もそのぐらいの人数がちょうどよさそうに思う。今回の開発合宿では人数の上限はどうかという点にも注目して取り組みたい。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/0109/>災害義援金を寄付してみた</a></h1><div class=post-meta><time class=post-date>2024-01-09 (Tue.) ::</time></div><span class=post-tags>#<a href=/diary/tags/donation/>donation</a>&nbsp;
#<a href=/diary/tags/founding/>founding</a>&nbsp;
#<a href=/diary/tags/blog/>blog</a>&nbsp;
#<a href=/diary/tags/hugo/>hugo</a>&nbsp;</span><div class=post-content><p>2時半に寝て4時半に起きて6時半に起きて7時半に起きた。</p><p>今日の筋トレは腹筋:15x1,腕立て:10x1,スクワット10x1をした。</p><h2 id=災害義援金の寄付>災害義援金の寄付</h2><p>週末に災害の寄付をしようと思ったときに、ふと寄付を法人でやればいいんじゃないかと思い付いた。どちらも私のお金であることには変わりないのだけど、会社のお金は個人のお金という気がしないので個人よりも大きいお金を寄付できる。これは法人という人格を分けていることのメリットの1つかもしれない。</p><ul><li><a href=https://www.pref.ishikawa.lg.jp/suitou/gienkinr0601.html>令和6年（2024年）能登半島地震に係る災害義援金の受付について</a></li></ul><p>今朝から税理士さんに損金算入についての懸念がないかを確認して問題ないということだったので10万円を寄付した。領収書は電子フォームから申請したが、毎日それなりの数の人が寄付しているだろうから領収書が発送されるまで1ヶ月ぐらいはかかるのかもしれない。気長に待って領収書が届いたら軽く記事を書こうと思う。現時点での義援金の残高は 968,223,243 円とのこと。せいぜい集まるお金は数十億程度なのかな。</p><blockquote><p>現時点での暫定推計で被害総額は約8,000億円</p><p><a href=https://www.nri.com/jp/knowledge/blog/lst/2024/fis/kiuchi/0105>能登半島地震による経済損失について考える</a></p></blockquote><h2 id=はてなブックマーク数の表示>はてなブックマーク数の表示</h2><p>hugo ではてなブックマークの数を表示するためのカスタマイズを追加した。はてな社がそのための機能を提供しているのですぐできる。</p><ul><li><a href=https://b.hatena.ne.jp/help/entry/count>自分のブログに「○○users」を表示する</a></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>{{ $url := .Permalink }}
</span></span><span style=display:flex><span>{{ if hugo.IsDevelopment }}
</span></span><span style=display:flex><span>  {{/* ローカル環境でブックマーク数の表示確認用途 */}}
</span></span><span style=display:flex><span>  {{ $url = &#34;https://kazamori.jp/&#34; }}
</span></span><span style=display:flex><span>{{ end }}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>span</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;m-1&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;{{ print &#34;</span><span style=color:#a6e22e>https:</span><span style=color:#960050;background-color:#1e0010>//</span><span style=color:#a6e22e>b</span><span style=color:#960050;background-color:#1e0010>.</span><span style=color:#a6e22e>hatena</span><span style=color:#960050;background-color:#1e0010>.</span><span style=color:#a6e22e>ne</span><span style=color:#960050;background-color:#1e0010>.</span><span style=color:#a6e22e>jp</span><span style=color:#960050;background-color:#1e0010>/</span><span style=color:#a6e22e>entry</span><span style=color:#960050;background-color:#1e0010>/&#34;</span> <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#a6e22e>url</span> <span style=color:#960050;background-color:#1e0010>}}&#34;</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>img</span> <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;{{ print &#34;</span><span style=color:#a6e22e>https:</span><span style=color:#960050;background-color:#1e0010>//</span><span style=color:#a6e22e>b</span><span style=color:#960050;background-color:#1e0010>.</span><span style=color:#a6e22e>hatena</span><span style=color:#960050;background-color:#1e0010>.</span><span style=color:#a6e22e>ne</span><span style=color:#960050;background-color:#1e0010>.</span><span style=color:#a6e22e>jp</span><span style=color:#960050;background-color:#1e0010>/</span><span style=color:#a6e22e>entry</span><span style=color:#960050;background-color:#1e0010>/</span><span style=color:#a6e22e>image</span><span style=color:#960050;background-color:#1e0010>/&#34;</span> <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#a6e22e>url</span> <span style=color:#960050;background-color:#1e0010>}}&#34;</span> <span style=color:#a6e22e>alt</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;はてなブックマーク - {{ .Title }}&#34;</span> <span style=color:#a6e22e>title</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;はてなブックマーク - {{ .Title }}&#34;</span> /&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>a</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>span</span>&gt;
</span></span></code></pre></div><p>呼び出し側はこんな風に使う。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>{{ partial &#34;hatebu.html&#34; . }}
</span></span></code></pre></div><p>結果は <a href=https://blog.osstech.co.jp/posts/>記事一覧</a> で確認できる。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/1120/>生活リズムが崩れた月曜日</a></h1><div class=post-meta><time class=post-date>2023-11-20 (Mon.) ::</time></div><span class=post-tags>#<a href=/diary/tags/animation/>animation</a>&nbsp;
#<a href=/diary/tags/economy/>economy</a>&nbsp;
#<a href=/diary/tags/go/>go</a>&nbsp;
#<a href=/diary/tags/ldap/>ldap</a>&nbsp;
#<a href=/diary/tags/hugo/>hugo</a>&nbsp;</span><div class=post-content><p>1時に寝て2時半に起きて5時に起きて7時に起きた。朝から昼過ぎまで寝てたのでトータルでは睡眠時間をたくさん取っているのになんか疲れている。生活のリズムを崩すのがよくないのかも。</p><h2 id=ガンダムに学ぶ経営学>ガンダムに学ぶ経営学</h2><p>教えてもらって寝る前にみたらおもしろかった。入山先生がガンダム大好きなことが伝わってくる。おもしろいのはそうだけど、まじレスすると、アニメの世界の組織や経済に学ぶというのは誤りで、当時の組織や経済のリアルを参考にして、ガンダムの世界観は作られていると推測する。だから入山先生はユーモアで盛り上げているのだと思うけれど、ガンダムから学ぶのではなく歴史から学べが正解だと思う。でも、ガンダムの世界観を知るよい番組だと思う。</p><div class=video-container><iframe src=https://www.youtube.com/embed/w7Hhimmu26c allowfullscreen title="ガンダムに学ぶ経営学 【まとめ】【テレ東経済ニュースアカデミー　GWセレクション３】"></iframe></div><h2 id=go-ldap-へのプルリクエスト>go-ldap へのプルリクエスト</h2><p>2週間ほど前に送った pr がまだレビューすらしてもらえていない。github actions のテストがいくつか落ちていて、この pr の修正によるものではないところでエラーになっている。メンテナーの1人が再実行してくれたんだけど、たくさんあるマトリックステストのどこかが落ちてまた再実行しないといけない。</p><ul><li><a href=https://github.com/go-ldap/ldap/pull/471>IsErrorAnyOf should match the given result code even if the error is wrapped #471</a></li></ul><p>それを待っている間に、テストがエラーになる本当の原因の問題を直そうと2-3日前に issue 登録していた。この issue の対応を本当は昨日やろうと思っていたのに、思いの外、寝てしまって、その後もいろいろ書きものをしていて時間を使ってしまってできていなかった。今朝からそれを片付けた。業務の一環なので日曜日にプルリクエストを送らなくてもよいのだけど、コントリビューションなので空き時間に終わらせて、業務の時間は別のことに使いたいという思いもあったりする。</p><ul><li><a href=https://github.com/go-ldap/ldap/pull/473>Fix DATA RACE as a result of changing ber&rsquo;s module global variable for fuzz tests #473</a></li></ul><p>さらに github actions のログに deprecated ワーニングが出ていたのでついでにそれも直した。</p><ul><li><a href=https://github.com/go-ldap/ldap/pull/474>Fix deprecated warning on GitHub Actions #474</a></li></ul><p>473, 474, 471 の順番にマージされていくのが望ましい。そろそろコミット権をくれたりしないかな？と思ったりもする。というのは、タイミングの問題で action の job が落ちたり、バージョン上げるだけの pr とか、自分でマージしてしまえばいいと思ったりする。</p><h2 id=hugo-で書いた記事に目次を生成する>hugo で書いた記事に目次を生成する</h2><p>お手伝い先のテックブログは hugo で運用されている。記事の目次がないなと気付いて追加してみた。hugo v0.60.0 以降のバージョンなら標準で目次生成の機能をもっている。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#f92672>aside</span>&gt;
</span></span><span style=display:flex><span>  {{ .TableOfContents }}
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>aside</span>&gt;
</span></span></code></pre></div><ul><li><a href=https://gohugo.io/content-management/toc/>Table of contents</a></li></ul><p>デフォルトはヘッダー2レベルより下の目次を生成する。レベル1も生成したい場合は config.toml に次の設定を追加する。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span>[<span style=color:#a6e22e>markup</span>]
</span></span><span style=display:flex><span>  [<span style=color:#a6e22e>markup</span>.<span style=color:#a6e22e>tableOfContents</span>]
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>startLevel</span> = <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>endLevel</span> = <span style=color:#ae81ff>3</span>
</span></span></code></pre></div></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0101/>ジャンプスターター使ってみた</a></h1><div class=post-meta><time class=post-date>2023-01-01 (Sun.) ::</time></div><span class=post-tags>#<a href=/diary/tags/hugo/>hugo</a>&nbsp;
#<a href=/diary/tags/device/>device</a>&nbsp;
#<a href=/diary/tags/life/>life</a>&nbsp;
#<a href=/diary/tags/day-off/>day off</a>&nbsp;</span><div class=post-content><p>1時に寝て7時半に起きた。なんともなく新年あけた。朝ご飯食べて孤独のグルメをみながら宅急便が届くのを待った。</p><h2 id=hugo-のスタイル修正>hugo のスタイル修正</h2><p>日付に曜日を付けるように変更した。タグから過去の日記をみたときに曜日があると役に立つときがたまにある。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;span</span> <span style=color:#a6e22e>class=</span><span style=color:#e6db74>&#34;post-date&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>  {{ .Date.Format &#34;2006-01-02 (Mon.)&#34; }}
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/span&gt;</span>
</span></span></code></pre></div><p>テーマの <a href=https://github.com/panr/hugo-theme-terminal>terminal</a> のバージョンをあげたらビルドに失敗するようになった。<code>extended</code> をインストールしないと scss/sass 周りのビルドに失敗するらしい。github actions の hugo セットアップの設定も変更した。</p><ul><li><a href=https://gohugo.io/troubleshooting/faq/#i-get-this-feature-is-not-available-in-your-current-hugo-version>https://gohugo.io/troubleshooting/faq/#i-get-this-feature-is-not-available-in-your-current-hugo-version</a></li></ul><h2 id=ジャンプスターター>ジャンプスターター</h2><p>年末に注文したジャンプスターターが届いた。実家の軽トラのバッテリーがあがってしまいエンジンをかけられないという。いつもはディーラーさんに来てもらってバッテリー交換なり他の車と接続してエンジンをかけるなりをやってもらっていた。たまたまテレビをみていたら雪国での役立つツールとしてジャンプスターターと呼ばれるものがあることを知った。スマートデバイスなどの予備バッテリーの形状で車のバッテリーに接続してエンジンをかけられるらしい。さっそく amazon で検索してベストセラーのタグがついている「PHILIPS フィリップス ジャンプスターター 12000mAh大容量 ピーク電流800A 12V車用 エンジンスターター」を購入した。うちの軽トラでも試してみたら問題なくエンジンが始動した。車のバッテリーが弱っている場合、boost ボタンを押してブーストモードで接続しないといけないようだ。boost ボタンを押すのがわかって接続・設定したらエンジンがすぐに始動した。うちみたいな小さい兼業農家でたまに軽トラを使うといった家でも携帯バッテリーは充電がすぐできて、保管も場所取らずでとても便利。これはよい買いものだと思えた。</p><p><a href="https://www.amazon.co.jp/gp/product/B091Y9Y22G?ie=UTF8&psc=1&linkCode=li2&tag=t2y-diary-22&linkId=b31c3d97937c844d911bb79486599b0c&language=ja_JP&ref_=as_li_ss_il" target=_blank><img border=0 src="//ws-fe.amazon-adsystem.com/widgets/q?_encoding=UTF8&ASIN=B091Y9Y22G&Format=_SL160_&ID=AsinImage&MarketPlace=JP&ServiceVersion=20070822&WS=1&tag=t2y-diary-22&language=ja_JP"></a><img src="https://ir-jp.amazon-adsystem.com/e/ir?t=t2y-diary-22&language=ja_JP&l=li2&o=9&a=B091Y9Y22G" width=1 height=1 border=0 alt style=border:none!important;margin:0!important></p><h2 id=温泉>温泉</h2><p>実家近くの <a href=http://awajiinfo.com/uzusio-onsen/>うずしお温泉</a> を提供している <a href=https://xn--y8jwbo3jva.com/>ゆとりっく</a> に行く。私にとっては銭湯へ行く感覚で実家に帰ったとき1回は行く。いつも通り温泉に浸かってそれから三ノ宮へ戻ることにした。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2021/1010/>86―エイティシックス―</a></h1><div class=post-meta><time class=post-date>2021-10-10 (Sun.) ::</time></div><span class=post-tags>#<a href=/diary/tags/life/>life</a>&nbsp;
#<a href=/diary/tags/hugo/>hugo</a>&nbsp;</span><div class=post-content><p>2時に寝て7時に起きる。昨日 <a href=https://anime-86.com/>86―エイティシックス―</a> の第2クールの初回をみた。起きてから第1クールの後半の内容を見返したりしてた。内容がすごくおもしろいというわけではないんだけど、作品の世界観と音楽がよい。というか、<a href=https://www.sawanohiroyuki.com/>澤野弘之</a> 氏のファンなので彼が音楽を手がける作品はみてしまう。第1クールの音楽も素晴らしかった。音楽がよいと映画やアニメのシーンが盛り上がるし、音楽だけを聞いているときにもそのシーンのイメージが想起されて音楽そのものにも深みが出るような気がする。</p><h2 id=terminal-のカスタマイズ>Terminal のカスタマイズ</h2><p>月別一覧のページを作成した。Hugo には <a href=https://gohugo.io/content-management/taxonomies/>Taxonomies</a> という仕組みがあって、任意のラベルでカテゴライズできる。デフォルトでは <code>categories</code> と <code>tags</code> が提供されている。設定ファイルに <code>dates</code> というカスタム Taxonomies を定義する。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span>[<span style=color:#a6e22e>taxonomies</span>]
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>date</span> = <span style=color:#e6db74>&#34;dates&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>tag</span> = <span style=color:#e6db74>&#34;tags&#34;</span>
</span></span></code></pre></div><p>コンテンツのメタデータには次のように年月のラベルを付与する。</p><pre tabindex=0><code>dates: [2021/10]
</code></pre><p>これは <code>hugo new</code> したときに自動生成されるので自分で明示的に設定する必要はない。</p><pre tabindex=0><code>dates: [{{ dateFormat &#34;2006/01&#34; .Date }}]
</code></pre><p>ラベル名に <code>/</code> を含めると自動的に月ごとのサブディレクトリになってくれるので月別のアーカイブを生成するのに都合がよい。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ tree -L <span style=color:#ae81ff>3</span> public/dates/
</span></span><span style=display:flex><span>public/dates/
</span></span><span style=display:flex><span>├── <span style=color:#ae81ff>2021</span>
</span></span><span style=display:flex><span>│   ├── <span style=color:#ae81ff>09</span>
</span></span><span style=display:flex><span>│   │   ├── index.html
</span></span><span style=display:flex><span>│   │   ├── index.xml
</span></span><span style=display:flex><span>│   │   └── page
</span></span><span style=display:flex><span>│   └── <span style=color:#ae81ff>10</span>
</span></span><span style=display:flex><span>│       ├── index.html
</span></span><span style=display:flex><span>│       ├── index.xml
</span></span><span style=display:flex><span>│       └── page
</span></span></code></pre></div><p>タグ一覧とは異なり、年単位・月単位にまとめて一覧表示するためにテンプレートをカスタマイズする。<a href=https://gohugo.io/templates/taxonomy-templates/>Taxonomy Templates</a> は <code>terms.html</code> によって提供されている。Terminal が提供しているこのテンプレートをカスタマイズすることで月別一覧を次のような表示になるようカスタマイズした。</p><figure><img src=/diary/img/2021/1010_dates.png></figure><p>実際の修正内容は次になる。</p><ul><li><a href=https://github.com/t2y/diary/commit/783d9685ae3698b85e428bce178bdd9ebe2c3dca>https://github.com/t2y/diary/commit/783d9685ae3698b85e428bce178bdd9ebe2c3dca</a></li></ul></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2021/1009/>職質された</a></h1><div class=post-meta><time class=post-date>2021-10-09 (Sat.) ::</time></div><span class=post-tags>#<a href=/diary/tags/life/>life</a>&nbsp;
#<a href=/diary/tags/hugo/>hugo</a>&nbsp;
#<a href=/diary/tags/book/>book</a>&nbsp;</span><div class=post-content><p>0時に寝て6時に起きる。昨日も田んぼ仕事の疲れが残っていたのでよく眠れた。1週間で6時頃に起きる癖がついたのですぐに起きれた。</p><h2 id=terminal-のカスタマイズ>Terminal のカスタマイズ</h2><p>昨日からいくつか修正をしていた。</p><ul><li>画像のパス問題の修正</li><li>favicon の追加</li><li>タグ一覧リンクの追加</li><li>atom フィードに icon 要素の追加 (feedly では読み取れない)</li></ul><p>atom フィードに favicon を指す要素を埋め込んでみたんだけど、feedly ではダメっぽい。たまたまヒットした GitHub issue でもそういったコメントをみかけた。</p><ul><li><a href=https://github.com/huginn/huginn/issues/1628#issuecomment-882103625>https://github.com/huginn/huginn/issues/1628#issuecomment-882103625</a></li></ul><h2 id=ストレッチ>ストレッチ</h2><p>毎週土曜日はストレッチの日。田んぼ仕事のおかげで全身軽い筋肉痛になっている。ストレッチを受けると、いつものときとの違いから、股関節から右ももと腕の筋肉がすごく張っているのに気付く。田んぼのような突発的に体を動かして疲労が溜まったときにもストレッチでほぐせるのがよい。今日の開脚幅は開始前169cmで、ストレッチ後170cmかな。前より少し落ちたのは田んぼ仕事に疲れて平日にあまりストレッチが出来なかったのと筋肉痛のせいかもしれない。</p><h2 id=joel-on-software>Joel on Software</h2><p>本当は実家に帰っているときに書き上げようと考えていたものの、田んぼ作業での疲れと実家のパソコンを使って作業する環境の悪さから書くことに集中できなくなって断念していた。集中できる環境なら3時間ほどで書けた。動機づけよりも価値観、価値観がブレないならその次は集中できる環境作りにこだわっていきたい。</p><ul><li><a href=https://t2y.hatenablog.jp/entry/2021/10/09/162618>https://t2y.hatenablog.jp/entry/2021/10/09/162618</a></li></ul><h2 id=職務質問>職務質問</h2><p>買いものして帰ろうとしてたら警察官に止められて職務質問をうけた。自転車の盗難が多いので防犯登録を調べたいとのこと。はいはいって感じで免許証を提示する。自転車は東京で購入したもので10年以上乗っている。防犯登録は警視庁になっているらしく、兵庫県警の警察官では調べられないみたい。次に車体番号も読み取って調べていたけど、よくわからなかったみたい。結局、私が本物の持ち主とその場で調べることができなくて、警察官もたぶん本物だと思いますみたいな歯切れの悪い結果で職務質問を終えた。仮にその自転車が盗難にあってもその防犯登録から私を辿ることはできないので近所の自転車屋さんで防犯登録入り直してくださいと言われた。あー、またこの件か。都道府県の防犯登録のシステムが全国で統合されていればいい話しなのに、なんで引っ越したら防犯登録をやり直さないとあかんねんと。現場の警察官に言っても仕方ないので何も言わないことにした。</p><h2 id=プロコン>プロコン</h2><p>たまたまタイムラインでみかけてちょっと眺めてた。動画で同じ内容をみて、ハラスメントを問題視する人と、プロダクトの新規性について言及する人がいて、感じ方は人それぞれだなぁと思いながら <a href="https://twitter.com/search?q=%23procon32&src=typed_query&f=top">ハッシュタグ</a> を眺めてた。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2021/1002/>テーマスタイルのカスタマイズ</a></h1><div class=post-meta><time class=post-date>2021-10-02 (Sat.) ::</time></div><span class=post-tags>#<a href=/diary/tags/life/>life</a>&nbsp;
#<a href=/diary/tags/hugo/>hugo</a>&nbsp;</span><div class=post-content><p>昨日の夜は早めに仕事を終えて <a href=https://opt.connpass.com/event/222709/>第一回関数型プログラミング（仮）の会</a> の、やましたさんとみずしまさんの発表の2つだけ聞いて、疲れてそのまま帰ってゆっくりしてた。ドラクエタクトの新しいイベントやってたかな。あと今秋初めて買った梨を食べてた。たぶん0時ぐらいには寝て8時ぐらいに起きた。</p><p><a href=https://www.ytv.co.jp/asapara/>あさパラS</a> は総裁選の振り返りや役員人事の解説やっててほむほむと見てた。河野さんが官僚に嫌われる要因の1つとしてちょっと前にパワハラ音声が流出してたけど、言葉遣いがきついのに加え、正論をきつく言うから官僚の逃げ道をなくして追い詰めてしまうといったことが話されてた。心理的安全性の文脈で、お互いに信頼関係が築けた上で厳しいことを指摘するのは構わない (言い方は配慮すべき) が、そうじゃないと相手を追い詰めてしまう。過去に私も不誠実な相手に対して正論を言って追い詰めがちだったのでいまは反省している。目的は課題を解決することであって、相手を追い詰めても目的を果たせないということがようやく経験から理解できるようになってきた。</p><h2 id=ストレッチ>ストレッチ</h2><p>毎週土曜日は <a href=https://doctorstretch.com/>Dr.stretch</a> さんでストレッチしてる。開脚の幅が目標 (メトリクス) になっていて毎週測っている。目標は自分の身長と同じぐらいということで178cm。ストレッチの開始前に測って、ストレッチを受けてから再計測する。今日は開始前169cm、ストレッチ後171cmと初めて170cmの大台に到達した。このままうまくいけば、あと3-6ヶ月ぐらいあれば目標の身長と同じぐらいの開脚幅になるかもしれない。家でも毎日ではないけど、2日に1回ぐらいのペースでストレッチをするのが習慣になりつつある。いまジョギングをすると腰に負担がくるんやけど、トレーナーさんが言うには、開脚幅が広がると股関節の可動域があがって腰の負担も減るという。本来、腰の筋肉は動かない方の筋肉だが、股関節の可動域が小さいとそれを補うために腰の筋肉が動いてしまい、その結果として腰に負担がかかる。なので、股関節が本来の意図した動きをしていれば、自然に腰の負担も下がるという理屈らしい。</p><h2 id=価値観を育てる>価値観を育てる</h2><p>あんちぽさんのスライドを眺めて共感してた。日記を書き始めたのも <a href=https://kentarokuribayashi.com/>あんちぽさんの日記</a> を読んでて、毎日やっていることを「書くこと」は何かしら意味や意義があるんじゃないかと思うようになったから。</p><iframe class=speakerdeck-iframe frameborder=0 src=https://speakerdeck.com/player/422f05833bc64c1a978c1ba92020a249 title="自分の人生を生きる - 遊びで生きて価値観を育てよう / Live Your Own Life - Live for Fun and Develop Your Values" allowfullscreen mozallowfullscreen=true webkitallowfullscreen=true style="border:0;background:padding-box padding-box rgba(0,0,0,.1);margin:0;padding:0;border-radius:6px;box-shadow:rgba(0,0,0,.2)0 5px 40px;width:560px;height:314px"></iframe><p>歳を経て難しく感じるようになったことの1つに <strong>動機づけ (モチベーションコントロール)</strong> がある。</p><p>私は基本的に忙しいという言葉を使わない。やらないといけないことの何かが進捗していないとき、それは「やる気がない」と受け止めている。もちろん相手がいるときにやる気がないとそのまま表現すると横柄だったり失礼だったりすることもあるので余裕がないと答える場合もある。しかし、本質的にはやる気がないが正しい。もう少し補足すると、いまやっていることの方が自分にとって優先度が高く (やる気があり)、それ以外の別のことを先送りしているだけだと捉えている。もし別のことにやる気があるならば、いまやっていることを後回しにすればいいだけだからだ。</p><p>ここで、何をやってもいいとしたら、何をやりたいかという課題が出てくる。適当にあれこれやってみても、実際にやってみるとうまくいかなくて、やる気が持続しなかったりすることがある。多くのケースで、若い頃ほどなにかに夢中になってやっていた経験が誰しもあると思うが、あのときはなぜそんなに夢中になってできたのか。いま思い返しながら、自分にとっての動機づけの源泉を探るようなことをしていかないとわからないのだ。まったく自分のことなのに。2021年に入ってからそういったことを考え続けていたところ、このスライドを眺めてたら動機よりも価値観なんだよと書いてあって、私がこの9ヶ月間、掘り返し続けてた動機づけの源泉=価値観という考え方はしっくりきて、価値観がブレると動機づけもうまくいかないなと思えた。</p><h2 id=hugoterminalのカスタマイズ>Hugo/Terminalのカスタマイズ</h2><p>Speaker Deck のスライドの埋め込みができなくて調べた。<a href=https://chizuchizu.com/blog/tag_hugo/>HUGOで埋め込みができない時の対処法</a> によると、<code>config.toml</code> に次の設定を追加すると表示された。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span>[<span style=color:#a6e22e>markup</span>]
</span></span><span style=display:flex><span>  [<span style=color:#a6e22e>markup</span>.<span style=color:#a6e22e>goldmark</span>]
</span></span><span style=display:flex><span>    [<span style=color:#a6e22e>markup</span>.<span style=color:#a6e22e>goldmark</span>.<span style=color:#a6e22e>renderer</span>]
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>unsafe</span> = <span style=color:#66d9ef>true</span>
</span></span></code></pre></div><p>Terminal のテーマだと本文と引用の違いわかりにくかったのでスタイルを変えてみた。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span><span style=color:#f92672>blockquote</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>background</span>: <span style=color:#ae81ff>#eafff4</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>color</span>: <span style=color:#ae81ff>#2d3330</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>font-style</span>: <span style=color:#66d9ef>italic</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li><p>変更前</p><figure><img src=/diary/img/2021/1002_blockquote-before.png></figure></li><li><p>変更後</p><figure><img src=/diary/img/2021/1002_blockquote-after.png></figure></li></ul><p>日付の表記を少し大きくして目立つようにした。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span>.<span style=color:#a6e22e>post-date</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>font-weight</span>: <span style=color:#66d9ef>bold</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>font-size</span>: <span style=color:#ae81ff>1.3</span><span style=color:#66d9ef>rem</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></article><div class=pagination><div class=pagination__buttons><a href=/diary/tags/hugo/page/2/ class="button next"><span class=button__text>過去の日記</span>
<span class=button__icon>→</span></a></div></div></div></div><footer class=footer><div class=footer__inner><div class="copyright copyright--user"><span>© 2021 Tetsuya Morimoto</span>
<span>:: Theme made by <a href=https://twitter.com/panr>panr</a></span></div></div></footer><script type=text/javascript src=/diary/bundle.min.js></script></div></body></html>