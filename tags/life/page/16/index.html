<!doctype html><html lang=en><head><title>Life :: </title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=/diary/tags/life/><link rel=stylesheet href=/diary/styles.css><link rel=stylesheet href=/diary/style.css><link rel="shortcut icon" href=/diary/favicon.ico><meta name=twitter:card content="summary"><meta name=twitter:site content="t2y"><meta name=twitter:creator content><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:title" content="Life"><meta property="og:description" content><meta property="og:url" content="/diary/tags/life/"><meta property="og:site_name" content><meta property="og:image" content="/diary/favicon.ico"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><link href=/diary/tags/life/index.xml rel=alternate type=application/rss+xml title></head><body class=green><div class="container full headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=/diary><div class=logo>forest nook</div></a></div><ul class="menu menu--mobile"><li class=menu__trigger>Menu&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=/diary/about>自己紹介</a></li><li><a href=/diary/dates>月別一覧</a></li><li><a href=/diary/tags>タグ一覧</a></li></ul></li></ul></div><nav class=navigation-menu><ul class="navigation-menu__inner menu--desktop"><li><a href=/diary/about>自己紹介</a></li><li><a href=/diary/dates>月別一覧</a></li><li><a href=/diary/tags>タグ一覧</a></li></ul></nav></header><div class=content><h1>Posts for: #Life</h1><div class=posts><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2022/0521/>はっくばーに行ってきた</a></h1><div class=post-meta><time class=post-date>2022-05-21</time></div><span class=post-tags>#<a href=/diary/tags/life/>life</a>&nbsp;
#<a href=/diary/tags/event/>event</a>&nbsp;
#<a href=/diary/tags/community/>community</a>&nbsp;</span><div class=post-content><p>4時に寝て8時に起きた。昨日は遅くまで資料作りをしていてやや眠い。</p><h2 id=ストレッチ>ストレッチ</h2><p>トレーナーさんが代わってから3週目。だいぶ新しいトレーナーさんのストレッチにも慣れてきた。7割ぐらいは同じストレッチだけど、3割ぐらいは似て非なるもので指圧の掛け方や伸ばしている部位が微妙に違う。あとやり方も違う。トレーナーさんが代わったばかりのときはその微妙の違いに耐性がなくて調子が出なかったけど、少しずつ慣れてきたみたい。今日の開脚幅は開始前160cmで、ストレッチ後163cmだった。腰も右股関節もそれほど悪い状態でもなかった。トレーナーさんが言うには肩甲骨と骨盤周りがあまりよくないといった話だった。3月ぐらいから怠惰な日々が続いているのでそろそろ運動やストレッチも再開したい。</p><h2 id=jjug-のビデオ録画>jjug のビデオ録画</h2><p>昨日の続き。資料はできたのでその発表ビデオを撮らないといけない。イベントで発表するのにビデオを提出するのは私にとって初めての試み。まずビデオを撮ったことがないのでツールの使い方から分からない。リハーサルをやぎさんに手伝ってもらって Windows マシンで試しにやってみた。感謝。Windows の標準機能だとゲームバーという録画ツールが使える。ショートカットは Windows キー + G で起動する。ゲームのプレイ動画などを録画して sns にアップロードするようなツールみたい。撮ってみたら録画時間は21分だった。発表時間は15分なのでここから6分削ればよい。</p><h2 id=はっくばー>はっくばー</h2><p>近所にはっくばーが出来たのでそのプレオープンイベントに行ってきた。内装は普通のバーで4人席が4卓、カウンター席が5席ぐらいかな。こじんまりとした可もなく不可もなくな装いだった。2時間弱ほどいてビールとレモンサワーを飲んで支払いは2,000円だったので料金は普通と言えるだろう。プレオープンだからなんかイベント的なことやるのかな？と期待して行ったんだけど、とくに何もなくて、参加者同士がお酒を飲みながらわいわい話すだけのイベントだった。オーナーが挨拶するといったこともなかったし、どういった展望をもってはっくばーをやっているのかもわからなかった。参加者の中にはオーナーやその所属組織の関係者のコネで来ましたという人もちらほらいたので、どこかしらの技術コミュニティで盛り上がっているのかもしれない。</p><p>私は7人の参加者と話した。相対的に若い人が多かったようにみえた。youtuberのサロンでプログラミング勉強してますというフリーターの人とか、ベンチャー企業やってますみたいな人とか、普通の会社員の人とか、マイクロソフト社にお勤めの人とか、大学生でプログラミングの勉強してますとか、いろんな人がいて、話しを聞いてみて、私が普段関わっている業界の内容ではなかったのでそれはそれで楽しかった。若い人たちは twitter をフォローしてくださいと qr コードで相互フォローをお願いしていた。twitter に qr コードを表示する機能があったんだと初めて知った。しかし、私だけ鉄の意志でやらなかった。スマホに twitter アプリ入れてないし。私が普段参加している <a href=https://sannomiya.dev/>三宮.dev</a> というコミュニティがある。少し前にそこに参加された方がたまたまその場にいて、少し話してみて、その人は技術の話しをしたいのではなく、インフルエンサーになりたい人なんだなと感じた。twitter のフォロワーを集めるためにイベントやコミュニティに参加しているようにみえた。別にそれも悪いことではないけれど。</p><p>あと、たまたま私が話した人がそうだっただけかもしれないが、あるベンチャー企業の社長が2つの目的、仕事をもらうのと採用のためにここに来てますと話していて、それ自体は悪くないと思うのだけど、そういう人が来るところに私は行かないなと率直に感じた。プレオープンイベントに参加した雰囲気だと、異業種交流会のような性格が強かった。オーナーの関係者で〇〇の会社をやっていて協業できれば嬉しいですみたいな紹介があったりしたし、卓を囲む人同士で名刺交換しているのもみかけた。バーというのはそういう特性もあわせもっているのかもしれないけど、コミュニティではないなという印象を受けた。</p><p>神戸に IT 系の有名な会社やコミュニティはないよねというのは、私も感じている共通認識で、はっくばーがそういったコミュニティの役割になればいいんじゃないかと話す人もいた。一方で私はそうはならないだろうと思っている。相互協力のコミュニティというのはもちろん存在するけど、それはどちらかというとそうせざるを得ない事情があって成り立つ。神戸はまだまだ余裕のある都市なのでそんな様相にはならない。じゃあ、コミュニティはなにをもって形成されるかというとコンテンツ (そして、その先にある文化) だと私は考えている。コンテンツのないコミュニティに人は集まらない。</p><p>はっくばーが今後どういった活動をしていくのかはわからないけど、単なるビジネス出会い系の場だとしたら三ノ宮みたいな地方都市ではなく、東京や大阪のような大都市でやった方がうまくいく可能性は高いだろうと思う。東京の <a href=https://hackers.bar/>Hackers Bar</a> がうまくいっているかどうかは知らないけど、東京ですらうまくいくかどうかわからないものを三ノ宮で成功させるのは難しいだろうという印象を私はもっている。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2022/0514/>漫画ばかり読んでる</a></h1><div class=post-meta><time class=post-date>2022-05-14</time></div><span class=post-tags>#<a href=/diary/tags/life/>life</a>&nbsp;
#<a href=/diary/tags/comic/>comic</a>&nbsp;</span><div class=post-content><p>漫画を読みながら寝て5時半に起きて漫画読んで8時に起きた。今日はほとんど漫画読んでた。</p><h2 id=ストレッチ>ストレッチ</h2><p>今週は漫画ばかり読んでいたせいか、体が硬くなってしまっていた。今日の開脚幅は開始前153cmで、ストレッチ後158cmだった。今週は雨降りの日が多くて徒歩通勤する機会が多かった。普段よりは運動したような気はしていたけど、ストレッチの数値はよくなかった。疲労度は腰がもっとも蓄積していて、肩甲骨周りも相変わらず硬い。ベッドで漫画ばかり読んでたから不健康になってしまったのかもしれない。</p><h2 id=神之塔>神之塔</h2><p>先週ぐらいから <a href="https://manga.line.me/product/periodic?id=Z0000197">神之塔</a> を読み始めた。少し前 (と言っても2年前) に <a href=https://tog-anime.com/>アニメ化</a> されていて、当時たまたまみたらおもしろかったので印象に残っていた。一言でこの作品を表すと「基本的に訳がわからないのだけど、おもしろい」といったところ。私は普段 LINE を使っていないので LINE と密接なアプリやプラットフォームも使っていない。神之塔は LINE マンガでしか読めないみたいなのでこの漫画を読むために仕方なくインストールした。通常は1日1話しか無料で読めないけど、なにかのキャンペーン期間中は100話ぐらい無料で読めたりする。数日前からキャンペーン期間になっているので読んでいて疲れたら寝て起きたら読むみたいな生活をしている。300話まで読んだ。50話から100話ぐらいで1つのエピソードが終わるのでテンポもいい。おもしろい。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2022/0508/>法人決算の続き</a></h1><div class=post-meta><time class=post-date>2022-05-08</time></div><span class=post-tags>#<a href=/diary/tags/life/>life</a>&nbsp;
#<a href=/diary/tags/founding/>founding</a>&nbsp;
#<a href=/diary/tags/tax/>tax</a>&nbsp;</span><div class=post-content><p>0時に寝て5時半に起きた。実家にいると、親が5時ぐらいから起き始めるのでつられて早めに起きている。親が8時からアルバイトなのでそのタイミングでバス停に送ってもらって9時半には戻ってきた。</p><h2 id=消費税申告書と欠損金の還付請求書の作成>消費税申告書と欠損金の還付請求書の作成</h2><p>先日から <a href=/diary/posts/2022/0505/#法人決算>法人決算に着手</a> していた。</p><p>まずは消費税の申告書と未払い消費税の振替伝票の起票をしていた。初めての会計処理でいろいろ調べてた。<a href=https://www.nta.go.jp/taxes/shiraberu/taxanswer/shohi/6610.htm>No.6610 法人に係る消費税の確定申告書の提出期限について</a> によると、消費税の申告期限も法人決算と同様、課税期間 (事業年度) の終了の日から2ヶ月以内に行う必要がある。厳密には消費税にも2種類あって国税と地方税にわけられる。地方消費税は国税ではなく地方税であるため、本来は都道府県に納税すべきものではあるが、手続きの利便性のため？なのか、国税と一緒に所管税務署へ納付するのでよいらしい。</p><ul><li><a href=https://biz.moneyforward.com/tax_return/basic/70/#i>消費税とは？地方消費税とは？</a></li></ul><p>つぎに前期は赤字なので前々期に支払った法人税と地方法人税の一部を還付してもらう。前々期の所得と支払った法人税、前期の欠損金 (マイナスの所得に対する法人税法上の用語) の3つの数字があれば算出できる。計算してみたら支払った法人税のうち26.4%を還付できることがわかった。算出後に請求書をダウンロードして書類に数字を記入した。</p><h2 id=ストレッチ>ストレッチ</h2><p>いつもは土曜日の10時に通っているが、実家に帰っていたので予定変更。今日から新しいトレーナーさんに師事することになる。今日の開脚幅は開始前160cmで、ストレッチ後162cmだった。昨日、草刈りをして筋肉痛になっていたのでそんなもんかな。腕と腰に張りがあった。新しいトレーナーさんも初めてなのでまずはどこの筋が張っていて、どこの関節が詰まっているかを確認しながら進めていくといった感じだった。話しを聞いていたら、新しいトレーナーさんも前のトレーナーさん同様、筋トレをしていて、週3日ぐらいはやっているらしい。やっぱりトレーナー業をする人は筋トレに興味をもつ人が多いのかもしれない。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2022/0507/>アボカドを植えた</a></h1><div class=post-meta><time class=post-date>2022-05-07</time></div><span class=post-tags>#<a href=/diary/tags/life/>life</a>&nbsp;</span><div class=post-content><p>1時に寝て4時に起きて6時半に起きた。なんか寝付けない。とくに用事があるわけでもないのだけど、たまに実家に帰らないといけないので帰る。病院へお見舞い行って、草刈りして、焼肉食べて、温泉入って実家でくつろいでた。</p><h2 id=アボカドを植える>アボカドを植える</h2><p>1ヶ月半前から水耕栽培を始めたアボカドの種から根が出始めた。いくつか持って帰って土に植えてもらうことにした。<a href=http://www.lifecorp.jp/>ライフ</a> に売っているアボカドは他のスーパーよりも100円ぐらい高いけれど、ハズレがなくておいしい。アボカドはライフでしか買わなくなった。そのアボカドの種なのできっとおいしいアボカドの木になるはず。種から育てると実をつけるには10年ぐらいかかるという。さらに1年おきしか実をつけないみたい。実をつけなくても観葉植物として育てるという趣もあるみたい。</p><ul><li><a href=https://kurashi-no.jp/I0026458>アボカド栽培に挑戦！種から収穫までの上手な育て方をご紹介！剪定方法のコツも！</a></li></ul><figure><img src=/diary/img/2022/0507_avocado.jpg></figure></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2022/0430/>テックブログを更新した</a></h1><div class=post-meta><time class=post-date>2022-04-30</time></div><span class=post-tags>#<a href=/diary/tags/life/>life</a>&nbsp;
#<a href=/diary/tags/blog/>blog</a>&nbsp;</span><div class=post-content><p>23時に寝て1時に起きて3時に起きて7時に起きた。</p><h2 id=ストレッチ>ストレッチ</h2><p>今日の開脚幅は開始前162cmで、ストレッチ後163cmだった。先週より少し数値がよくなった。相変わらず背中や腰の張りは強くてストレッチしてもらっていてなかなか辛かった。昨日は祝日だから早めに切り上げてゆっくりしてたし、ワクチン接種後というのもあるけど、最近は睡眠時間を多く取るようにして安静な生活を送ってたりする。それでもどこかしら張りがあったりする。ストレッチを受けると毎日座ってお仕事をすることの負荷を実感できる。</p><p>今日で1年以上ストレッチをしていただいた <a href=/diary/posts/2022/0402/#ストレッチ>トレーナーさんが転勤</a> で最後。おかげで私は健康に過ごせているので感謝しかない。新しい環境でも活躍してほしい。来週から新しいトレーナーさんになる。それはそれで相対比較ができるのでトレーナーさんの違いもわかると思うから楽しみ。</p><h2 id=コミット連携機能の紹介>コミット連携機能の紹介</h2><p>少し前に対応したんだけど、<a href=/diary/posts/2022/0327/#backlog-と-github-のインテグレーション-action>backlog-github-integration-action</a> でコミット連携ができるようになった。</p><ul><li><a href=https://github.com/kazamori/backlog-github-integration-action/pull/2>Add Push subcommand to integrate commits with backlog #2</a></li><li><a href=https://github.com/kazamori/backlog-github-integration-action/pull/3>Add a feature to change the issue status with commit messages (fix, close) #3</a></li></ul><p>そのことをブログの記事にも書くことにした。1時間もあれば書いてしまえる内容なのに英語で書くというだけで後回しにしてしまう。私は英語を書くときは <a href=https://www.grammarly.com/>Grammarly</a> と <a href=https://www.deepl.com/>DeepL</a> を使って書いている。自分の言いたいことを Grammarly で構文チェックしながら書いて、それを DeepL で日本語訳して意味がとれるかどうかで内容があっているかの確認をするといった感じ。</p><ul><li><a href=https://blog.kazamori.jp/commits-integrate-with-backlog-issue>Commits integrate with Backlog issue</a></li></ul></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2022/0423/>個人開発の日</a></h1><div class=post-meta><time class=post-date>2022-04-23</time></div><span class=post-tags>#<a href=/diary/tags/life/>life</a>&nbsp;
#<a href=/diary/tags/event/>event</a>&nbsp;</span><div class=post-content><p>0時に寝て6時に起きた。午後から昨日作った機能拡張のテストをしながらコードの修正やテストコードを追加したりしていた。</p><h2 id=ストレッチ>ストレッチ</h2><p>今日の開脚幅は開始前161cmで、ストレッチ後161cmだった。先週はワクチン接種後にダウンして寝込んでいて数値が悪かったのが元に戻った感じ。それでもまだ復調にはいたらないのか、右の肩甲骨が硬いのと腰の張りもすごかった。3月からずっとだらだらした生活を送っているのでもうちょっと生活をびしっとしないといけない。インフラエのお仕事を引き受けてから深夜早朝に作業する機会が増えて生活のリズムを崩しているのもあるとは思う。歳をとって体調がよくない日が増えるという話しを聞いたけど、私もストレッチを始める前はそうだったような気がするけど、毎週ストレッチに通うようになってからそういう印象が解消した。もう1年以上通っているから間違っていないと思う。毎週どこそこが悪いといったことも書いたりはしているけど、それはストレッチをする上でのよくないところや前週よりも成果が出ないところの話しであって、日常生活を送る上ではまったく影響はない。ストレッチは正義。</p><h2 id=go-conference-2022-spring-online>Go Conference 2022 Spring Online</h2><p>ストレッチを終えてから <a href=https://gocon.jp/2022spring/ja/>Go Conference 2022 Spring Online</a> に参加した。いくつか発表を聞きながらコードを書いたりもしていた。一番よかったのはたいちさんの <a href=https://drive.google.com/file/d/1lsF7q74o0Akewk-5rUb9Jt9nA2MqpDDw/view>DBアクセスライブラリkra</a> の発表かな。<a href=https://github.com/taichi/kra>taichi/kra</a> というライブラリも知らなかったので機会があれば今度使ってみようという気になった。私も sql 好きだし、orm の弊害の話しも共感できてよかったと思う。orm 使うなという話しではなく、それぞれの用途にあわせて使い分けたい。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2022/0420/>堅牢なインフラコード</a></h1><div class=post-meta><time class=post-date>2022-04-20</time></div><span class=post-tags>#<a href=/diary/tags/life/>life</a>&nbsp;
#<a href=/diary/tags/cdk/>cdk</a>&nbsp;
#<a href=/diary/tags/infrastructure/>infrastructure</a>&nbsp;</span><div class=post-content><p>23時に寝て5時に起きた。</p><h2 id=駐輪場の定期更新>駐輪場の定期更新</h2><p>3ヶ月ごとの更新。ちょうどいまのお仕事の契約と同じ更新月になっている。前回と同じ金額だったのでまだ駐輪場の料金は値上げされていない。世界的にインフレしているのに日本が全然インフレしていない理由の1つとして不動産が値上げしていないからというのを日銀の記事で見かけた気がする。どこかのタイミングで不動産関連の値上げも始まるのかもしれない。</p><h2 id=インフラコードの抜本的リファクタリング>インフラコードの抜本的リファクタリング</h2><p>約2週間かけて、新規インフラ環境の構築、既存インフラの cdk/cf と同期されていなかったインフラ (rds, security group, croudfront, api gateway, waf) の同期など、インフラコードの大きな変更をやり終えた。一部 <code>fromLookup</code> でインポートしているリソースもあるが、いま完全に cdk/cf 管理なインフラとなった。ここからはせっかく cdk でコードを書いているので、モジュール化や共通化など、再利用可能なリソースとして定義して、複数の Stack でコードを再利用するといったリファクタリングをしていく。ひとまずこのことをボーナスステージと呼ぼう。いま完全に同期されたインフラがあるため、インフラ上のリソースの差分が出なければリファクタリングは正しいことが保証される。cdk は <a href=https://docs.aws.amazon.com/cdk/api/v2/docs/aws-cdk-lib-readme.html#dependencies>Stack 間の依存関係</a> も定義できるため、適切な依存関係を定義することでより堅牢なインフラコードとなるはずである。具体的には次のような依存関係になる。然るべき堅牢なインフラコードに書き換えていく。</p><ul><li>DatabaseStack<ul><li>BackendStack<ul><li>GatewayStack<ul><li>FrontendStack</li></ul></li></ul></li></ul></li></ul></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2022/0416/>病み上がり</a></h1><div class=post-meta><time class=post-date>2022-04-16</time></div><span class=post-tags>#<a href=/diary/tags/life/>life</a>&nbsp;</span><div class=post-content><p>半日寝込んでいて3時に起きて7時に起きた。午後から、昨日寝込んでいたときに届いていたレビュー依頼の内容をレビューして、コードのリファクタリングをした。その後、病み上がりで調子が出ないので今日は気分転換しようと決めた。ストレッチを受けているときの、トレーナーさんの同じ体勢でいるのはよくないという言葉を思い出して、自転車でちょっとサイクリングして、その後、漫画喫茶に行って漫画読んでた。</p><h2 id=ストレッチ>ストレッチ</h2><p>今日の開脚幅は開始前158cmで、ストレッチ後160cmだった。昨日は発熱でずっと寝込んでいたせいか、体が硬くなってしまっていていつもよりストレッチを受けていて辛い部位が多かった。トレーナーさん曰く、ずっと同じ体勢でいるのが体にとってよくないとのこと。普段よりも肩甲骨まわりの筋肉が硬くなってしまっていたらしい。病み上がりで体調が整っていないときにストレッチを受けるのも復調させるための準備としてちょうどよかったのかもしれない。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2022/0415/>ワクチンの副反応でダウン</a></h1><div class=post-meta><time class=post-date>2022-04-15</time></div><span class=post-tags>#<a href=/diary/tags/life/>life</a>&nbsp;
#<a href=/diary/tags/founding/>founding</a>&nbsp;</span><div class=post-content><p>3時に寝て6時に起きた。1時までインフラ作業して帰ってきて、ワクチン接種のせいか、あまりうまく眠れなかった。朝に熱を測ったら37.2℃だったのでぎりぎり平熱だった。</p><h2 id=隔週の雑談>隔週の雑談</h2><p>顧問のはらさんと隔週の打ち合わせ。今日の議題は次の通り。徐々に熱が出てきてしんどかったせいか、情報共有の報告程度で終えた。</p><ul><li>今期の予算策定</li><li>次のお仕事を探す段取りの見通し<ul><li>現プロジェクトの区切りが5月末にあることから次の契約更新のタイミング (7月末) で契約終了する可能性がある</li></ul></li><li><a href=/diary/posts/2022/0115/#ワーケーション延期>延期したワーケーション</a> の再計画<ul><li>6月か7月ぐらいがよさそう</li></ul></li></ul><h2 id=ワクチンの副反応>ワクチンの副反応</h2><p>朝オフィスで測ったときは37.2℃でこのぐらいなら普通にお仕事できるかなと始めたんだけど、段々体温が上がってきて10時ぐらいには37.9℃になって、しんどいから一旦家に帰って横になって、デイリースクラムだけ家から参加した。その後もずっと寝込んでた。何回か起きて熱を測ったら最高38.5℃まで上がった。厚労省のサイトによると、3回目の副反応は2回目と同等とある。私は2回目の副反応はここまでひどくなかったのでこの差はファイザーとモデルナの違いなのかもしれない。熱が出て寝込むとか、数年に1回ぐらいの頻度でしか起きない。病気になったらこのぐらいしんどいんだなという、しんどさを思い出すのにちょうどよかったのかもしれない。</p><ul><li><a href=https://www.cov19-vaccine.mhlw.go.jp/qa/0101.html>追加（3回目）接種ではどのような副反応がありますか。2回目より重いのでしょうか。</a></li></ul></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2022/0414/>コロナワクチン3回目</a></h1><div class=post-meta><time class=post-date>2022-04-14</time></div><span class=post-tags>#<a href=/diary/tags/life/>life</a>&nbsp;
#<a href=/diary/tags/infrastructure/>infrastructure</a>&nbsp;</span><div class=post-content><p>22時に寝て3時に起きた6時に起きた。季節の変わり目のせいか、いつも眠い。</p><h2 id=ワクチン3回目接種>ワクチン3回目接種</h2><p><a href=/diary/posts/2021/0927/#コロナワクチン2回目摂取>2回目は昨年の9月27日</a> に接種した。6ヶ月以上経たないといけないので3月27日以降に接種資格を得て、実際に接種券が届いたのが4月7日だった。神戸市は初回のときにまごまごしたので他の自治体よりも遅れている。これまでファイザーを2回接種したので今回はモデルナを受けてみることにした。モデルナを扱っていてネット予約できるもっとも近くの診療所を予約した。オフィスから自転車で15分ぐらいのところ。16:30の予約なのに16時過ぎぐらいに行ったら普通に受け付けしてくれてすぐに接種もできた。16:05に接種終えて16:20まで待機してオフィスに戻ってきて普通にお仕事してた。その1時間半後に熱を測ったら37.0℃だった。その後もやや熱っぽいけど、平気とは言えば平気。</p><h2 id=インフラ移行作業>インフラ移行作業</h2><p>昨日の続き。フロントエンドのテスト環境が壊れる可能性があるため、他メンバーが使っていない夜に移行作業を行う。POの人たちがQA検証を19-21時ぐらいにやっていることが多いので21時以降に作業すると連絡しておいた。なかなか大変だった。最悪の場合、数時間テスト環境を使えませんと伝えていたものの、その通りで4時間ぐらい検証作業をしていた。cloudfront の distribution 設定を CloudFrontWebDistribution から Distribution へ移行して、新しいやり方であるマネージドポリシーを使うようにした。この設定が意図した振る舞いにならなくて検証作業に時間を割いた。</p><p>cloudfront 経由で web api を呼び出すルートがあってキャッシュを無効にしたいのだが、無効にしたキャッシュポリシー (ttl をゼロにする) を作るとヘッダーの設定ができない。次のようなエラーになる。</p><pre tabindex=0><code>The parameter HeaderBehavior is invalid for policy with caching disabled.
</code></pre><p><a href=https://github.com/aws/aws-cdk/issues/13441>(cloudfront): Cache Policy cannot forward Authorization header. #13441</a> によると、maxTTL を1秒にして <code>Authorization</code> ヘッダーをオリジンに転送するようには設定できる。キャッシュメソッドは GET と HEAD なので実運用上は問題ないとは思うが、この回避策がないかどうかを調べて検証していた。結果としてはなかった。<a href=https://docs.amazonaws.cn/en_us/AmazonCloudFront/latest/DeveloperGuide/add-origin-custom-headers.html#add-origin-custom-headers-forward-authorization>Configuring CloudFront to forward the Authorization header</a> には <code>Authorization</code> ヘッダーを転送する方法は次の2通りとある。</p><ol><li>cache key に含める</li><li>Managed-AllViewer という origin request policy をすべての viewer requests に含める</li></ol><p>最終的には1番目のやり方で対応はしたが、2番目のオリジンリクエストポリシーを設定する方法も検証してみた。オリジンリクエストポリシーを単体で設定することはできなくて、キャッシュポリシーも一緒に設定しないといけないことからキャッシュポリシーの設定の影響を受けて意図したように <code>Authorization</code> ヘッダーの転送はできなかった。</p><ul><li>cache policy: Managed-CachingDisabled</li><li>origin request policy: Managed-AllViewer</li></ul></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2022/0409/>開発が遅れる空気</a></h1><div class=post-meta><time class=post-date>2022-04-09</time></div><span class=post-tags>#<a href=/diary/tags/life/>life</a>&nbsp;
#<a href=/diary/tags/information-exchange/>information exchange</a>&nbsp;</span><div class=post-content><p>昨日は0時過ぎまでオンライン飲み会で雑談していて、それから1時に寝て6時過ぎに起きた。</p><h2 id=ストレッチ>ストレッチ</h2><p>今日の開脚幅は開始前161cmで、ストレッチ後162cmだった。今週はインフラエンジニアを始め、深夜と早朝に作業するため、生活が不規則になってしまった。そのせいか、腰と右股関節の張りが強いように感じた。1日は散歩に行ったり、深夜に一駅離れたスーパーに買いものに行ったり、すこし運動っぽいことも生活に取り入れるようにはしている。今週疲弊した身体をストレッチでほぐせたのでまた一週間がんばろうという気持ちになった。</p><h2 id=インフラ作業>インフラ作業</h2><p>昨日からの仕掛り中の作業をテスト環境に反映させた。昼間は環境を壊してしまうとテストや検証作業を止めてしまうリスクがあるため、開発者や業務の人たちが使っていない時間を見計らって環境変更の反映や cdk の検証などをやりたい。必然的に土日も都合がよくて気付いたら2時間半ほど作業してた。</p><h2 id=開発が遅れる空気>開発が遅れる空気</h2><p>私は勘と経験で納期の1-2ヶ月前に開発が完了しないとわかるときがある。これまでなぜわかるのか自分でもよくわかっていなかった。便宜上「遅れる空気を読む」とでも言おう。私だけわかっても他者に伝えられない、もしくは伝えても無視されることが多かったので必要以上に指摘しないようにはしている。伝えて意図がわからない人たちにそれ以上言っても無駄だから。なにかしら条件があるのではないかと思い当たるところを書き出してみる。</p><ul><li>チームメンバー (開発者) にタスクが遅れているという認識がない<ul><li>経験が浅いと見積もりの精度が低いため、全体像に対する進捗を正確に把握できない</li><li>シニア開発者がアドバイスしてもその内容を理解できなくて役に立たないこともある</li></ul></li><li>遅れている開発者が遅れを取り戻すための施策 (たとえば残業) をしない<ul><li>認識していないために残業しないから当然に遅れる</li><li>認識していても残業を嫌う開発者は一切残業しない</li></ul></li><li>未知の問題や状況に対して「わからない」「困っている」といった報告をあげられない<ul><li>心理的安全性が低いと、無能だと思われたくなくて開発者が助けを求められない</li></ul></li><li>マネージャーやリーダーといったスケジュール管理に影響力のある担当者が上位の意思決定者に事実ではなく自身の解釈を述べる<ul><li>例「このタスクは8割程度完了していて、あともう少しで終わりそうです」<ul><li>遅れているタスクはこういう報告が何度もあがる</li><li>「いつ完了しますか？」と尋ねると予定日時を回答できない</li></ul></li></ul></li><li>マネージャーやリーダーが技術に疎く、実務担当者の言うことをそのまま受け入れる<ul><li>経験が浅い開発者の見積もり精度は低いため、大きく計画が狂うことがある</li><li>私はソースコードを読んだ上でこの実装では品質基準を満たさないと判断したりしている</li></ul></li><li>上位の意思決定者と現場のリーダーとの人間関係が希薄だと建前の報告になる<ul><li>心理的安全性が低いと、現場の機微やもやっとしたことが共有されない</li></ul></li></ul><p>こういう空気を私は読んでいて、あるとき「この開発はもう間に合わないですね。」といきなり上長に言い始める。周りはまだ日程に余裕があるのになぜ？とびっくりする。開発って日々の積み重ねなので、日々の活動が正しい努力になっていないと1-2ヶ月後に成果が出ないというのは私からみたら自明だという話し。</p></div></article><div class=pagination><div class=pagination__buttons><a href=/diary/tags/life/page/15/ class="button previous"><span class=button__icon>←</span>
<span class=button__text>最近の日記</span>
</a><a href=/diary/tags/life/page/17/ class="button next"><span class=button__text>過去の日記</span>
<span class=button__icon>→</span></a></div></div></div></div><footer class=footer><div class=footer__inner><div class=copyright><span>© 2024 Powered by <a href=https://gohugo.io>Hugo</a></span>
<span>:: <a href=https://github.com/panr/hugo-theme-terminal target=_blank>Theme</a> made by <a href=https://github.com/panr target=_blank>panr</a></span></div></div></footer><script type=text/javascript src=/diary/bundle.min.js></script></div></body></html>