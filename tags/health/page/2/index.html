<!doctype html><html lang=en><head><title>Health :: </title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=/diary/tags/health/><link rel=stylesheet href=/diary/styles.css><link rel=stylesheet href=/diary/style.css><link rel="shortcut icon" href=/diary/favicon.ico><meta name=twitter:card content="summary"><meta name=twitter:site content="t2y"><meta name=twitter:creator content><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:title" content="Health"><meta property="og:description" content><meta property="og:url" content="/diary/tags/health/"><meta property="og:site_name" content><meta property="og:image" content="/diary/favicon.ico"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><link href=/diary/tags/health/index.xml rel=alternate type=application/rss+xml title></head><body class=green><div class="container full headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=/diary><div class=logo>forest nook</div></a></div><ul class="menu menu--mobile"><li class=menu__trigger>Menu&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=/diary/about>自己紹介</a></li><li><a href=/diary/dates>月別一覧</a></li><li><a href=/diary/tags>タグ一覧</a></li></ul></li></ul></div><nav class=navigation-menu><ul class="navigation-menu__inner menu--desktop"><li><a href=/diary/about>自己紹介</a></li><li><a href=/diary/dates>月別一覧</a></li><li><a href=/diary/tags>タグ一覧</a></li></ul></nav></header><div class=content><h1>Posts for: #Health</h1><div class=posts><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/1028/>光るシャトル雑感</a></h1><div class=post-meta><time class=post-date>2024-10-28</time></div><span class=post-tags>#<a href=/diary/tags/badminton/>badminton</a>&nbsp;
#<a href=/diary/tags/business/>business</a>&nbsp;
#<a href=/diary/tags/health/>health</a>&nbsp;</span><div class=post-content><p>今日のバドミントン練習は公園で軽く打ち合いを15分ほどした。昨日は疲れて休んでしまってオフィスへもっていくご飯も炊いてなかった。お仕事もバタバタしていてほとんど何も食べずに夜まで過ごした。</p><h2 id=光るシャトルの試し打ち>光るシャトルの試し打ち</h2><p>シャトルのコルク部分に LED がついた光るシャトルがある。amazon で検索してみつかるのはほとんど中国製で安かろう悪かろうな印象を受ける。試しに買ってみて4個で561円だった。注文してから届くまで3週間ほどかかった。amazon の配送状況もトレースできていなくて今週中に届かなければ返金しますというステータスになってから郵便受けに届いていた。値段も安いからシャトルの品質は粗悪なモノだった。軽く練習で使うならいいんじゃないかと私は許容範囲。</p><p><a href=https://amzn.to/3A9iGbT target=_blank><img src=https://m.media-amazon.com/images/I/61w9P9l-6vL._AC_SX425_.jpg width=120></a></p><p>バドミントンのシャトルを打ち合いするには公園の街灯は光量不足でみえない。光るシャトルなら軌跡を追いかけられる。慣れればそれっぽく打ち合いできそうな雰囲気はした。今日は雨上がりで地面が濡れていたのと風も少しあったので軽く試し打ちにとどめた。また天気のよい日を探してやってみようと思う。なにもしないよりはラケットの制御やシャトルを打ち返す感覚を養うために使うのはよいと思う。一方で打ち合いするにはそんなレベル感で一緒にやってくれる人を探さないといけない。相手を探す方が難しい気はする。</p><p>電池交換は不可で10時間ほどで電池がなくなる。おそらくコルクに LED を取り付けたものだと状況によってはすぐ壊れるだろう。安いから使い捨てでも構わないが中国から取り寄せになるから購入に時間がかかる。品質のよい既存のシャトルに自分で電子工作して LED を取り付けたりできないやろか？と考える。そうすれば電池交換や修理対応も自分でできてコストも削減できて、品質がよければ他の人にも関心をもってもらえるかもしれない。</p><h2 id=お風呂ウォーキング>お風呂ウォーキング</h2><p>光るシャトルの試し打ちを付き合ってもらってから、ながいさんと <a href=https://nagisa-u.com/>HATなぎさの湯</a> へ歩いて行ってきた。往復してきて15,000歩を超えていた。<a href=/diary/posts/2024/0326/#晩ご飯を食べて温泉へ入ってくる散歩コース>前回は3月26日に行っていた</a> から半年ぶりになる。もう半年以上も経っていることに日記から気付く。毎日なにかしらに追われて生活しているとすぐ半年や1年がたってしまう。時間が早い。いつでも行けるはずなのに予定を作らないと私はなかなか行けない。ここのお風呂は温度はぬるめ。熱いお風呂が苦手な私でもゆっくり入れる。月曜日のせいか空いていた。最近はシャワーで済ます日の方が多く、お風呂はたまにしか入らない。久しぶりに足を伸ばしてお風呂に入ってリフレッシュできた。あと県立美術館前の広場やスペースも人がいなくてバドミントンの練習をするにはよさそうにもみえた。人が来なくて広いスペースを自然に探すようになってきた。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/1026/>雑多な作業をして休んでいた</a></h1><div class=post-meta><time class=post-date>2024-10-26</time></div><span class=post-tags>#<a href=/diary/tags/founding/>founding</a>&nbsp;
#<a href=/diary/tags/health/>health</a>&nbsp;</span><div class=post-content><p>今日のバドミントン練習はエアシャトルでリフティングを20分した。短い時間でも連続最大回数は244回できた。他に連続100回超えも2回ほどできた気がする。ゆっくり慎重にやれば200回を超すのはできるようになってきたのかもしれない。安定的にリフティングできるようになってきた。</p><h2 id=社用車の車検3ヶ月前点検>社用車の車検3ヶ月前点検</h2><p><a href=/diary/posts/2024/0713/#社用車の15年点検>前回の定期点検はここ</a> 。10時からディーラーさんへ点検にもっていく。お店で点検完了を1時間待つ。最近は月に1-2回ほどしか乗っていないのもあってバッテリーの残容量が48%と低いといったところだけ指摘された。この3ヶ月後に車検がある。もう購入してから2年経つんやな。月日が流れるのは早い。同時に車検の見積もりもしてもらってフル整備で 186,538 円になるという。いくつか必須ではない部品交換や作業を省くと1-2万円ぐらいは安くなるとのこと。さらに <a href=https://www.honda.co.jp/ciao/>まかせチャオ SSコース</a> が 81,690 円となる。これは次回の車検までの4回分の6ヶ月点検の費用を先払いするようなパッケージ。もう2年も乗っていて調子のよい車を6ヶ月ごとに点検する必要はあるのか？という点に懸念がある。私の用途だとそんなに距離走っていないし点検を減らしてよいのでは？という気はしている。整備士さんの立場からは安全のためには6ヶ月ごとに点検するのを推奨している。</p><p>走行距離の推移は次の通り。</p><ul><li>購入時: 49,426 km</li><li>6ヶ月点検: 50,156 km</li><li>12ヶ月点検: 52,594 km</li><li>18ヶ月点検: 53,056 km</li><li>21ヶ月点検: 53,429 km</li></ul><h2 id=開発合宿の資料づくり>開発合宿の資料づくり</h2><p>もう来週に迫った開発合宿の旅のしおりを今日作った。これまでも作る時間はたくさんあったのだけど、体調が悪くて手が動かなくてずっと先送りしてきた。ようやく資料を作り終えられて準備が前に進んで素直によかった。いつも晩ご飯にみんなで鍋を作っている。これまでは海鮮鍋を作ってきたが、今回は趣をかえてすき焼きを作ろうと予定している。すき焼きは関東風と関西風の2種類の作り方がある。うちの家は煮込む方の関東風のすき焼きだった。参加者でどちらがよいかを聞いていたら関西風は知らないという話題になって逆に関西風を作ってみようという雰囲気になっている。</p><div class=video-container><iframe src=https://www.youtube.com/embed/6UlpXbVcyR0 allowfullscreen title=【お肉のプロが教える】本格すき焼き（関西風）の作り方！></iframe></div><h2 id=ストレッチ>ストレッチ</h2><p>先週の <a href=/diary/posts/2024/1020/>バドミントン練習</a> でころんで腰を痛めたのがまだ続いている。日常生活に影響はないものの、たまに腰を曲げた姿勢によっては腰に鈍痛が響く。出張中もホテルで寝起き時に腰が痛いなと感じていた。トレーナーさんにも相談してストレッチでみてもらったら腰の奥側の筋に張りがあるようだ。右がひどいが、左もやや張りがある。右をかばって左にも影響が出ているのかもしれない。今日の開脚幅は開始前148cmで、ストレッチ後153cmだった。出張明けでカラダに疲労が溜まっているし体調もよくなかったのでそんなもんかもしれない。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/1020/>バドミントンの基本練習</a></h1><div class=post-meta><time class=post-date>2024-10-20</time></div><span class=post-tags>#<a href=/diary/tags/badminton/>badminton</a>&nbsp;
#<a href=/diary/tags/exercise/>exercise</a>&nbsp;
#<a href=/diary/tags/health/>health</a>&nbsp;</span><div class=post-content><p>今日のバドミントン練習は磯上体育館で9時から12時半頃まで3時間ほど練習できた。ひとりでリフティング練習をするよりも相手がいて打ち合いする方がずっと楽しい。午前中にしっかり動いたので2万歩を超えて昨日の消費エネルギーは4500カロリーを超えた。</p><h2 id=体育館でバドミントン>体育館でバドミントン</h2><p><a href=/diary/posts/2024/0918/#体育館でバドミントン>前回の所感</a> 。磯上体育館では月に2回ぐらい個人利用という先着順で予約できる仕組みがある。8時過ぎに磯上体育館へ行ったらすでに2組並んでいた。先頭の方は9時から2面予約するという。私は3番目で並んでいた。8時半頃には10人以上後ろに並んでいたので8時頃に行くと確実に予約できると思う。事務側も本当は9時から受付だけど、並んでいるせいか8時45分頃から予約受け付けしてれくた。こうやって予約を取るためにどんどん並ぶ時間が早くなっていくのかもしれない。</p><p>先頭に並んでいたシニアの方が気さくに周りに声をかけていて、話しているうちに仲良くなってその人たちの9時からの練習に混ぜてもらうことになった。ベテランのシニアな方で経験もあって教え方もとても上手だった。丁寧に教えてくれてすごく勉強になった。来週も個人利用で9時から借りると話されていたのを聞いて来週も練習に混ぜてもらうことにした。今日は3つの打ち方の基本を教えてもらいながら練習した。</p><ul><li>クリア<ul><li>コートの奥から相手のコート奥へ大きく前方へ打ち返す</li></ul></li><li>ドロップ<ul><li>クリアを同じ打ち方でコートの奥からネットを超えた前方位置へゆるく落とす</li></ul></li><li>プッシュ<ul><li>ネット前で浮いた球を下方に叩きつけるような打ち方になる</li></ul></li></ul><p>打ちながら、私のラケットの振り方や持ち方のよくないところを指摘してもらった。我流でやっていたからちゃんとした知識やフォームを教えてもらえるのは本当にありがたい。教えてもらったことで覚えていることを書いておく。</p><ul><li>足は肩幅に開いて準備をする<ul><li>まだ言語化できないが、右足/左足の使い方について説明されてた</li><li>足の親指部分にチカラを入れてコントロールするように話されていた</li></ul></li><li>フットワークと足の位置を意識してみる<ul><li>私は無意識に一歩目は左足から動いてしまう<ul><li>フォアハンドで打つときは右足から動いた方が速いのかもしれない</li></ul></li></ul></li><li>シャトルが来てから動くのではなく、来る前から位置を予測して動いて備える</li><li>ラケットを振るときに左手をあげてカラダのバランスをとる<ul><li>基本として左手をどう使うのかがすごく大事とのこと</li><li>左手を下げない、肘を90度にまげてあげるのに備えておく</li><li>手首をまげずに固定してラケットを振る</li></ul></li><li>ラケットは親指と人差し指でつまむ気持ちで軽くもち、シャトルを打ち返す瞬間だけ握る<ul><li>この感覚で打ち返すと真っ直ぐ強い打球を返せるようになった</li><li>バックハンドで返すときも同様でシャトルを打つ瞬間だけ握り込んで止めるような感覚で返す</li></ul></li><li>向かってくるシャトルに対してカラダの正面でとらえて打つ<ul><li>この位置を固定にすることで安定して打ち返せる気がする</li></ul></li></ul><p>1時間ちょっと練習の指導をしてもらって30分ほどダブルスの試合をした。私は下手だからすぐ失敗してラリーが止まってしまう。試合形式になると簡単そうにみえるシャトルの打ち返しも緊張や前後左右の動きの中で失敗してしまう。練習でできないことは試合では絶対にできない。ラリーを止めてしまって他の人たちに悪いなと罪悪感を感じるし、練習する方がたくさんシャトルを打つことができて楽しい。もう少し上達するまでは試合は棄権しようかなとも思う。11時からいとうさんが来られて、前の時間帯に教えてもらった打ち方を意識しながらひたすら打ち合いの練習をしていた。その前の練習で教えてもらったことをゆっくり反復する時間をとれてこの時間もよかった。基本の打ち方を教えてもらった通りにやっていると狙ったところにうまく返せる回数が増えたように感じた。</p><h2 id=ストレッチ>ストレッチ</h2><p>先週は実家へ帰ってストレッチをお休みして2週間ぶり。午前中にバドミントンの練習をたくさんして疲れていたのと、試合をしているときにころんで足と腰を少し痛めていた。その部位を伸ばす意図でもストレッチしてもらってちょうどよかった。運動して筋肉痛もある状態でストレッチするとよく伸びて、その日の睡眠もよく取れるし疲労回復も早くなる。今日の開脚幅は開始前146cmで、ストレッチ後155cmだった。ストレッチ前は筋肉痛で伸びないのがストレッチ後によく伸びていることが伺える。トレーナーさんはサッカーをずっとされていた方なのでたまたまはてブでみかけた町田ゼルビアの記事を話題にしたら盛り上がった。この著者の記事が3つもあがっているようにいまホット話題ではあるらしい。</p><ul><li><a href=https://note.com/shv12/n/nab3420c578d4>なぜ町田ゼルビアは叩かれるのか？ここ2年の出来事を振り返る③</a></li></ul><p>ストレッチを終えて晩ご飯を食べた後にオフィスで作業しようと思っていたものの、家に帰ったら疲れてそのまま休んでしまった。体調が悪いわけでもないのに、最近はやらないといけないことをがんばる気力がなくなっている。なにか内からのやりたいが出てこない。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/1005/>風がなければ公園でバドミントンもできそう</a></h1><div class=post-meta><time class=post-date>2024-10-05</time></div><span class=post-tags>#<a href=/diary/tags/badminton/>badminton</a>&nbsp;
#<a href=/diary/tags/exercise/>exercise</a>&nbsp;
#<a href=/diary/tags/health/>health</a>&nbsp;
</span><img src=/diary/img/2024/1005_net.jpg class=post-cover alt=風がなければ公園でバドミントンもできそう title="Cover Image"><div class=post-content><p>先日購入した <a href=/diary/posts/2024/0929/#ポータブルネット>ポータブルネット</a> を使って公園で屋外バドミントンを1時間ほどした。持ち運びするときの折り畳み状態が次になる。筒の中に紐が通っていてバラバラにならないので簡単に組み立てできる。初見でも2分あれば組み立ても片付けもできる。予想以上に組み立て／片付けの体験がよかった。</p><figure><img src=/diary/img/2024/1005_fold.jpg></figure><h2 id=みなとのもりの運動>みなとのもりの運動</h2><p><a href=/diary/posts/2024/1004/#みなとのもりの運動>前回の所感</a> 。水曜日に運動部の slack チャンネルに投稿していた。とがいさんが久しぶりにバスケの練習に来られた。9時から準備を始めて10時から公園で運動する。土曜日の午前中に運動の予定を入れるのは朝ちゃんと起きる理由にもなってよい。予定がなければ、お昼までだらだらしてしまっていたかもしれない。私はトラックを4周ジョギングしてストレッチをしてからバドミントンのひとり練習をしていた。とがいさんもバスケ練習が終えてから合流して一緒にバドミントンの練習もした。10時半頃から軽くウォームアップして、ネットを挟んで打ち合いをした。ネットがあるとバドミントンの練習をするモチベーションにもなるし、場所を固定するのにもよい。太陽とシャトルが重ならないような位置取り、風の向きなども考慮して場所を決めないといけない。2回休憩して11時半頃まで打ち合いの練習をして終えた。よい運動になった。</p><p>バドミントンは体力さえ続けば1時間ぐらいなんとなくでやってしまう。誰でもできる有酸素運動としてよさそうにみえる。テトリスのような、シンプルなゲームだからついついやり続けてしまう魅力がある。</p><h2 id=ストレッチ>ストレッチ</h2><p>今週は毎日30-60程度はバドミントンの練習をしてきて汗をかくぐらいには運動してきて太ももに張りを感じていた。ゆっくりやっているつもりでもたまにチカラが入ってしまうときもある。以前 <a href=/diary/posts/2024/0707/#右股関節の診察>SPINE SALON さんで診察</a> してもらったときの状況に似ている。また筋が少しズレているのかもしれない。運動を再開してからはこのときに教えてもらった体操もしていた。トレーナーさんも気遣ってくれて右太ももを念入りにゆっくり伸ばしてくれた。そのせいか、ストレッチ前と比べてずいぶん楽になった。今日の開脚幅は開始前146cmで、ストレッチ後154cmだった。少し休みながら様子をみてみようと思う。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/0928/>バドミントンのひとり練習</a></h1><div class=post-meta><time class=post-date>2024-09-28</time></div><span class=post-tags>#<a href=/diary/tags/refactoring/>refactoring</a>&nbsp;
#<a href=/diary/tags/health/>health</a>&nbsp;
#<a href=/diary/tags/politics/>politics</a>&nbsp;
#<a href=/diary/tags/badminton/>badminton</a>&nbsp;</span><div class=post-content><p>今日のバドミントン練習はリフティングを30分した。連続最大回数は27回だった。</p><h2 id=最後の厄介なリファクタリング>最後の厄介なリファクタリング</h2><p>10時頃に起きて11時にはオフィスへ来て作業をしていたと思う。昨日ジョギングと筋トレしたから寝起きジョギングはやめて普通にオフィスへ行って作業していた。この issue はどこまでリファクタリングするかの決めの問題もあり、少し寝かせてあった。私のもてるスキルを駆使して思い切りやることを決めて土日で大半を終わらそうと思う。いくつかの葛藤と逡巡を振り払って着手はした。昼間は既存のコードの本質的な問題の分析、再設計のための要項の調査、軽くコードを書きながらの感触の確認などをしていた。その後、ストレッチに出掛けて戻ってきてから続きをやるつもりが、いろいろ雑務をやっていたら22時ぐらいになってしまってまた明日でいいやと諦めた。モチベーションが足りない。一回休み。</p><h2 id=ストレッチ>ストレッチ</h2><p>昨日、久しぶりに筋トレをして夜は全然平気だったのに寝て起きたらあちこち全身筋肉痛でストレッチもかなりきつかった。悪い痛みではないから筋肉をほぐしてもらった感じになる。今日の開脚幅は開始前146cmで、ストレッチ後153cmだった。筋肉痛だから硬めのように思えたが、数字だけ比べたら普段とそんなに変わらなかった。</p><p>トレーナーさんと自民党の総裁選挙の話題になって、一通りニュースをみて私も思うところはあったものの、政治的な話題のやり取りする場所がないから誰と話すこともないだろうとしまいこんでた矢先、トレーナーさんから話題が出てきたのでいろいろ話してみた。石破さんは自民党内で嫌われているから決戦投票で勝てないだろうという大方の見通しを覆したのは見事だったし、石破さんは良識なリベラル、且つ金融所得課税の強化に前向きだったりもするから市場の反応は悪い。これまでは総理大臣が変わったタイミングはご祝儀相場のように歓迎されることが多かったのに対して、月曜日は株価が急落するようにみられている。これほど市場からネガティブな反応が出るのも珍しいなという所感。余談だが、私はいまどちらのポジションもとっていないので株価が下がってもあまり影響はない。個人的にはシステムへの理解が深いという側面だけで河野さんを応援しているものの (一方で官僚に対するもの言いがパワハラ的なところがマイナス)、今回は後ろから2番目と不人気だった。日本では自民党総裁=総理大臣なわけではあるが、政治家が影響力をもつタイミングというのは本当に難しい。石破さんも5回目の総裁選ということで悲願が叶ってよかったんじゃないかと応援したい。</p><h2 id=ひとりでできるバドミントンの練習>ひとりでできるバドミントンの練習</h2><p>ストレッチを終えてから <a href=/diary/posts/2024/0927/#ラケット選び>購入したラケットを受け取り</a> してきた。試し打ちではないけど、買ったばかりで使ってみたいから KALIDIA チャンネルから1人でできる練習を探してみた。次の練習はラケットとシャトルとの距離感を掴むための練習になるという。なるべく日課としてしばらく続けてみたい。</p><ol><li>シャトルのキャッチ</li><li>バドミントンの技を3つ行う<ul><li>スピンネット</li><li>ミニクロスネット</li><li>ロビング</li></ul></li><li>リフティング</li><li>屋外で向かい風に向かってロビングを打つ</li></ol><div class=video-container><iframe src=https://www.youtube.com/embed/QJx8jHvzqFQ allowfullscreen title=「素振り」や「壁打ち」以外の上達に必要な力が身につく一人で出来る練習方法【バドミントン】></iframe></div></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/0921/>よい土曜日</a></h1><div class=post-meta><time class=post-date>2024-09-21</time></div><span class=post-tags>#<a href=/diary/tags/exercise/>exercise</a>&nbsp;
#<a href=/diary/tags/badminton/>badminton</a>&nbsp;
#<a href=/diary/tags/health/>health</a>&nbsp;
#<a href=/diary/tags/coworking/>coworking</a>&nbsp;
#<a href=/diary/tags/book/>book</a>&nbsp;</span><div class=post-content><p>土曜日はだらだらしがちなのが、今日は朝から起きて活動できた。お昼に少しコードを書いて、夕方にストレッチして、夜はカフーツさんへ行ってきた。よい一日になった。</p><h2 id=みなとのもりの運動>みなとのもりの運動</h2><p><a href=/diary/posts/2024/0907/#みなとのもりの運動>前回の所感</a> 。起きてからシャワーを浴びようとしたときにふと軽く走ってこようと思い立って9時過ぎから公園へ出掛けてトラックを3周ほどジョギングしてきた。公園に近いマンションに引っ越したことのメリットを活用できた。運動するとそれだけで報酬系を刺激して気分がよい。これまでは起きてもしんどくて出掛ける余裕がなかった。ジョギングへ出掛けられるぐらいには体力が回復してきたのかもしれない。来週も朝からジョギングへ出掛けてみたい。</p><h2 id=ラケット選び>ラケット選び</h2><ul><li><a href=https://www.ganbaranai-bad.com/c/sp_racket>バドミントンラケットの選び方</a></li><li><a href=https://tetsu-bado-minton.com/%E3%80%90%E3%83%90%E3%83%89%E3%83%9F%E3%83%B3%E3%83%88%E3%83%B3%E3%80%91%E3%83%88%E3%83%83%E3%83%97%E3%83%A9%E3%82%A4%E3%83%88%E3%83%A9%E3%82%B1%E3%83%83%E3%83%88%E3%81%A8%E3%81%AF%EF%BC%9F%E3%81%8A/>バドミントンラケットのヘッドライトラケットとは？最新のおすすめ16選も紹介！</a></li></ul><p>うちらの業界で言えば未経験者が「どのプログラミング言語を学べばよいですか？」という質問の答えになる。私なら一番無難なのは typescript で、データ分析や汎用用途で学ぶなら python、バックエンドが好みなら go といったようにお奨めする。こういう答えのない問いは経験者にこれと決めてもらうのがよい。ラケット選びのサイトをみてもパラメーターがいくつかあるのは理解できたが、最初にどのラケットを選択してよいかがわからない。経験者のやまとさんに相談してみた。エントリーモデルの、価格帯は1万円前後のものでよいという。振った感じで合う合わないがあったりするから、お店へ行って店員さんに相談したり試し打ちさせてもらったりするのがよいとのこと。相談に乗ってくれる近所のバドミントンショップを教えてもらった。モチベーションを上げていく意図で道具を揃えていくのもよいと思う。</p><h2 id=ストレッチ>ストレッチ</h2><p><a href=/diary/posts/2024/0918/#体育館でバドミントン>水曜日にバドミントン</a> をしたことによる筋肉痛が残っていた。腰や背中のあちこちが痛かった。あと右腕や右肩もバドミントンでラケットをたくさん振ったことによる影響で張りや硬さがみられた。運動した張りをストレッチでほぐすようなサイクルになれば健康にもよさそうにみえる。今日の開脚幅も開始前149cmで、ストレッチ後153cmだった。</p><h2 id=カフーツさん訪問>カフーツさん訪問</h2><p>ストレッチを終えてからビールとおつまみをもって久しぶりにカフーツさんへ行ってきた。先週末にだらだらしてしまったからその反省も踏まえて出掛けることにした。ちょうどバドミントンのイベントをよく手伝ってくれている方がいて、あちこち友だち探しをしているようにみえるのでその一つとしてカフーツさんを紹介していて <a href=/diary/posts/2024/0717/#キャンプ飯部と居場所>以前にもキャンプ飯部</a> に参加していた。知っている人がいないとなかなか参加しにくいと伺っていたので一緒に参加してきた。しかし、参加者内で女性1人なってしまって、これはこれで居心地が悪そうにもみえた。他に女性の参加者が何人かいそうなカフーツさんのイベントを紹介した方がよかったなと反省した。</p><p>書店というビジネスの在り方について、いとうさんと議論していて、この本を読めと <a href=https://coriolisbooks.stores.jp/items/668652e4444fad00327f84ef>取り戻す旅</a> という本を貸してくれた。本当は自分で買ってよいのだけど、なんとなくそのまま借りてみた。読んで内容がよかったら買ってみようと思う。本書では <a href=https://www.cultipay.net/about/>Culti Pay(カルチペイ)</a> という取り組みをしていて <a href=https://www.minna-no-ginko.com/>みんなの銀行</a> を介して著者に投げ銭のようなこともできるという。新しい価値観に触れるという意図でも読み終えた後でやってみようと思う。</p><ul><li><a href=https://note.com/kanzan10to9/n/ne730028c9861>カルチペイはただの送金システムではなく新しい経済圏を作っている：今日のアウトテイク#310（2024-09-23）</a></li></ul></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/0914/>連休の初日</a></h1><div class=post-meta><time class=post-date>2024-09-14</time></div><span class=post-tags>#<a href=/diary/tags/health/>health</a>&nbsp;</span><div class=post-content><p>昨日も2時頃までコードを書いていて帰って寝たらお昼ぐらいまで寝ていた。ストレッチ終えてからコードを書こうと思っていたものの、モチベーションがあがらなくてだらだらしていた気がする。</p><h2 id=ストレッチ>ストレッチ</h2><p>今週もデスクワークの時間が長かったせいか、軽く腰の張りを感じた。トレーナーさんからも運動不足からカラダの硬さがみえるといった指摘があった。先週はレビューの時間が多くてあまり時間を時間を取れなくて業務があまり進捗しなかった。そのストレスもあってなのか、また生活の余裕がなくなってきた。今日の開脚幅も開始前149cmで、ストレッチ後153cmだった。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/0907/>集中力の正体</a></h1><div class=post-meta><time class=post-date>2024-09-07</time></div><span class=post-tags>#<a href=/diary/tags/audio-media/>audio media</a>&nbsp;
#<a href=/diary/tags/exercise/>exercise</a>&nbsp;
#<a href=/diary/tags/health/>health</a>&nbsp;
#<a href=/diary/tags/programming/>programming</a>&nbsp;
#<a href=/diary/tags/motivation/>motivation</a>&nbsp;
#<a href=/diary/tags/psychology/>psychology</a>&nbsp;</span><div class=post-content><p>昨日は20時半頃にお仕事を終えて帰った。スーパーで買いものして、家に帰って晩ご飯を作って食べて、休んだらオフィスへ戻るつもりがそのまま寝てしまった。</p><h2 id=メッセージ作成>メッセージ作成</h2><p>年一ゲストとして出演している <a href=https://podcast.terapyon.net/>terapyon channel</a> の <a href=https://terapyon.connpass.com/event/326314/>100回記念公開収録</a> があった。いつもお世話になっているので私は参加できないがカンパ枠で応援していた。昨日てらださんから音声メッセージを作ってほしいと依頼され、本当は昨日の夜に作ろうと思っていたものの、疲れて寝てしまったので朝起きてから慌ててオフィスへ行って作成した。ubuntu の apt でインストールできるツールとして <a href=https://www.audacityteam.org/>audacity</a> を使って録音した。簡単に使えた。お祝いのメッセージを文章に書き出して、マイクテストも含めて最終的には7回撮り直した。文章を書いてから、話してみると、流れが悪かったり、語呂が悪かったり、途中で詰まったり、かんでしまったりと、なにか気になるところをみつけて、文章を推敲して録音しながら1時間ほどやってた。録音して聞き直すと、いかに自分の話し方が下手であるかがよくわかる。話し方を練習しないとうまくならないのだろうな。</p><h2 id=みなとのもりの運動>みなとのもりの運動</h2><p><a href=/diary/posts/2024/0724/#みなとのもりの運動>前回の所感</a> 。14時頃に作業を終えてストレッチまで1時間ほど時間が空いた。ふと運動してからストレッチへ行くとよさそうだと思い立ってジョギングと縄跳びをしてきた。前回が7月24日なので1ヶ月半ほど運動していなかった。1kmほどジョギングしてから縄跳びを15分間した。以前と比較したら軽めに流したにも関わらず、久しぶりに運動したら体力が落ちていてかなりバテた。習慣的に運動していないとすぐに衰える。久しぶりに運動できたので、また再開するきっかけになるかもしれない。</p><h2 id=ストレッチ>ストレッチ</h2><p>今日の開脚幅も開始前148cmで、ストレッチ後152cmとあまり数値は出なかった。直前に運動して行ったのでよく伸びるかな？と予測したものの、測ってみるとそうでもなかった。それでも運動した後にストレッチを受けるのはカラダによさそうにも思える。ここ1ヶ月半ほど運動できていないものの、体重は67kg台を維持していて体脂肪率や筋肉量はあまり変わっていない。トレーナーさんとそういう話をしていたら、筋肉は落ちにくくつきにくいから1ヶ月ではそんなもんとのこと。</p><h2 id=プログラミングの集中力と生産性への考察>プログラミングの集中力と生産性への考察</h2><p>ストレッチを受けているときにトレーナーさんと話していて思うことがあったのでまとめておく。いまの開発フェーズは開発者としてプロジェクトに参加している。平均すると1日10時間ぐらいお仕事していて、早く帰る日もあるから遅い日は日付が変わるぐらいまではコードを書いていることがある。家に帰ると休んでしまうからオフィスで晩ご飯を食べることも多い。なぜプログラミングに集中していると運動ができないのか？を考察してみた。</p><ul><li>他の余分なことを排除すると集中力が増す</li></ul><p>いまやっている開発のお仕事は1日で完了するような簡単な開発ではない。1年半開発しているので残っている課題は厄介で複雑な問題への対応であることが多い。新規機能を追加するときも既存機能や仕様や依存関係を考慮しないといけない。そうすると2-3日かけて課題を解決することが多い。そのときに他の余分なことを排除した方が脳のリソースを課題解決に割り当てられる。通勤しているときも、寝ているときも、ご飯を食べているときも取り組んでいる課題のことを四六時中考えている。他のことに脳のリソースを割くと課題解決の品質が下がる可能性が高い。ずっと考え続けることが複雑な問題の課題解決に重要となる。</p><ul><li>システム開発とはタイムアタック競技である</li></ul><p>システム開発のプロジェクトマネジメントにおいてもっとも重要な概念はタイムボックスだと私は考えている。適度な期間 (うちは2週間) を設け、モノゴトに取り組む最初と最後を作ること。認知心理学の研究からも記憶の仕組みからも期間の最初と最後がもっとも学習効果が高いことを示唆している。このことは私の経験則においてもシステム開発で当てはまる。作業期間が適切でないと人間はだらだらしてしまう (<a href=https://ja.wikipedia.org/wiki/%E3%83%91%E3%83%BC%E3%82%AD%E3%83%B3%E3%82%BD%E3%83%B3%E3%81%AE%E6%B3%95%E5%89%87>パーキンソンの法則</a>) 。プログラミングにおいて動くのは当たり前で、動いた上でいかに品質をあげられるかが腕の見せ所になる。エラー処理を適切に制御できているか、他人がコードを読んでも理解しやすく保守しやすいか、将来の拡張性を考慮して設計されているか、など品質をよくするための取り組みには答えがない。仕事ができる・できないを分ける行動の1つとして、答えのない問いにどれだけ準備できるか、考え続けられるかと言い換えられるかもしれない。答えがないからいくらでも品質をあげるための施策がある。しかし、現実の業務には期限があるため、期限内に最善の品質を目指すことになる。そのため、タイムボックスでシステム開発をマネジメントする限り、いつもタイムアタック競技をしているのと同義になるから時間が足りない。</p><p>プログラミングはいつも妥協を強いられる。完璧で最高のシステムなどありえない。その時々で開発途中における最善の動くものをスナップショットとしてバージョン管理しているに過ぎない。この妥協するレベルが私にとってはマネージャーと開発者という役割で大きく異なるのだろうと思う。マネージャーとしての遊撃なら先送りできても、開発者としては多少の負荷があっても解決してしまう。自身の基準を満たす働き方に違いがあるのではないかと思う。言語化してみると、この考え方はプログラミングに限らず、そのときに取り組む対象によって何にでも応用できそうに思う。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/0831/>その後の台風の影響</a></h1><div class=post-meta><time class=post-date>2024-08-31</time></div><span class=post-tags>#<a href=/diary/tags/health/>health</a>&nbsp;
#<a href=/diary/tags/comic/>comic</a>&nbsp;
#<a href=/diary/tags/history/>history</a>&nbsp;</span><div class=post-content><p>台風の影響で昨日も今日も終日、新幹線は取りやめになっていた。<a href=/diary/posts/2024/0829/>木曜日に帰ってこれた</a> ことには大きな意味があった。本当に助かった。</p><h2 id=ストレッチ>ストレッチ</h2><p>今日の開脚幅も開始前149cmで、ストレッチ後156cmと普段通りの数値だった。運動できていないので筋肉痛もなく、デスクワークの疲労ぐらいしかない。いつも通りトレーナーさんと雑談して硬くなったカラダをほぐしてもらう感じだった。今週は出張していたのと、出張中の業務時間も普段より少なかったのでとくに疲労がたまっているわけでもなかった。運動せず筋肉痛もなくストレッチを受けるともったいないような気分にもなってきた。いまの開発フェーズが終わったらまた運動を再開できるかなぁ。</p><h2 id=成就しない結末への期待>成就しない結末への期待</h2><p>今期のアニメで <a href=https://nigewaka.run/>逃げ上手の若君</a> を見始めた。最初は「ながら」でみていたせいか、あまりぱっとしなかったものの、改めてちゃんと数話を見返したらおもしろい作品だと思えた。もともと私は歴史漫画が好きなので歴史ジャンルというだけでもみてしまう。著者の <a href=https://ja.wikipedia.org/wiki/%E6%9D%BE%E4%BA%95%E5%84%AA%E5%BE%81>松井優征</a> さんの作品は過去に「暗殺教室」を読んだこともあって好きな漫画家の1人でもある。したがって、私はもともとこの作品を知っていたし、関心をもっていた。いままで読んでいなかっただけ。主人公は <a href=https://ja.wikipedia.org/wiki/%E5%8C%97%E6%9D%A1%E6%99%82%E8%A1%8C>北条時行</a> という、室町幕府が成立する時代の、鎌倉幕府最後の北条家の跡継ぎになる。<a href=https://ja.wikipedia.org/wiki/%E8%B6%B3%E5%88%A9%E5%B0%8A%E6%B0%8F>足利尊氏</a> は歴史の授業で習うが、北条時行を私は覚えていないから習わなかったのかもしれない。歴史の影というのか、この作品は敗者を描く作品になる。</p><p>余談だが、神戸駅のすぐ近くに <a href=/diary/posts/2022/0108/#初詣>湊川神社</a> がある。逃げ上手の若君の作品内でも出てくる <a href=https://ja.wikipedia.org/wiki/%E6%B9%8A%E5%B7%9D%E3%81%AE%E6%88%A6%E3%81%84>湊川の戦い</a> の、あの「湊川」であり、神戸という地元応援の文脈で <a href=https://ja.wikipedia.org/wiki/%E6%A5%A0%E6%9C%A8%E6%AD%A3%E6%88%90>楠木正成</a> も応援している。楠木正成は没後から江戸時代まで知名度は低かったが、なぜか徳川光圀公に評価され、その後、幕末の維新志士から崇敬の対象となり、歴史上の時間が経ってから知名度があがった稀有な武将でもある。そういう背景もあってなのか、逃げ上手の若君の作品内でも特異な武将として描かれていて、史実から湊川の戦いで足利尊氏に負けてしまうのだけれども、それでも格好よく戦って、その智謀を発揮している。この作品を読んでさらに楠木正成への関心が出てきた。</p><p>歴史漫画は結果がわかっているから予定調和で読み進める。主人公が勝者であれば安心して読めるが、この作品は敗者なので結末は悲劇となる。ある意味、敗者だからあまり史実の資料が残っていなくて創造性を発揮できるところもあるだろう。そこが漫画家の腕の見せ所だと思う。北条時行による「中先代の乱」があったから南北朝が生まれ、その後の室町幕府への影響も大きかったように、この作品内では描かれている。敗者も歴史を作っていく上での重要な役割を担っているという表現になっていて歴史の背景を想像して楽しみながら読める作品になっていると思う。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/0824/>multipart/form-data リクエストの扱い</a></h1><div class=post-meta><time class=post-date>2024-08-24</time></div><span class=post-tags>#<a href=/diary/tags/health/>health</a>&nbsp;
#<a href=/diary/tags/go/>go</a>&nbsp;
#<a href=/diary/tags/testing/>testing</a>&nbsp;</span><div class=post-content><p>9時に起きて2度寝して10時頃に起きたものの、お昼までだらだらしていた。それからオフィスへ行って溜まっていた日記をまとめて書いて、<a href=https://nigewaka.run/>逃げ上手の若君</a> をみながら作業をしていた。来週は出張の週だから事前にやっておくことがいくつかある。</p><h2 id=ストレッチ>ストレッチ</h2><p><a href=/diary/posts/2024/0817/>先週は実家へ帰っていた</a> ために2週間ぶりのストレッチになる。とはいっても、いまは運動をしているので筋肉痛もない。しかし、机に向かってデスクワークする時間が増えている分の負荷がかかっている。トレーナーさんからも腰から背中にかけて硬いと指摘された。今日は硬くなっているカラダ全体をほぐしてもらった感じだった。おかげで今後も体調よく机に向かえる。今日の開脚幅は開始前149cmで、ストレッチ後155cmと普段通りの数値だった。</p><h2 id=multipartform-data-リクエストを扱う結合テスト>multipart/form-data リクエストを扱う結合テスト</h2><p>昨日の夜に汎用のファイル操作の api を実装した。今日はその結合テストを追加してマージリクエストを作成した。multipart/form-data のリクエストを作るのはちょっと面倒くさい。go のライブラリのテストコードや stackoverflow のサンプルコードなどを調べながら自分で実装した。次のような multipart/form-data リクエストを扱う writer や buffer を生成するためのユーティリティを作る。一通りの結合テストを実装するのに3時間ほどかかった。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>createMultiPartFormData</span>(
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fileBody</span> []<span style=color:#66d9ef>byte</span>, <span style=color:#a6e22e>formField</span> <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>string</span>,
</span></span><span style=display:flex><span>) (<span style=color:#f92672>*</span><span style=color:#a6e22e>multipart</span>.<span style=color:#a6e22e>Writer</span>, <span style=color:#f92672>*</span><span style=color:#a6e22e>bytes</span>.<span style=color:#a6e22e>Buffer</span>, <span style=color:#66d9ef>error</span>) {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>b</span> <span style=color:#f92672>:=</span> new(<span style=color:#a6e22e>bytes</span>.<span style=color:#a6e22e>Buffer</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>mw</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>multipart</span>.<span style=color:#a6e22e>NewWriter</span>(<span style=color:#a6e22e>b</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>k</span>, <span style=color:#a6e22e>v</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>formField</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fw</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>mw</span>.<span style=color:#a6e22e>CreateFormField</span>(<span style=color:#a6e22e>k</span>)
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>, <span style=color:#a6e22e>b</span>, <span style=color:#a6e22e>err</span>
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>fw</span>.<span style=color:#a6e22e>Write</span>([]byte(<span style=color:#a6e22e>v</span>)); <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>, <span style=color:#a6e22e>b</span>, <span style=color:#a6e22e>err</span>
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fw</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>mw</span>.<span style=color:#a6e22e>CreateFormFile</span>(<span style=color:#e6db74>&#34;file&#34;</span>, <span style=color:#e6db74>&#34;path/to/file&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>, <span style=color:#a6e22e>b</span>, <span style=color:#a6e22e>err</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>fw</span>.<span style=color:#a6e22e>Write</span>(<span style=color:#a6e22e>fileBody</span>); <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>, <span style=color:#a6e22e>b</span>, <span style=color:#a6e22e>err</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>mw</span>.<span style=color:#a6e22e>Close</span>(); <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>, <span style=color:#a6e22e>b</span>, <span style=color:#a6e22e>err</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>mw</span>, <span style=color:#a6e22e>b</span>, <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>このユーティリティを使って http リクエストのテストデータを生成するのは次のようなコードになる。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>u</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>url</span>.<span style=color:#a6e22e>URL</span>{
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Scheme</span>: <span style=color:#e6db74>&#34;http&#34;</span>,
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Host</span>:   <span style=color:#e6db74>&#34;localhost&#34;</span>,
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Path</span>:   <span style=color:#a6e22e>path</span>,
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>mw</span>, <span style=color:#a6e22e>body</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>createMultiPartFormData</span>(<span style=color:#a6e22e>fileBody</span>, <span style=color:#a6e22e>formField</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>, <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Errorf</span>(<span style=color:#e6db74>&#34;failed to create multipart form data: %s&#34;</span>, <span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>req</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>NewRequest</span>(<span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>MethodPost</span>, <span style=color:#a6e22e>u</span>.<span style=color:#a6e22e>String</span>(), <span style=color:#a6e22e>body</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>, <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Errorf</span>(<span style=color:#e6db74>&#34;http create new request error. err: %s&#34;</span>, <span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>req</span>.<span style=color:#a6e22e>Header</span>.<span style=color:#a6e22e>Set</span>(<span style=color:#e6db74>&#34;Content-Type&#34;</span>, <span style=color:#a6e22e>mw</span>.<span style=color:#a6e22e>FormDataContentType</span>())
</span></span></code></pre></div><p>あと結合テストでファイルをアップロードすると実際にファイルシステム上に保存されてしまうのでそれらを削除するには <a href=https://pkg.go.dev/testing#T.Cleanup>Cleanup</a> を使うと簡単に後始末できた。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>TestFileUpload</span>(<span style=color:#a6e22e>t</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>testing</span>.<span style=color:#a6e22e>T</span>) {
</span></span><span style=display:flex><span>    <span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>Cleanup</span>(<span style=color:#66d9ef>func</span>() {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>os</span>.<span style=color:#a6e22e>RemoveAll</span>(<span style=color:#a6e22e>file</span>.<span style=color:#a6e22e>FilesDir</span>); <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>Errorf</span>(<span style=color:#e6db74>&#34;failed to remove files directory: %s&#34;</span>, <span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	})
</span></span><span style=display:flex><span>    <span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/0821/>寝ている間に再設計</a></h1><div class=post-meta><time class=post-date>2024-08-21</time></div><span class=post-tags>#<a href=/diary/tags/issue-management/>issue management</a>&nbsp;
#<a href=/diary/tags/communication/>communication</a>&nbsp;
#<a href=/diary/tags/programming/>programming</a>&nbsp;
#<a href=/diary/tags/health/>health</a>&nbsp;</span><div class=post-content><p>昨日のもやもやは寝ている間に整理され、今日は標準的な開発者としての過ごし方になった感じがする。</p><h2 id=マネージャーとの-1on1>マネージャーとの 1on1</h2><p>これまでは私がマネージャーとして 1on1 をしてきたが、今後は交代したメンバーがマネージャーを務める。この開発フェーズでは私は開発者 (メンバー) として 1on1 をしてもらうといった感じかな。自分が開発者側だと思うと、いま私が取り組んでいることの話しをしやすかったりした。立場によって 1on1 のやり方は変わることを実感した。マネージャーはメンバーの話しを聞く方に注力したり、プロジェクト全体の話しをしがちになる。開発者として臨むと、自分の抱えている issue に集中して話せるといった違いがあった。</p><h2 id=cpap-の中断>CPAP の中断</h2><p>夜に睡眠外来へ行ってきた。以前に <a href=/diary/posts/2024/0314/>CPAP 装置</a> を借りて3ヶ月ぐらいやっていたものの、ここ2ヶ月ほどやらなくなってしまっていた。もともとは体脂肪コントロールの疲労回復のために始めたものだった。体脂肪コントロールがうまくいって目標達成したことで睡眠改善を行う目的もなくなってしまって関心を失ってしまった。借りているだけで毎月5千円ほどかかるので中断して機器を返却することにした。旅行のときなど、一時的に借りられないかを聞いてみたら、それは不可とのこと。また再開したくなったらいつでも言えばよいとのこと。</p><h2 id=ツールの再設計>ツールの再設計</h2><p><a href=/diary/posts/2024/0820/>昨日の続き</a> 。睡眠外来から帰ってきて、晩ごはん食べて、軽く飲みながら24時過ぎまでコードを書いていた。今日もまる一日ツールの再設計をしていた。昨日のノーアイディアな状況から少しずつ好転していって、ある処理で歯車が噛み合ってからはいつも通り着実に進捗していく様がみられた。意図的にやっていることではあるけど、課題について考えながら一晩寝ると、寝ている間に無意識に刷り込まれて脳が考えてくれる。それで徐々によい設計が現れてくるようになって明確な実装に落ち着いたのではないかと推測する。今日はよい感じに集中できた。</p></div></article><div class=pagination><div class=pagination__buttons><a href=/diary/tags/health/ class="button previous"><span class=button__icon>←</span>
<span class=button__text>最近の日記</span>
</a><a href=/diary/tags/health/page/3/ class="button next"><span class=button__text>過去の日記</span>
<span class=button__icon>→</span></a></div></div></div></div><footer class=footer><div class=footer__inner><div class=copyright><span>© 2025 Powered by <a href=https://gohugo.io>Hugo</a></span>
<span>:: <a href=https://github.com/panr/hugo-theme-terminal target=_blank>Theme</a> made by <a href=https://github.com/panr target=_blank>panr</a></span></div></div></footer><script type=text/javascript src=/diary/bundle.min.js></script></div></body></html>