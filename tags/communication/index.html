<!doctype html><html lang=en><head><title>communication :: forest nook</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=/diary/tags/communication/><link rel=stylesheet href=/diary/styles.css><link rel=stylesheet href=/diary/style.css><link rel="shortcut icon" href=/diary/favicon.ico><meta name=twitter:card content="summary"><meta name=twitter:site content="t2y"><meta name=twitter:creator content><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:title" content="communication"><meta property="og:description" content><meta property="og:url" content="/diary/tags/communication/"><meta property="og:site_name" content="forest nook"><meta property="og:image" content="/diary/favicon.ico"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><link href=/diary/tags/communication/index.xml rel=alternate type=application/rss+xml title="forest nook"></head><body class=green><div class="container full headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=/diary><div class=logo>forest nook</div></a></div><ul class="menu menu--mobile"><li class=menu__trigger>Menu&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=/diary/about>自己紹介</a></li><li><a href=/diary/dates>月別一覧</a></li><li><a href=/diary/tags>タグ一覧</a></li></ul></li></ul></div><nav class=navigation-menu><ul class="navigation-menu__inner menu--desktop"><li><a href=/diary/about>自己紹介</a></li><li><a href=/diary/dates>月別一覧</a></li><li><a href=/diary/tags>タグ一覧</a></li></ul></nav></header><div class=content><div class=posts><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0704/>ldap プロトコルの persistent search</a></h1><div class=post-meta><time class=post-date>2023-07-04 (Tue.) ::</time></div><span class=post-tags>#<a href=/diary/tags/ldap/>ldap</a>&nbsp;
#<a href=/diary/tags/founding/>founding</a>&nbsp;
#<a href=/diary/tags/web-design/>web design</a>&nbsp;
#<a href=/diary/tags/communication/>communication</a>&nbsp;</span><div class=post-content><p>0時に寝て5時に起きて6時半に起きた。朝から大鼓方を調べたりしていた。</p><h2 id=persistent-search-あれこれ>persistent search あれこれ</h2><p>ldap プロトコルの文脈でクライアントがサーバーに接続して、エントリーの更新を検出して更新があったエントリーのみを取得することを persistent search (永続検索) と呼ぶ。メッセージキューで言うところの pubsub の consumer に相当する機能。フィルター条件に合致したエントリーのみを取得するという側面では検索と言える。</p><p>ietf のワーキンググループに次のような仕様がある。</p><ul><li><a href=https://www.ietf.org/proceedings/50/I-D/ldapext-psearch-03.txt>Persistent Search: A Simple LDAP Change Notification Mechanism</a></li></ul><p>go-ldap で過去に <a href=https://github.com/go-ldap/ldap/pull/80>Add Persistent search control + PersistentSearch() #80</a> で実装を追加しようとしたのもあったので調べてみた。しかし、この機能に openldap は対応していないようだ。</p><p>以前から調べている <a href=/diary/posts/2023/0317/>openldap の syncrepl</a> も persistent search を実現する機能の1つと言える。ldap に詳しくないと用語と機能と実装の切り分けができなくて困惑する。syncrepl はもともとレプリケーションのための仕組みではあるが、pubsub の consumer としても使える。そういうときに syncrepl を使って <em>&ldquo;persistent search&rdquo;</em> を行うと言ったりする。このときに先の ietf に提案されている persistent search とはまったく関係ない。だから混乱する。</p><p>lopenldap サーバー同士で syncrepl の provider の機能は次の overlay モジュールによって提供される。逆に syncrepl の consumer の機能は openldap の組み込みの機能で提供される。なんらかの歴史的経緯があるのだろう。</p><pre tabindex=0><code>overlay syncprov
</code></pre><p>ldapsearch コマンドで persistent search (syncrepl consumer) を実行するには次のようにする。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ ldapsearch -x -H <span style=color:#e6db74>&#34;ldap://localhost:389&#34;</span> -b <span style=color:#e6db74>&#34;dc=example,dc=com&#34;</span> -D <span style=color:#e6db74>&#34;cn=Manager,dc=example,dc=com&#34;</span> -w <span style=color:#e6db74>&#34;secret&#34;</span> -E <span style=color:#e6db74>&#39;!sync=rp&#39;</span>
</span></span></code></pre></div><p>ldap プロトコルの文脈で persistent search を行うといった場合、クライアントから pubsub で言うところの consumer を用意するといった意味だけで、その実装や通信方法はいくつか実現方法があるということを学んだ。</p><h2 id=サイトデザイン最終レビュー>サイトデザイン最終レビュー</h2><p>19時からデザイナーさんとはらさんと打ち合わせ。少し前に用意してくれた <a href=/diary/posts/2023/0619/#サイトデザインのサンプルページ>サイトデザインのサンプルページ</a> の最終レビューを行った。全体としては気に入っているので概ね ok なのだけど、詳細の気になったところやデザインの機微のようなところをはらさんと一緒にデザイナーさんとやり取りして共有した。</p><p>デザインだけをみてこちらで想定していたことも、デザイナーさんの意見や視点を伺ってみると発見があっておもしろかった。逆に言えば、デザインだけでデザイナーさんの意図を伝えるのはとても難しいということもわかった。背景の説明を受けると論理的だったり合理性があったりするものの、なにも情報がない状態でそのことに気付くのは難しい。これはコードリーディングにおいても同じで、作者に意図の説明を受けながらソースコードを読むと簡単に理解できたりする。そして、デザイナーさんもうちらの意見から考え方を見直すこともあった。ウェブデザインのようなものを1人で完全に気付きを得るのは難しそうだ。</p><p>はらさんにレビューに入ってもらっていてとても助かる。私は ui/ux については素人なので、要件やレビューする視点の重要なところにツッコミを入れてくれるので気付くことも多い。私がコードレビューで設計やプログラミングについて指摘しているのも、別の人の視点からみるとこういうみえ方をするんだろうなと思いながら聞いていた。「餅は餅屋」とはよく言った言葉だ。自分がよくわからない分野のお仕事を依頼もしくは話すときは、自分たちの立場でそういった外部の専門家を雇うことの重要性も同時に理解できた。私は課題管理の専門家としてそういうポジションを作っていきたい。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0623/>トイレにうんこ</a></h1><div class=post-meta><time class=post-date>2023-06-23 (Fri.) ::</time></div><span class=post-tags>#<a href=/diary/tags/life/>life</a>&nbsp;
#<a href=/diary/tags/communication/>communication</a>&nbsp;
#<a href=/diary/tags/go/>go</a>&nbsp;
#<a href=/diary/tags/design/>design</a>&nbsp;</span><div class=post-content><p>0時に寝て4時に起きてドラクエタクトやりながらだらだらしているうちに少し寝て7時に起きた。</p><h2 id=トイレにうんこを詰まらせた>トイレにうんこを詰まらせた</h2><p>いや。正確にはトイレが詰まってうんこを浮かべた。朝トイレへ行ったら洋式トイレにトイレットペーパーが漂っていた。前に使った人が流していないのかな？と考えて気持ち悪いのですぐ流した。これまでも過去にそういうことがたまにあった。あとから考えると、誰かのいたずらでなにかしらトイレに詰まるものがトイレットペーパーの下に隠されていた可能性もある。この時点で次に水が流れるかどうかのチェックをするべきと洞察できていなかった。</p><p>それから、うんこして流したらトイレが詰まったようで流れない。微妙に便器から水が溢れてきた。ぎりぎり溢れ返ることにはならなかったのでトイレの床にうんこが散乱する最悪の状況にはならなかった。しかし、トイレにうんこがぷかぷか浮かんでいる状態になった。べつに私が悪いわけではないと思うのだけど、トイレにうんこが浮かんでいる状態にしてしまったことにとても罪悪感を感じた。</p><p>幸い朝8時からシェアオフィスにいるのは私ぐらいで、多くの利用者は10時前後にならないと出社してこない。いまトイレに誰かが入ってきて犯人扱いされることはなさそう。なんか行き当たりで人を殺めてしまった殺人犯みたいな心境になった。運営会社のサポートは9時から。1階へ降りていって掃除のおばちゃんに尋ねてみたけど、うんこが浮かんだトイレの階は自分たちの管轄じゃないと断られてしまった。(´・ω・｀) 仕方なく、時間を待って9時ぴったりにサポートに電話して聞いてみる。サポートにも断られたらどうしよう？不安と緊張が走る。サポートのお姉さんは (当然ではあると思うけれども) 全然平気ですよーと快く応じてくれて安心した。まぁ、電話しているお姉さんが対応するわけじゃないしね。</p><p>電話で一報を終えて、その後、トイレ業者さんが来るまで自分のうんこを浮かべておいていいのかどうか、すごく悩んだ。かといってうんこを取り出す勇気もなく結果的にそのまま放置した。人間がしょぼい。40年以上も生きてきて自分のうんこの処理もできないのかと思うと本当に情けなくなった。「入るな、危険」ぐらいの張り紙しといてもよかった。本当の犯人だったらここでとんでもないトリックを思いついて実行するところだけど、一報したことでそこまでの切羽詰まった状況でもなくなっていた。もし警察がやってきてもサポートのお姉さんが犯人じゃないと証言してくれるだろう。</p><p>9時から打ち合わせがあって、1時間半後、恐る恐るトイレを見に行ったらすでに詰まりは解消していてうんこもなくなっていた。平和な日常が戻ってきてよかった。</p><p>平安時代とか、都はうんこまみれだったという記事を昔読んだのを思い出した。</p><ul><li><a href=https://locust0138.hatenablog.com/entry/2019/10/18/233617>ドキッ！　死体だらけの平安京！　ポロリもあるよ！　―命の重さの日本史―</a></li></ul><h2 id=隔週の雑談>隔週の雑談</h2><p>顧問のはらさんと隔週の打ち合わせ。今日の議題はこれら。</p><ul><li><a href=/diary/posts/2023/0619/#サイトデザインのサンプルページ>サイトデザインのサンプルページレビュー</a></li><li><a href=/diary/posts/2023/0617/#課題管理の雑談会へ向けての準備>課題管理の雑談会の資料のレビュー</a></li></ul><p>最初の30分でサイトデザインをみながら、はらさんのレビューの視点や背景を教えてもらっていくつか気付きを得た。後半は来月の雑談会へ向けて、課題管理の資料のレビューを始めて、いつもは1時間で打ち合わせを終えるのだけれど、つい課題管理の話しでテンションあがって話し過ぎてしまって30分オーバーした。打ち合わせのような時間を決めている会議で議論に熱くなるのはよくない。失敗したなーと反省した。</p><h2 id=パスワードの表現>パスワードの表現</h2><p>go でパスワードを扱うときに平文をハッシュ化して保持するためのユーザー定義の構造体を作りたい。構造体にハッシュ化した値をもつとしても、プログラマーが誤って任意の値を設定できないように制御したい。ここで go はオブジェクト指向言語ではないのでコンストラクタという概念がない。私が知っているもっともシンプルな方法は interface と private な構造体を組み合わせてコンストラクタに近いものを実装する。コードレビューしていてメンバーにパスワードがハッシュ化されていることを保証する仕組みをお題として指摘してみた。</p><p>今日のところは解決できなくて月曜日に持ち越しになった。私の想定する模範解答は次のようなものだけど、ちゃんと自分で考えて実装できるかなぁ。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Password</span> <span style=color:#66d9ef>interface</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Authenticate</span>(<span style=color:#a6e22e>s</span> <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Get</span>() []<span style=color:#66d9ef>byte</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>String</span>() <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>passwd</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>hashed</span> []<span style=color:#66d9ef>byte</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>p</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>passwd</span>) <span style=color:#a6e22e>Authenticate</span>(<span style=color:#a6e22e>s</span> <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>bcrypt</span>.<span style=color:#a6e22e>CompareHashAndPassword</span>(<span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>hashed</span>, []byte(<span style=color:#a6e22e>s</span>))
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>p</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>passwd</span>) <span style=color:#a6e22e>Get</span>() []<span style=color:#66d9ef>byte</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>hashed</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>p</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>passwd</span>) <span style=color:#a6e22e>String</span>() <span style=color:#66d9ef>string</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> string(<span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>hashed</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>NewPassword</span>(<span style=color:#a6e22e>s</span> <span style=color:#66d9ef>string</span>) (<span style=color:#a6e22e>Password</span>, <span style=color:#66d9ef>error</span>) {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>h</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>bcrypt</span>.<span style=color:#a6e22e>GenerateFromPassword</span>([]byte(<span style=color:#a6e22e>s</span>), <span style=color:#a6e22e>bcrypt</span>.<span style=color:#a6e22e>DefaultCost</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>, <span style=color:#a6e22e>err</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>passwd</span>{<span style=color:#a6e22e>hashed</span>: <span style=color:#a6e22e>h</span>}, <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0607/>ぼくのかんがえたさいきょうの定例会議</a></h1><div class=post-meta><time class=post-date>2023-06-07 (Wed.) ::</time></div><span class=post-tags>#<a href=/diary/tags/information-exchange/>information exchange</a>&nbsp;
#<a href=/diary/tags/issue-management/>issue management</a>&nbsp;
#<a href=/diary/tags/issue-tracking-system/>issue tracking system</a>&nbsp;
#<a href=/diary/tags/project-management/>project management</a>&nbsp;
#<a href=/diary/tags/communication/>communication</a>&nbsp;</span><div class=post-content><p>1時に寝て何度か起きて8時に起きた。昨日ブログを書き終えてほっとしたのか、珍しく寝坊した。</p><h2 id=課題管理の定例会議の進め方>課題管理の定例会議の進め方</h2><p>5月31日から <a href=/diary/posts/2023/0530/#落ち穂拾いの終了>新しい開発がスタート</a> していてイテレーションを2週間に、そして定例会議も同様に隔週とした。その狙いは先日の日記に書いてあるが、これまで毎週やっていた定例会議の進め方はあわないので新規に会議の進め方を刷新した。これまでふりかえりと定例会議を別にやっていたのを1つにした。またふりかえりの会議のときに、ふりかえり作業そのものもやっていたのを、定例までに事前にメンバーがそれぞれやってきて、結果を定例のときに共有しようというやり方に改めた。ネガティブなふりかえりは発生時点で課題管理システムに登録してフィルター可能というのがアピールポイント。いまチームのメンバーが3人なのでこれでも会議は1時間でおさまる見積もり。メンバーが増えたらふりかえりと定例は別の時間にわけてやるかな？会議時間が長くなるとダレるので1つの会議は1時間以内で締めるというのは徹底したい。</p><ol><li>現マイルストーンのふりかえり (目安時間: 25分)<ol><li><a href=/diary/posts/2022/1129/>fun/done/learn を使ったポジティブなふりかえり</a> で共有</li><li>ネガティブなふりかえりは課題管理システムに <code>Postmortem</code> ラベルを付与して issue 登録したものを共有</li></ol></li><li>次マイルストーンでやることの確認 (目安時間: 25分)<ol><li>課題管理システムにある次マイルストーンでフィルターした issue を共有</li></ol></li><li>issue になっていないもので聞きたいことや分からないことを聞く (目安時間: 10分)<ol><li>メンバーが自由に意見を表明</li></ol></li><li>雑談 (余り時間)<ol><li>メンバーが自由に雑談</li></ol></li></ol><p>事前準備を済ましてから、スクラムでいうところの、レトロスペクティブとプランニングを同時にやるといったもの。実践としてうまくいくかどうか、今回の開発で試してみる。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0601/>わかりにくさと能動的</a></h1><div class=post-meta><time class=post-date>2023-06-01 (Thu.) ::</time></div><span class=post-tags>#<a href=/diary/tags/ldap/>ldap</a>&nbsp;
#<a href=/diary/tags/go/>go</a>&nbsp;
#<a href=/diary/tags/noh/>noh</a>&nbsp;
#<a href=/diary/tags/book/>book</a>&nbsp;
#<a href=/diary/tags/communication/>communication</a>&nbsp;</span><div class=post-content><p>22時に寝て何度か起きて7時に起きた。たまには早く寝てみた。</p><h2 id=チャンネルを用いた-ldap-検索の-api>チャンネルを用いた ldap 検索の api</h2><p>うちらの要件に足りない機能が go-ldap にある。私が機能拡張についての issue を作ったときにある開発者が先にこの機能が必要だとコメントしてくれた。もともと draft pr で実装されたコードがあったのでそれをベースに検証したら普通に動いた。あとは go のエンジニアリングとして開発者が使いやすいように、私の経験からのアレンジを加えて pr とした。テストも実装した。なにか問題があればレビューで指摘さえしてくれれば私がすぐ修正してマージできるはずと考えている。はてさて、どうなることやら。</p><ul><li><a href=https://github.com/go-ldap/ldap/pull/440>Add search with channels with context #440</a></li></ul><h2 id=能650年続いた仕掛けとは>能―650年続いた仕掛けとは―</h2><p><a href=https://www.shinchosha.co.jp/book/610732/>能―650年続いた仕掛けとは―</a> を読んでいる続き。世阿弥の紹介をしている第五章に感化された。</p><h3 id=第四章-能にはこんな仕掛けが隠されていた>第四章 能にはこんな仕掛けが隠されていた</h3><p>能はシテ (主役) の役柄や内容で5種類にわけられる。</p><ol><li>初番目物 神: 神様が登場して颯爽 (さっそう) と舞う</li><li>二番目物 男: 修羅物とも呼ばれ、武将が修羅道に落ちた苦しみを描く</li><li>三番目物 女: 鬘物 (かずらもの) とも呼ばれ、優雅な美しいものが多い</li><li>四番目物 狂: 雑能とも呼ばれ、他の4つに分類されないもの</li><li>五番目物 鬼: 切能 (きりのう) とも呼ばれ、鬼や妖怪、精霊、霊獣などがシテになる</li></ol><p>さらにこの5つの分類に入らない翁という演目もある。翁を最初に置き、この順番に上演しながら、能と能の間に狂言を演じ、最後に祝言の短い能を演じるのがかつての正式な上演だったらしい。これだけ演じると朝から晩までかかってしまうので忙しい現代ではなかなかみれなくなってしまっているという。</p><p>ひと昔前は結婚式で仲人さんや親戚が謡を謡っていたという。たしかに古風な結婚式ではそうだったような、、、と私もうっすらとそういう記憶があるような気もする。</p><p>能の身体的な特徴の1つに摺り足がある。摺り足には重い二本の刀を腰に差して腰痛にならないという効能があるらしい。ほんとかな？</p><p>世阿弥が能の構造は序破急にせよと書いている。序はワキの登場、破はシテが登場して話をして去る、急は再びシテが姿を変えて登場するといった構造になる。水戸黄門や暴れん坊将軍のような時代劇の最後の展開が急に相当する。水戸黄門で例えると次になる。</p><ul><li>序: 現状把握と善人の窮状</li><li>破: 善人が騙される／襲われる</li><li>急: 印籠を出す</li></ul><p>そして、この後に書いてあることが個人的におもしろかった。水戸黄門は番組開始時点では印籠を出すようなシーンはなくて、当初は助さん角さんが敵をたたき斬っていただけだったという。そもそも印籠を出したぐらいで本物の水戸黄門かどうか分かるわけもなく悪人がひれ伏すはずがないw あるときから印籠を出すという急を作って、序破急が安定したことで人気が出て長寿番組となったと書いてある。ほんとかな？</p><h3 id=第五章-世阿弥はこんなにすごかった>第五章 世阿弥はこんなにすごかった</h3><p>能の大成に大きな影響を及ぼした世阿弥についていろいろ書いてある。</p><p><a href=https://db2.the-noh.com/jdic/2010/02/post_172.html>夢幻能</a> という能のジャンルを完成させた。念が残る、思いが残っているといった残念を昇華させる物語の構造になっている。世阿弥は特に敗者の無念をみせる舞台構造を作ることに成功したという。もともと日本人は死者を尊ぶ習慣があったことも要因としてあげている。</p><p>世阿弥は世襲で継いでいくという家元制度を作った。これは後世に必ず継ぐシステムを作ったと言える。現代まで能が継続されている背景の1つに家元制度はたしかにあげられると私も思う。しかし、現代では基本的人権 (職業選択の自由) に反することから家元制度の批判もあるようだ。著者はこの仕組みを称賛しているが、私は現代の感覚からすると個人の自由を制限して成り立っている古い制度のように感じてあまり著者の意見に同意できなかった。</p><blockquote><p>陰陽の和するところの境を成就とは知るべし</p></blockquote><p>昼や晴れた日には観客の気分が盛り上がり過ぎているので控え目に演じなさい。曇りや雨の日には逆に観客の気持ちが萎えているので派手目に演じなさいといったことを言っている。要は客の状態を見て演じ方を変えなさいと言っている。これは言うは易し、行うは難しだという。能ではこれを楽器の構造から音の力で解決していると説明がある。</p><blockquote><p>時に用ゆるをもて花と知るべし</p></blockquote><p>ともすれば絶対的な善し悪しがあるように思い込み、そのようなものを追求しがちであるが、実際はそのようなものはない。あるのは時との関係性だけだという。易経の時中も引用している。いまがどのような「時」であるかを知り、それがもっとも適合した時期であるか、行動できるか、それこそが「花」であるという。</p><blockquote><p>花と面白きと珍しきと、これ三つは同じ心なり</p></blockquote><p>現代の言葉とはちょっと意味が異なる。</p><ul><li>面白き: 目の前がパッと明るくなること</li><li>珍しき (愛ず): 愛らしいこと、まったく普通のことに感嘆を抱かせる工夫など</li><li>花: 秘すれば花、秘密にすることで偉大な働きをすること</li></ul><p>能では、演者はあまり観客に働きかけない。よくわからないことで、逆に観る人が能動的になり、見えないものが見え、聞こえない音が聞こえるようになる。これも秘することによって咲く花だという。師匠が弟子に教えないというのも、簡単なことでも秘することで、弟子が散々苦しみ抜いた上でその助言の価値に気付くこともあるという。</p><p>「老後の初心」という考え方。どの歳になっても初心はあるが、歳をとって体力が劣っていくからこそやることも変えていく。第一章にも出てきた能における「初心」という言葉の概念は本当におもしろい。能では体が動かなくなっていくのだから「しないというやり方も方法としてありえる」と考える。演じないことで演じる、歳を取ったときの表現方法がある。高齢な能楽師でしか演じられない境地があるから能楽師は歳を取ることを楽しみにする。この考え方はいまの時代にとてもあうように私は思えた。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0530/>落ち穂を拾い集めて課題管理を促す</a></h1><div class=post-meta><time class=post-date>2023-05-30 (Tue.) ::</time></div><span class=post-tags>#<a href=/diary/tags/project-management/>project management</a>&nbsp;
#<a href=/diary/tags/issue-management/>issue management</a>&nbsp;
#<a href=/diary/tags/communication/>communication</a>&nbsp;</span><div class=post-content><p>2時に寝て何度か起きて7時に起きた。能の本を読みながら寝落ちした。</p><h2 id=落ち穂拾いの終了>落ち穂拾いの終了</h2><p>4月末にリリースしてその後 GW に入って、5月は「落ち穂拾い」として <a href=/diary/posts/2023/0516/#半年間の開発のふりかえり>開発全体のふりかえり</a> をやったり、<a href=/diary/posts/2023/0518/#開発課題の打ち合わせ>次の開発の要件を整理</a> したりしていた。<a href=/diary/posts/2023/0526/#ドッグフードテストと運用談義>ドッグフードテスト</a> の導入もまだ作業中ではあるが、社内のシステム管理者にも協力していただいて進めている。私の作業でも十分な余裕をもって次の準備につなげることができたので開発の区切りで1ヶ月ぐらい準備期間があることはよいように思える。経営者はもっと働かせたがるかもしれないが。</p><p>これまでの開発は定例会議も 1on1 も毎週行ってきたが、次の開発ではこれらの会議を隔週にしてみる。口頭による同期コミュニケーションのコストを減らし、より開発そのものに時間を割いて注力できるようにする。もしかしたら、これによって私も開発に参加する時間を作りやすくなるかもしれない。もう1つ <strong>必要なときに必要な人とすぐに話す (会議の日まで待たない)</strong> という狙いがある。毎週会議があると、すぐ聞けばよいことを次の会議まで待ってしまうということがある。私もある。私ですら待つときがあるのだからおそらくメンバーにもそうしてしまうことがあると推測する。会議の頻度を下げることでこの待ち時間を削減して即時問い合わせ、即時解決するといったコミュニケーションに移行していきたいという狙いがある。開発者の自律性を高めるためにはこういった取り組みも必要だと思える。もっと言えば、毎週会議しないと情報共有できないというのは開発者を子ども扱いして堕落させるのではないかと考える。実際に意図したようにうまくいくかどうかはやってみてから考える。</p><p>うちの開発メンバーは半年前より見違えて課題管理に習熟したので次の開発がどうなるかが本当に楽しみだ。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0505/>バランスチェアを購入した</a></h1><div class=post-meta><time class=post-date>2023-05-05 (Fri.) ::</time></div><span class=post-tags>#<a href=/diary/tags/chair/>chair</a>&nbsp;
#<a href=/diary/tags/communication/>communication</a>&nbsp;
#<a href=/diary/tags/career/>career</a>&nbsp;</span>
<img src=/diary/img/2023/0505_balance-char.jpg class=post-cover alt=バランスチェアを購入した title="Cover Image"><div class=post-content><p>0時に寝て何度か起きて6時半に起きた。余裕のある生活を送っていると朝もすんなり起きれる。たぶん普段働き過ぎなんやな。今日は朝もお昼もご飯食べてないが、とくに気にならなくて余裕があるとお腹も空かないことに気付いた。</p><h2 id=ジモティーで椅子の受け取り>ジモティーで椅子の受け取り</h2><p>以前コワーキングのオンラインイベントで <a href=/diary/posts/2023/0118/#コワーキングのオンラインイベント>ジモティーが熱い</a> と聞いてから <a href=https://jmty.jp/>ジモティー</a> にアカウント登録して、たまに眺めたりしていた。実家のオフィスで使う椅子をジモティーで探そうと思って検索していた。いくつか候補をみつけて最も近所で受け渡しが簡単そうだったのがバランスチェアだった。実家で使おうと思って購入を決めた。ジモティーで売買をやり取りするのは初めてだったので勝手がわからないものの、出品者とメッセージをやり取りして翌日には受け取りの待ち合わせをすることで話しが付いた。振り込みとか発送とかそういう概念がなくて、直接会って現物交換するときに現金で支払うという、なんというか、昔ながらの個人間取り引きになる。一周まわって新しい。</p><p>出品者が10年以上前に購入してブランドロゴがいまとは違うため、類似品と正規品との判断がつかないということで明言はしていないものの、おそらく <a href=https://www.varierfurniture.com/en/multi/1700101191110>VARIER MULTI</a> ではないかと思われる。椅子じゃなくても10年以上使うとなにかしら劣化や変色などがみられると思う。もちろんこの椅子も新品と比較すればいくらかはそうだろうけど、10年以上使ってきたという歴史に対して色褪せない質感を醸しているのでおそらくはもともとの素材や構造が優れているのだと思う。</p><p>出品者の人もよい人で待ち合わせして受け取り／支払いの体験もよかった。一周まわって新しいと書いたのは、人と人のコミュニケーションの原点のようなものがある。ヤフオクやメルカリだとシステムとのやり取りだけで完結するので相対的にそういったものを思い出した。戻ってきて早速使ってみる。見た目の質感の良さの通り、座った感じの、フィットするのにまったくブレない剛性感もしっくりきて気に入った。当初は実家で使おうと思っていたものの、すごく気に入ったので現オフィスでセカンドチェアとして使うことに方針変更した。</p><p>姿勢もよくなりそうだし、背もたれがないので作業に集中したいときのルーチンにもよさそうに思う。</p><h2 id=しくじり先生>しくじり先生</h2><p><a href=/diary/posts/2023/0502/#しくじり先生>前回の青春編</a> をみておもしろかったので続編の <a href=https://www.tv-asahi.co.jp/shikujiri/backnumber2/0100/>竹原慎二先生「５０歳過ぎてもケンカを売られ続けてバリしんどい先生」完結編</a> をみた。ガチンコ時代の裏話などもあって懐かしくておもしろかった。またガチンコ時代の教え子でプロボクサーからは引退したものの、いまも仲良くしているメンバーもいて、そういうのもいろんな人の縁で社会がまわっているなにかを感じられてよい演出だったと思う。竹原氏は見た目怖いし、実際に強いし、無礼に対する態度も威圧的なものの、意外？と精神的には普通の人とあまり変わらない雰囲気だった。格闘技が強いかどうかよりも、精神を鍛えることの難しさや大事さが伺えた。見た目の強さよりも内面の強さというか、若い頃はあまりそういうことがわからない気がする。多くの人がある程度社会で揉まれていくうちになんとなく理解していくのではないかと思う。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0504/>法人決算の続き</a></h1><div class=post-meta><time class=post-date>2023-05-04 (Thu.) ::</time></div><span class=post-tags>#<a href=/diary/tags/founding/>founding</a>&nbsp;
#<a href=/diary/tags/tax/>tax</a>&nbsp;
#<a href=/diary/tags/device/>device</a>&nbsp;
#<a href=/diary/tags/network/>network</a>&nbsp;
#<a href=/diary/tags/issue-management/>issue management</a>&nbsp;
#<a href=/diary/tags/communication/>communication</a>&nbsp;</span><div class=post-content><p>0時に寝て何度か起きて6時過ぎに起きた。休日は朝だらだらしてオフィスへ行くのが9-10時ぐらいになることが多いのだけど、今日は普通に8時過ぎに行けた。</p><h2 id=法人決算>法人決算</h2><p>朝から法人決算の続き。昨日たまたま消費税の計算をして、祝日やのに e-tax 稼働しているんやと思いながら申告した。これまで休日や祝日は稼働していなかった気がするので時代の変化にあわせてシステムはなるべく24時間稼働するように少しずつ変わってきている。今日も法人決算の続きをやっていて、課税所得を確認して、カテゴリ的には3つに分類される法人3税と呼ばれる税金を算出した。具体的には6つの税金を算出しないといけない。</p><ul><li>法人税 (=> 国税 => e-tax)<ul><li>法人税</li><li>地方法人税</li></ul></li><li>法人住民税 (=> 地方税 => eltax)<ul><li>法人県民税</li><li>法人市民税</li></ul></li><li>法人事業税 (=> 地方税 => eltax)<ul><li>法人事業税</li><li>特別法人事業税</li></ul></li></ul><p>過去の法人決算の経験からまず法人住民税と法人事業税を確定させてから法人決算の申告をすべきだというプラクティスがある。というのは、法人住民税と法人事業税の数値になんらかの誤りがあると法人決算で提出する別表の数字も修正しないといけないため、先に地方税を確定させた方が手戻りを少なくできる可能性が高い。電子申請するとそれぞれの書類の数値のバリデーションが機能するので手計算や手入力で誤りがあったときに発見できる可能性がある。これは電子申請をするメリットの1つでもある。</p><p>地方税を管轄するのが <a href=https://www.eltax.lta.go.jp/>eltax</a> で国税を管轄するのが <a href=https://www.e-tax.nta.go.jp/>e-tax</a> で別システムになる。いまとなっては、事前にチェックしておけばよかったなと思うところだが、あとの祭り。e-tax は5月3-4日が稼働していて5-7日が休止している。eltax は5月3-5日が休止していて6-7日が稼働しているというスケジュールになっていた。双方のシステムが稼働していれば今日中に終えられたものが、なんともちぐはぐなスケジュールで申告を完了させるのは来週以降に持ち越すことになる。また来年やるときはこのそれぞれのシステムの稼働スケジュールを事前にチェックして法人決算の作業日程を決めるように法人決算の issue に書き込んでおいた。来年はもっとうまくやる。</p><ul><li><a href=https://www.e-tax.nta.go.jp/info_center/index.htm>e-tax e-Taxの利用可能時間</a></li><li><a href=https://www.eltax.lta.go.jp/news/07638>eltax 令和5年度の休日運用日</a></li></ul><p>今日のところは法人3税の税金を算出し終えて、それらと関係ない別表の大半を作成した。基本的には決算の試算表から数値を転記したり、特例措置の申請のための書類を作ったりでなにも難しくない。</p><h2 id=iijmio-と-iphone-で作るモバイル-wifi-ルーター>iijmio と iphone で作るモバイル wifi ルーター</h2><p>今年に入ってから <a href=/diary/posts/2023/0321/#実家の出張所オフィスの準備>実家のオフィス化</a> の準備を着々と進めている。晩年は足が不自由だった祖父が生活できるよう、倉庫の一部を改築して車椅子でも生活できるような部屋になっていて、ある種の離れのようなスペースになっている。祖父が他界してからは誰も使っていない。トイレもお風呂もキッチンもついていて広さで言えば14畳ぐらいある。これまで使いにくかった理由は2つあってエアコンとインターネットがなかった。この前、母にお願いしてエアコンを購入してもらい、つい先日、設置が完了したらしい。</p><p>インターネットの回線をひくことも検討していたが、どうやら5000円/月ぐらいかかることがわかってきた。母はインターネットを必要としていないので月1回ぐらいしか使わないのに5000円も支払うのはもったいないなと一旦ストップしていた。スマートフォンのテザリングでお仕事できないわけではないから当初はそれでもいいかと考えていた。私の個人のスマホとインターネット回線は <a href=https://www.iijmio.jp/>iijmio</a> を使っていて iij さん好きなので同じように pocket wifi 的なものはないのかな？と調べたら正にそういう記事をみつけた。</p><ul><li><a href=https://mobile.inest-inc.co.jp/iijmio-pocket-wifi/>格安！IIJmioでポケットWiFiを作る！料金・手順・注意点まとめ</a></li></ul><p>よくよく考えたらデータ専用の sim を購入したらあとはモバイル wifi ルーターだけあればよいことに気付いて、それって iphone でできるやんということに気付いて、過去に使っていた古い iphone 11 を再利用できることに気付いた。さらにいまは <a href=https://www.iijmio.jp/gigaplan/esim/>esim</a> という物理 sim を必要としないソフトウェアベースの sim もあるようで月額の料金も esim の方が安い。
音声通話なしのデータ専用プランで税込で次の金額になる。さらに使わなかったらデータ量は翌月以降に繰越できる。プランによって繰越できる期間が異なる。例えば2GiBなら翌月末まで繰越できる。繰越という概念はたまにしか使わない私の用途にぴったりでひとまず2GiBプランを選択してお試し運用してみることにした。</p><ul><li>1GiB: 165円/月</li><li>2GiB: 440円/月</li><li>5GiB: 660円/月</li><li>10GiB: 1,100円/月</li><li>20GiB: 1,650円/月</li></ul><p>esim というソフトウェアベースのものだと、申し込みして5分後に設定できましたというメールが届き、すぐにアクティベートして iphone 11 に esim の設定をしたら10分後にはインターネットに接続できるようになった。その後 apn の設定を行ってテザリングもできるようになって、30分後には iphone 11 をモバイル wifi ルーターとして macbook からインターネットにアクセスできるかの疎通確認を終えた。</p><p>つまりソフトウェアベースで業務を行うことのワークフローの効率が半端なく高い。これが物理 sim なら数人の人手と待ち時間がかかることは容易に想像できる。物理的にしかできなかったことをソフトウェアベースにしてワークフローを洗練化させることの強力さを実感した。常々、私が課題管理の文脈でコミュニケーションコストを減らせれば生産性が上がると開発者に啓蒙していることと同じで自分がやろうとしていることの概念を追体験するような経験となった。ワークフローの効率を極端に落とすのは人間である。</p></div></article><div class=pagination><div class=pagination__buttons><a href=/diary/tags/communication/page/2/ class="button next"><span class=button__text>過去の日記</span>
<span class=button__icon>→</span></a></div></div></div></div><footer class=footer><div class=footer__inner><div class="copyright copyright--user"><span>© 2021 Tetsuya Morimoto</span>
<span>:: Theme made by <a href=https://twitter.com/panr>panr</a></span></div></div></footer><script type=text/javascript src=/diary/bundle.min.js></script></div></body></html>