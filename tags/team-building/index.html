<!doctype html><html lang=en><head><title>team building :: forest nook</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=/diary/tags/team-building/><link rel=stylesheet href=/diary/styles.css><link rel=stylesheet href=/diary/style.css><link rel="shortcut icon" href=/diary/favicon.ico><meta name=twitter:card content="summary"><meta name=twitter:site content="t2y"><meta name=twitter:creator content><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:title" content="team building"><meta property="og:description" content><meta property="og:url" content="/diary/tags/team-building/"><meta property="og:site_name" content="forest nook"><meta property="og:image" content="/diary/favicon.ico"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><link href=/diary/tags/team-building/index.xml rel=alternate type=application/rss+xml title="forest nook"></head><body class=green><div class="container full headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=/diary><div class=logo>forest nook</div></a></div><ul class="menu menu--mobile"><li class=menu__trigger>Menu&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=/diary/about>自己紹介</a></li><li><a href=/diary/dates>月別一覧</a></li><li><a href=/diary/tags>タグ一覧</a></li></ul></li></ul></div><nav class=navigation-menu><ul class="navigation-menu__inner menu--desktop"><li><a href=/diary/about>自己紹介</a></li><li><a href=/diary/dates>月別一覧</a></li><li><a href=/diary/tags>タグ一覧</a></li></ul></nav></header><div class=content><div class=posts><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/0117/>勉強のやり方の基本</a></h1><div class=post-meta><time class=post-date>2024-01-17 (Wed.) ::</time></div><span class=post-tags>#<a href=/diary/tags/team-building/>team building</a>&nbsp;
#<a href=/diary/tags/communication/>communication</a>&nbsp;
#<a href=/diary/tags/issue-management/>issue management</a>&nbsp;
#<a href=/diary/tags/donation/>donation</a>&nbsp;
#<a href=/diary/tags/event/>event</a>&nbsp;
#<a href=/diary/tags/coworking/>coworking</a>&nbsp;</span><div class=post-content><p>3時過ぎに寝て1度起きて7時半に起きた。また体調を崩さないか心配になってくる。</p><p>今日の筋トレは腹筋:15x2,腕立て:10x1,スクワット20x1をした。</p><h2 id=業務での勉強のやり方の基本>業務での勉強のやり方の基本</h2><p>隔週で水曜日はメンバーと1on1をしている。今日は年明けで最初の1on1になる。あるメンバーと勉強のやり方について話題になった。私が普段、業務で行っている勉強のやり方を紹介してみた。</p><ol><li>業務の中で未知の内容やわからないことに遭遇する</li><li>ツールやフレームワークを学ぶなら公式ドキュメントを一通り読む</li><li>チュートリアルやサンプルコードを書くためにサンプルリポジトリを作る</li><li>実際にコードを書いて、動かしてみて、ドキュメントの内容を理解する</li><li>自分が理解した内容をテックブログに書く</li><li>対象への理解の解像度が上がってから業務に応用する</li></ol><p>業務をしながらこれを繰り返してプロダクト開発をしている。</p><p>私からみると、経験の浅い開発者は勉強せずに、インターネットでググった内容をそのまま業務に応用しようとする。そして、理解の解像度が低いために誤った設計や実装をしてしまう。それで手戻りが発生したり、品質が悪かったりする。何度も公式ドキュメントを読んだ方がよいと提唱しているものの、これがなかなか勉強しないといけない人には通じない。私も過去にそういう時期があったので意図が理解できないというのも理解できる。だからこそ、この話しは何度でもするし、いつかそのことを理解できるときがきたら役に立つことだと考えている。</p><p>メンバーから「公式ドキュメントを読んでも書いてあることが理解できない」というコメントをもらう。そう。理解できないから自分でコードを書いて、動かしてみて、その勉強をするんだよと教える。本当にそれだけのことなんだけど、それだけのことも理解できずに他人が書いた信頼できるかどうかわからない記事のコードを使う人が多い。本質的には技術の勉強を過小評価している。経験の浅い人は1-2時間読み書きしただけでモダンなフレームワークの抽象化や振る舞いを理解できるはずがない。私でもバックエンドならたいていのことは理解できるが、経験の浅いフロントエンドは怪しい。だから、分かるまでもっともっと勉強しないといけないという認識が必要だ。1-2時間で終えようではなく、勉強も含めて2-3日かけようと思うぐらいでちょうどよい。</p><p>さらに私はメンバーに「時間がかかってもよいからちゃんと理解して開発しなさい」と、これも何度も何度もメンバーに伝えている。それによってタスクが遅れても構わないとすら言っている。他社のプロダクト開発でそこまで言うと経営者からクレームがくる可能性はあるが、おそらくお手伝い先の経営者もいっときの開発の速度よりも、地に足の着いた開発者として成長してもらう方がずっと価値があると理解してもらっていると、私は考えている。だからこそ、メンバーにそう言って、みせかけだけで開発しないように伝えている。</p><p>今日話していて、ようやく自覚できるようになってきたんじゃないかと手応えを感じた。1年かかったけれど。私自身マネージャーとして未熟でもあるし、マネジメントがよくなかったところもあるし、伝え方もよくなかったのかもしれない。それでも繰り返し繰り返し、開発において大事な価値観はメンバーに伝えていこうと気持ちを新たにした。</p><h2 id=災害義援金の推移>災害義援金の推移</h2><p>先日 <a href=/diary/posts/2024/0109/#災害義援金の寄付>石川県の災害義援金に寄付した</a> ときにサイトにその日の残高を掲載していることに気付いた。関心をもったのでその記録を付けている。チェックを忘れたときは internet archive から分かる範囲で調べた。次のような感じに推移していて、そろそろ落ち着くのかもしれない。約60億円といったところ。他の団体や期間からの寄付もあるだろうけど、被害総額は約8,000億円らしいのでまだまだ全然足らない。</p><figure><img src=/diary/img/2024/0116_donation.png></figure><h2 id=コワーキングのオンラインイベント>コワーキングのオンラインイベント</h2><p>月例のカフーツさんのオンラインイベントに参加した。<a href=/diary/posts/2023/1220/#コワーキングのオンラインイベント>前回の所感はここ</a> 。今回のテーマは「自治体とコワーキング」だった。私は行政を好ましく思っていない。行政と関わるお仕事もいくつかやってきた中で行政側の態度がよくなかったり、担当者も上から指示されたからやってますといったやっつけだったり、若い担当者は理解があっても決済権をもってなくて上司に没にされたり、一緒に働いていて楽しいようなお仕事に巡りあわなかったからだ。そして、目的意識からの違いから行政とのお仕事やプロジェクトが失敗とまで言わなくても、うまくいかないケースをいくつも見聞きしてきた。うまくいかないのに対して、うまくいったというのはほとんど聞いたことがないからまずうまくいかない。</p><p>それはともかく、行政と一緒になってコワーキングの事業をやろうとしている人たちもいるのでそれはそれでどんなことをやっているのかを聞いていた。今回は新しい参加者がいてその人の経歴ややっているコワーキングの行動なども聞けておもしろかった。街の人たちとどうやって仲良くなるかという話しで単純接触効果がもっとも効果が大きいのではないかと話されていた。なにもしなくてもそこにいて、徐々に人がくるようになって、人と会っているうちに仲良くなるといった話し。営業さんが取引先をまわるのもその戦略。</p><p><a href=https://www.homes.co.jp/akiyabank/>空き家バンク</a> は住居向けしか対象としていなくて事業用にはなっていない。事業に使える空き家を探すのが難しい。空き家のマッチングシステムはあるようでないらしい。空き家がいっぱいあるのはわかっているので空き家をコワーキングスペースに改装して、町興しの拠点に使えばいいのではないかといった話しがあった。それはそうかもしれないが、私の感覚では、田舎にスペースは山ほどあるが人がいない。コワーキング的な新しい価値観で個々が自律して課題解決するような人を田舎でみつけるのはなかなか難しいと考えている。どちらかというと、一定の人口がいる地方都市や大きめの市が落とし所なのではないかと思う。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/1231/>だらだらした大晦日</a></h1><div class=post-meta><time class=post-date>2023-12-31 (Sun.) ::</time></div><span class=post-tags>#<a href=/diary/tags/day-off/>day off</a>&nbsp;
#<a href=/diary/tags/comic/>comic</a>&nbsp;
#<a href=/diary/tags/team-building/>team building</a>&nbsp;
#<a href=/diary/tags/motivation/>motivation</a>&nbsp;</span><div class=post-content><p>夜に <a href=https://yanmaga.jp/comics/%E3%82%A2%E3%83%B3%E3%83%80%E3%83%BC%E3%83%8B%E3%83%B3%E3%82%B8%E3%83%A3>アンダーニンジャ</a> を読み始めて、途中で寝たりしながら気付いたら7時に起きた。それから起きないといけなかったんだけど、なんとなくのんびりしてお昼ぐらいまで過ごし、その後も軽く食べてから3時頃までだらだらしていた。</p><h2 id=帰島>帰島</h2><p>夕方ぐらいから車で実家に帰る。雨がぱらぱらしていたり、大晦日でもそこそこ交通量が多かった。途中の淡路 SA でお土産をいくつか買って1時間半ぐらいで実家に着いた。</p><p><a href=https://www.tbs.co.jp/program/wbc2023sp_20231231/>WBC2023 ザ・ファイナル</a> を見始めたら最後までみてしまった。私はニュースでしか知らなかったので当時のダイジェスト映像で試合を振り返ることもできてよかったと思う。とくにダルビッシュ選手の振る舞いや役割に共感できた。自分が選手として活躍するよりも、若い人たちがチームに馴染みやすいようチームビルディングに献身している姿勢がよかった。番組内のダルビッシュ選手の若い頃のエピソードを聞いているとそういう社交的な選手ではなかったようだ。それは2009年のWBCのイチロー氏の影響もあったのだと思える。私もいまマネージャーをやっていて、自分がその業務をできないわけではないが、若い人たちになにをどう教えたらよいかを考え込むことが多い。</p><p>テレビを見終えてから離れで机に向かって日記を書いている。私は家と作業場所を完全に分けるのが気持ちの切り替えにうまくいく。モチベーションや集中力を制御するために場を変えるというのを、昔はそれほど自覚的に行っておらず、いまほどうまく活用できていなかった気もする。いまはもっとうまく場を活用できるんじゃないかと思う。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/1212/>モチベーションを揺らすもの</a></h1><div class=post-meta><time class=post-date>2023-12-12 (Tue.) ::</time></div><span class=post-tags>#<a href=/diary/tags/postmortem/>postmortem</a>&nbsp;
#<a href=/diary/tags/team-building/>team building</a>&nbsp;
#<a href=/diary/tags/motivation/>motivation</a>&nbsp;</span><div class=post-content><p>0時に寝て2時に起きて6時に起きて7時に起きた。まぁまぁ普通に眠れた。</p><h2 id=定例会議>定例会議</h2><p>いよいよこのマイルストーンを終えると、あと1つで機能開発の終わりとなる。いくつかの要因があって開発の進捗は遅れ気味になっている。メンバーがどうこうというわけではなく、私がうまく段取りを組めていなかったり、自身がマネジメントの業務をちゃんとまわせていないところが開発スケジュールの遅延につながっている。いまの状況は私が失敗したあのときのあれや、このときのこれから全体の進捗へ影響を与えているなとわかるぐらいにはマネジメントの動きが読めるようになってきた気がしている。読めるんだったら対応しろよというのはわかっているものの、モチベーションが足りなくて成り行きに任せていて成るようになっていないなといったところ。私のモチベーションが足らないところも含め、今フェーズの開発にはマネジメントの反省材料がいくつかある。</p><h2 id=真面目にやった人を不当に咎める>真面目にやった人を不当に咎める</h2><p>昔から私はわりとワーカホリックだったので興が乗るとずっとお仕事をしていることが多かった。若い頃はやったらやった分だけ成果が出て評価されて、それはそれで楽しかったものの、30代になるとできて当たり前、成果のレベルがよほど飛び抜けていない限りは評価されることはなくなった。仮に10段階で例えると、若い頃は3しかできないと思っていた人が8ぐらいやると評価されやすいし、30代では8やって当たり前だと思われているから10やっても12やっても大差ないとみなされる。もはやお金のためにお仕事をしているのではないため、評価されなくても気にはならないし、いまは自分で契約の判断ができるので嫌なら契約を終了して別のお仕事を探せばよいだけという割り切りもある。</p><p>そんな中、昔からずっと思っていることが1つあって、真面目にやっている人たちを適切に評価しない上司が多い。要はなにも言わなくてもちゃんとやってくれているから放置するといった傾向がある。そして、さぼっている人たちや成果を出せていない人たちをかばう傾向がある。それはパフォーマンスが低い人たちを悪く言うと、さらにモチベーションを下げて、もっと悪くなるから励ますという意図があるのだと思う。しかし、その対応が度を過ぎると、真面目にちゃんとやった人たちのモチベーションを吹き飛ばしてしまう。その典型的な言葉が「みんながんばった」になる。実際は数人のコアメンバーが業務の大半をやっているのに上司は個々人の差異をなくしたがる。チームの一体感とか、空気を悪くしたくないとか、ハレーションを防ぐとか、いろいろあるのだろう。私は一緒に働いている人なら誰でも気付けるレベルの、みんながんばってないのに、そういった問題を指摘することもなく、なぁなぁで済ませるのをいくつもみてきて、これは日本の会社や組織で共通する傾向があると思う。なにを危惧しているのかわからないが、問題の本質に触れようとしないことが度々起こる。気付いたら対応しないといけないから気付いてないことにしたいと言い換えてもよいかもしれない。そういう状況をみると「またか」と思って私のモチベーションが落ちる。誰だって働きたくない。</p><p>私はよくやってくれている個人を、何度でも、よくやってくれていると明言して評する。がんばっていない人たちを咎めたりはしないが、がんばっていないのにがんばったとは絶対に言わない。状況によってはもっとがんばってほしいと言う。個人差があることを曖昧にしたりはしない。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/1128/>新規メンバーを受け入れないという意思決定</a></h1><div class=post-meta><time class=post-date>2023-11-28 (Tue.) ::</time></div><span class=post-tags>#<a href=/diary/tags/biztrip/>biztrip</a>&nbsp;
#<a href=/diary/tags/project-management/>project management</a>&nbsp;
#<a href=/diary/tags/team-building/>team building</a>&nbsp;</span><div class=post-content><p>19時過ぎに帰って晩ご飯食べて、21時から0時過ぎまでオフィスで作業して、また帰ってから一休みして出張準備して、5時前に出掛けた。1ヶ月ぶりの出張。</p><h2 id=出張前の朝ご飯>出張前の朝ご飯</h2><p>三ノ宮駅のすぐ近くに24時間営業のなか卯がある。うまく眠れなくて時間があるときはここで朝ご飯を食べながら一息つくのがよいのではないかと考えた。今回の実際のタイムスケジュールが次になる。市営地下鉄の駅が5時30分ぐらいにならないと開かないため、あまり早く行ってもやることなくて手持ち無沙汰になる。その隙間時間を埋める場所としてなか卯がよいことに気付いた。</p><ul><li>4:56 家を出る</li><li>5:10 なか卯に着く</li><li>5:11 親子丼を注文する</li><li>5:16 親子丼食べ終わる</li><li>5:30 なか卯を出る</li><li>5:35 市営地下鉄三宮駅のホームに着く</li><li>5:41 市営地下鉄の始発に乗って新神戸駅へ</li></ul><h2 id=マイルストーン定例>マイルストーン定例</h2><p>隔週の火曜日は開発状況の共有や進捗確認、設計レビューなどを行う定例会議。<a href=/diary/posts/2023/1031/#マイルストーン定例>先月の定例会議</a> でも確認していたが、新規メンバーの参加がうまく進捗していない。機能開発を3ヶ月と見積もっているうちの、2ヶ月が過ぎた。さすがにここから開発に参加して追いつくのは厳しいので、新規メンバーの今後の兼務状況に関係なく、今回の開発からは外すという意思決定をした。五月雨式に2回遅れたところで私の中では開発運営の構想から外すように徐々に調整してきていたし、2週間のイテレーションの節目でも既存メンバーにタスクを再割当てするようにもしていた。そのため、いまの開発に大きく影響を与えるわけではない。しかし、参加する可能性も残ってはいたのであからさまに除外することもできなかった。3回に渡って「いついつからやります」と言いながら、(兼務の業務が忙しいとしても) 何もやっていないことに、この開発やチームに責任をもつ私の立場としては印象が悪かった。なによりも業務として責任を果たしていない状況を問題であると当事者が自覚しているようにはみえないところにも懸念があった。よくない開発文化の実例の1つに思えた。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/1106/>考えないという傷のある現場</a></h1><div class=post-meta><time class=post-date>2023-11-06 (Mon.) ::</time></div><span class=post-tags>#<a href=/diary/tags/ldap/>ldap</a>&nbsp;
#<a href=/diary/tags/communication/>communication</a>&nbsp;
#<a href=/diary/tags/team-building/>team building</a>&nbsp;</span><div class=post-content><p>2時に寝て7時半に起きた。昨日からよく寝た。また心機一転。</p><h2 id=ldap-エントリーの-crud-api>ldap エントリーの crud api</h2><p>先週から ldap クライアントや <a href=/diary/posts/2023/1102/#コネクションを共有しないプール>そのプール</a> を実装して結合テストも一通り書いていた。今日はそれらを使った crud な web api を一通り実装した。クライアント実装もテストもしっかり出来ているので後は時間の問題で1つずつ確認しながらコードを書いていくだけだった。こういう作業になると、まとまった時間があればすぐに終わる。他のメンバーのコードレビューをみたり、設計の話しをしたり、他に意識を取られてあまり自分の作業に集中できなかった。</p><h2 id=言葉が通じないもどかしさ>言葉が通じないもどかしさ</h2><p>先週「参考にして」と指示したものが「全コピー」で驚いてしまった。私がいくつか指摘したらすぐに削除し始めてさらに落胆した。自分の頭で考えて作業していないようにみえる。</p><p>開発というお仕事は自分で考えて、コードの1つ1つに明確な意図や根拠をもって書くものだ。もちろん、情報不足や設計に自信がもてなくて一時的に曖昧な実装にするときもあるけれど、それは懸念事項として把握しておくことで将来対応すればよい。基本的に追加するコードにはすべて意味がある。</p><p>他人が分からなくても自分が理解できているのなら、自分の考えを説明し、それが論理的であったり筋が通っていれば、私は自分の考えと違っていても構わない。説明できないコードを追加して、ツッコミを受けてなにも説明できない状況をみているのは本当に悲しい。</p><p>山田ズーニーさんの著書に書いてあった「考えないという傷」を思い出した。</p><ul><li><a href=https://www.1101.com/essay/2010-03-17.html>「働きたくない」というあなたへ ７</a></li></ul></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/1017/>もうすぐ新規メンバーが入ってくる</a></h1><div class=post-meta><time class=post-date>2023-10-17 (Tue.) ::</time></div><span class=post-tags>#<a href=/diary/tags/team-building/>team building</a>&nbsp;</span><div class=post-content><p>1時に寝て何度か起きて6時半に起きた。なんか喉が乾いて一晩で飲むヨーグルトを900mlを飲んでしまった。今日もコードレビューが多くて疲弊した。</p><h2 id=新規メンバーの受け入れ調整>新規メンバーの受け入れ調整</h2><p>早ければ9月末辺りから参加すると言いながら、既存のお仕事の調整でまだ新規メンバーが参加していなかった。一方で定例会議やチーム勉強会にはその頃から参加していた。そろそろ既存のお仕事が落ち着くということで来週の月曜日から開発に参加することに決まった。これでうちのチームの常勤メンバーは私を含めて4人になった。私は3人のメンバーの面倒をみることになる。3人もいればチームとして出来ることが大きく増えるのではないかと期待している。キングダムに例えたら信が100人将になったぐらいの影響力か。とはいえ、若いメンバーが主体なのでまだまだ指導してスキルアップしてもらうことにはなるが、私のお仕事が遊撃よりも指導の方に工数を割くようになっているのかもしれない。この機会にオンボーディングのドキュメントも作ることにした。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/1013/>標準ライブラリに XOAUTH2 の実装がない</a></h1><div class=post-meta><time class=post-date>2023-10-13 (Fri.) ::</time></div><span class=post-tags>#<a href=/diary/tags/founding/>founding</a>&nbsp;
#<a href=/diary/tags/team-building/>team building</a>&nbsp;
#<a href=/diary/tags/network/>network</a>&nbsp;
#<a href=/diary/tags/auth/>auth</a>&nbsp;
#<a href=/diary/tags/go/>go</a>&nbsp;</span><div class=post-content><p>0時に寝て3時に起きて5時ぐらいまでネットで遊んでて6時半に起きた。昨日の夜に洗濯しようと思って忘れていたので朝から洗濯した。</p><h2 id=隔週の雑談>隔週の雑談</h2><p>顧問のはらさんと隔週の打ち合わせ。今日の議題はこれら。</p><ul><li>税理士さんとの打ち合わせのふりかえり</li><li>昔お手伝いした会社の開発体制の話</li><li><a href=/diary/posts/2023/1005/>新しいチーム勉強会</a> の導入</li></ul><p>3人の税理士さんと打ち合わせしてみて最終的に顧問契約をお願いする方を決めた。話してみてやり取りした雰囲気だと、その税理士さんもスキルやこちらの要件対応については全く問題なさそうに思えた。あとは報酬とうちの会社の規模などを考慮して選択した。</p><p>昔お手伝いした会社で2年経ってちょっと相談にのってほしいという打ち合わせをした。私がいた2年前と開発体制はまったく変わってなくて、未だにテックリードがほぼ1人で開発している状況らしい。私が辞めてから以降も何人かは開発者が入っては辞めを繰り返しているのだと推測する。私も2度とその開発者と一緒に働きたくないと思うぐらいには信頼してなくて、開発者が引く手あまたな世の中の状況において、人間として信頼されないリーダーって致命的なんだなということを改めて実感した。おそらくテックリードを追放しない限り、あの開発体制 (と言ってもほぼ独り開発) は何も変わらないのだろうと思う。</p><h2 id=oauth-20-で認証して-google-の-smtp-サーバーを使う>oauth 2.0 で認証して google の smtp サーバーを使う</h2><p><a href=/diary/posts/2023/1012/>昨日の続き</a> 。</p><p>リフレッシュトークンを使って取得したアクセストークンで smtp の AUTH コマンドで XOAUTH2 で認証すればよい。仕様は次のドキュメントに書いてある。</p><ul><li><a href=https://developers.google.com/gmail/imap/xoauth2-protocol>Home > Google Workspace > Gmail > Guides > OAuth 2.0 Mechanism</a></li><li><a href=https://tex2e.github.io/rfc-translater/html/rfc7628.html>RFC 7628 - A Set of Simple Authentication and Security Layer (SASL) Mechanisms for OAuth 日本語訳</a></li></ul><p>なぜか go の標準ライブラリの net/smtp には Plain と CRAM-MD5 の2つしか実装されていない。AUTH コマンドの実装は smtp.Auth インターフェースで定義されている。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Auth</span> <span style=color:#66d9ef>interface</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Start</span>(<span style=color:#a6e22e>server</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>ServerInfo</span>) (<span style=color:#a6e22e>proto</span> <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>toServer</span> []<span style=color:#66d9ef>byte</span>, <span style=color:#a6e22e>err</span> <span style=color:#66d9ef>error</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Next</span>(<span style=color:#a6e22e>fromServer</span> []<span style=color:#66d9ef>byte</span>, <span style=color:#a6e22e>more</span> <span style=color:#66d9ef>bool</span>) (<span style=color:#a6e22e>toServer</span> []<span style=color:#66d9ef>byte</span>, <span style=color:#a6e22e>err</span> <span style=color:#66d9ef>error</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>正常系の雑な実装だとこんな感じ。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>oauth2</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>user</span>        <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>tokenType</span>   <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>accessToken</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>o</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>oauth2</span>) <span style=color:#a6e22e>Start</span>(<span style=color:#a6e22e>server</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>smtp</span>.<span style=color:#a6e22e>ServerInfo</span>) (<span style=color:#66d9ef>string</span>, []<span style=color:#66d9ef>byte</span>, <span style=color:#66d9ef>error</span>) {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> !<span style=color:#a6e22e>server</span>.<span style=color:#a6e22e>TLS</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;&#34;</span>, <span style=color:#66d9ef>nil</span>, <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Errorf</span>(<span style=color:#e6db74>&#34;need tls&#34;</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>resp</span> <span style=color:#f92672>:=</span> []byte(<span style=color:#e6db74>&#34;user=&#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>o</span>.<span style=color:#a6e22e>user</span> <span style=color:#e6db74>&#34;\001auth=&#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>o</span>.<span style=color:#a6e22e>tokenType</span>  <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34; &#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>o</span>.<span style=color:#a6e22e>accessToken</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;\001\001&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;XOAUTH2&#34;</span>, <span style=color:#a6e22e>resp</span>, <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>o</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>oauth2</span>) <span style=color:#a6e22e>Next</span>(<span style=color:#a6e22e>fromServer</span> []<span style=color:#66d9ef>byte</span>, <span style=color:#a6e22e>more</span> <span style=color:#66d9ef>bool</span>) ([]<span style=color:#66d9ef>byte</span>, <span style=color:#66d9ef>error</span>) {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>more</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>, <span style=color:#a6e22e>errors</span>.<span style=color:#a6e22e>New</span>(<span style=color:#e6db74>&#34;unexpected server challenge&#34;</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>, <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>ググるとサンプルコードを実装している人たちがちらほらいるので、そのうち標準ライブラリに誰か実装してくれると思う。</p><ul><li><a href=https://github.com/jacobalberty/smtpoauth2>https://github.com/jacobalberty/smtpoauth2</a></li></ul><p>go 本体に pr を送るチャンスでもあるけど、<a href=https://go.dev/doc/contribute>Contribution Guide</a> を少し眺めて大変そうと思って、いまそこまでのモチベーションないなって感じ。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/1005/>ふりかえり + チーム勉強会</a></h1><div class=post-meta><time class=post-date>2023-10-05 (Thu.) ::</time></div><span class=post-tags>#<a href=/diary/tags/team-building/>team building</a>&nbsp;
#<a href=/diary/tags/postmortem/>postmortem</a>&nbsp;
#<a href=/diary/tags/information-exchange/>information exchange</a>&nbsp;
#<a href=/diary/tags/communication/>communication</a>&nbsp;</span><div class=post-content><p>22時から寝始めて何度か起きて7時に起きた。久しぶりにどっしりくるような夢をみたけれど、もう内容を覚えていない。</p><h2 id=ふりかえりを兼ねたチーム勉強会>ふりかえりを兼ねたチーム勉強会</h2><p>新しい開発に着手して初めてのチーム勉強会を行った。前の開発とチーム勉強会の運用を大きく変更した。ざっくり次が要項になる。</p><ul><li>前開発の postmortem 運用がうまくいかなかったので代替としてやってみる</li><li>開発システム全体の機能が増えてきて、メンバーそれぞれがやっていることもバラバラになりつつある<ul><li>普段やっていることを他メンバーへ情報共有する機会とする</li><li>そのときのマイルストーンでやっていることをふりかえりする機会とする</li></ul></li><li>開発システムについて知りたいところや設計の議論などをしてもよい<ul><li>メンバーが全員揃っていれば、どんな質問をしても誰かが知っているはず</li></ul></li><li>そのマイルストーンでやったことを基本として他メンバーへ共有する<ul><li>内容は基本的になんでもよい、あまり準備せずに話せる内容でよい<ul><li>特定の issue の内容でも、マージリクエストの解説でも、機能や振る舞いの考察など</li></ul></li><li>知識やノウハウを他メンバーに共用する上で wiki やブログの記事などにしてもよい<ul><li>書くところがなかったらテックブログに書けばよい</li></ul></li></ul></li><li>勉強会のために調査する時間が必要であれば、その調査時間も仕事の一環とする<ul><li>勉強会の準備も考慮して開発のスケジュールを各自で調整する</li><li>業務で実装したことや調査したことを共有する機会にもなる</li></ul></li></ul><p>まだ合流前だけど、メンバーが新規に1人増える。2週間に1回の定例のみだと、新しいメンバーが既存のメンバーに追いつくための情報が足りないだろうと思って質問しやすい機会を設けようと考えていた。雑談時間とか、設計会議とか、そういう呼び方をしてもよいのだけど、私にとって違和感なく一番しっくりきて柔軟性も高いのが「チーム勉強会」になる。ふりかえりと情報共有と学びの場の3つを兼ね、チームビルディングにも応用しようという、まさに天才の所業ではないかw まだ始めたばかりだから言うだけ言っておく。また開発が終わったときに良し悪しのふりかえりはする。</p><p>今日のところは最初だったので前マイルストーンでやった issue をメンバーそれぞれ1つずつ内容を説明して共有した。私も mongodb の初期化ツールのマージリクエストが出来たばかりだったのでその背景や意図、工夫したところなどを紹介した。他のメンバーも背景やソースコードを紹介しながらみんなでわいわいできた。第1回目にしては活気があって情報共有という目的も果たせたし、よい感じの取り組みにみえた。このままうまく運用にのせていく。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0928/>次開発の要件決めは既定路線</a></h1><div class=post-meta><time class=post-date>2023-09-28 (Thu.) ::</time></div><span class=post-tags>#<a href=/diary/tags/information-exchange/>information exchange</a>&nbsp;
#<a href=/diary/tags/project-management/>project management</a>&nbsp;
#<a href=/diary/tags/issue-management/>issue management</a>&nbsp;
#<a href=/diary/tags/team-building/>team building</a>&nbsp;</span><div class=post-content><p>1時に寝て何度か起きて7時に起きた。エアコンを入れていると夜は寒くなってきた。</p><h2 id=feedly-pro-にアップグレード>feedly pro+ にアップグレード</h2><p>前からやろうやろうと思っていながら忘れて放置していた feedly のサービスに課金した。基本的に sns をやめていく方針でいるため、情報収集のソースを rss リーダーに戻そうと考えている。これまでも sns と並行で feedly を使ってはいたんだけど、もうちょっと feedly の機能も使ってインプットの効率を上げられないかと考え始めた。<a href=https://feedly.com/i/pro>Pricing</a> をみると、pro, pro+, enterprise の3つのプランがある。真ん中のプランが推しのようだったのであまり調べもせず <a href=https://feedly.com/i/landing/proPlus>Pro+</a> プランを選択した。いまのところ、検索の機能を使うぐらいでしかないが、そのうち ai 機能的なものも触ってみようと思う。</p><h2 id=次開発の優先順位付けと担当者の割り当て>次開発の優先順位付けと担当者の割り当て</h2><p><a href=/diary/posts/2023/0921/>先週の要件発散会議</a> の続き。発散させた要件を整理して優先順位を決めて、担当者まで割り当ててしまった。課題管理がうまくできている必然なのか、なにも迷わずに自然にこのモジュールは○○さんでといった棲み分けもできて、それぞれが役割を果たせば開発の要件が満たせる体制になっている。全体像としての要件一覧は概ね用意した通りではあったものの、要件や設計の詳細の話しをしていると、私の要件の誤解もいくつかあって、それらは訂正しながら設計していくことにはなる。それでもメンバーも成長してきて、私がお膳立てしなくても、メンバーが自ら考えてうまくいくように設計してくれそうな雰囲気もみえてきたりしていて、それによって、私は面倒で厄介なインフラの再整備に注力できたりもしている。前開発がうまくいったので、なんとなく次開発もうまくいきそうな、始まる前から気を抜き過ぎにも思えるが、もう始まる前から開発が終わっている (うまくいくことが分かっている) ような感覚をもっている。できることは分かっていて、あとはどれだけの量を次開発で実装できるかといった、私が区切りの線をどこに引くかだけ決めればいいんじゃないかと考えている。よいチームになってきたなとちょっと誇らしい。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0920/>稀な出張飲み歩き</a></h1><div class=post-meta><time class=post-date>2023-09-20 (Wed.) ::</time></div><span class=post-tags>#<a href=/diary/tags/project-management/>project management</a>&nbsp;
#<a href=/diary/tags/business/>business</a>&nbsp;
#<a href=/diary/tags/founding/>founding</a>&nbsp;
#<a href=/diary/tags/team-building/>team building</a>&nbsp;</span><div class=post-content><p>0時に寝てあまり眠れなくて7時に起きた、いつもと違うホテルのせいか、あまりうまく寝付けなかった。部屋も広くてよかったのになぜか落ち着けなかった。</p><h2 id=プロジェクトの進捗報告>プロジェクトの進捗報告</h2><p>出張したときの月例報告の10回目。<a href=/diary/posts/2023/0808/>前回の進捗報告はこちら</a> 。</p><p>概ね <a href=/diary/posts/2023/0913/#近況報告の資料作り>事前に準備してあった資料</a> のまま次の3次開発へ進むことに決定した。いくつか経営者に確認することも用意していた。「よしなにはからえ」な方向で取り組めそうだ。1年近く開発を継続してきて、次の3次開発を終えれば品質面でも私からみて自信をもてるようにはなると思う。</p><p>そろそろ私の契約を終えてもいいんじゃないかと考えていたが、もう少し追加の開発に付き合ってほしいとのこと。それを受けて「もうちょっとだけ続くんじゃ」と自身のモチベーションコントロールをしていく。早ければ今月いっぱいで契約終了する可能性もあった。継続しても、あと3-4ヶ月程度で終えて、その後に私も3ヶ月ほど休もうとか考えていた。まだまだプロダクトの機能や品質に満足していない、私が長期休暇を取れる状態ではないぞという激励でもあったのかなと思う。</p><h2 id=セルフ居酒屋>セルフ居酒屋</h2><p>晩ご飯に <a href=https://tabelog.com/tokyo/A1316/A131604/13166378/>大崎一番家</a> さんへ行ってみた。</p><p>店主が1人でやっていて、お客さんはセルフで飲みものを手配する。冷蔵庫からお酒 (ハイビール、酎ハイ、瓶ビール) を取ってきて、氷も冷凍庫から勝手に容器に入れてもってくればいいと言う。あとで卓上に置かれた缶や瓶を数えて精算する。ボトルを入れているお客さんなんかはやってきて勝手に飲み始めたりもすると店主が話していた。食べものだけオーダーシートに書いて厨房にいる店主に声をかけて提出する。厨房の入口に置いていたら、都合のよいタイミングで受けとって料理を作ってもってきてくれる。こういうスタイルのお店を嫌う人もいるだろうけど、私は自分のできることが多いスタイルのお店は気楽で気に入ってしまった。店主も関西の人らしくて陽気な性格だった。料理が大皿なので1人だと2-3皿食べるとお腹いっぱいになってしまう。野菜サラダなんかは私は大皿でもりもり食べたいのでちょうどよかった。口コミでデミグラスカツがよいとあったので注文してみておいしかった。但し、1人で食べるには多過ぎで2-3人向けの分量だが。</p><p>こういう1人で全部やるという働き方そのものを私は好む。誰かと一緒に働くの、他の人間と一緒に働くのはどう繕っても気を遣う。居酒屋のような、本来は1人でできないことをお客さんの力も借りながら1人で成り立たせる工夫をあっぱれだと言いたい。以前 <a href=/diary/posts/2023/0827/#マイクロ法人のススメ>マイクロ法人のススメ</a> に書いたが、1人で意思決定して楽しく働く、1人の会社が他の会社と協調して大きなお仕事や難しい課題を解決するという、新しい働き方に私も挑戦していきたい。</p><h2 id=飲み歩き>飲み歩き</h2><p>大学の友だちに声をかけてみたら、そのとき浅草で働いていて、その後、ちょうどよい場所として新橋へ移動した。20時過ぎから新橋の居酒屋さんで飲んでいた。2-3年ぶりぐらいに会ったかな。社員が20人の頃に入社した会社がいまや社員が400人になっていて上場も視野に入れてお仕事しているとのこと。当然、その友だちも幹部社員になっていてすごいなぁと近況を聞いていた。マンションを3つ買ったとか話していた。</p><p>プロジェクトマネジメントやメンバーの育成など、私も最近はマネージャーをやっているからあーだこーだと話しをしていた。その友だちはもともとマネージャー職を目指していたので私よりもマネージャーとしての経験や知見が多い。その友だちも私に負けず劣らずのハードワーカーなので考え方は私と近いと思う。若い人に適正がなさそうでもどう教えるか、どこで見切るかといった話しが一番盛り上がった。その友だちは3年ぐらい面倒はみるが、それでダメなら適正がないと本人に告げて他の仕事に移ってもらうようにするという。適正がないと本人に告げることも優しさだという。たしかに大企業だと、まったくできない人が開発者として中堅社員になってたりすることもあり、それがプロジェクトの弊害になることを私は経験したことがある。あとお互いに年寄りでスキルもやる気もないのは無条件でダメみたいなところは一致した。以前、参加した <a href=/diary/posts/2023/0909/#オープンセミナー>オープンセミナーの懇親会</a> でも、成長しない社員に対してどう接するかの話しをしたことがある。そこでもこのままそのレベルで仕事を継続してもよいが、待遇はそれ以上あがらないことを伝えるとある管理職の方は話していた。</p><p>成長の度合いも個人差があり、どの程度をよしとして、どこで線を引くかは難しい。私はプログラミングが好きなら多少のスキルの個人差はあってもよいと考えている。しかし、会社になると組織に貢献しているかというのは大きな基準になるので必ずしも私の考え方は正しくはない。人間が人間を評価するのは本当に難しい。このまま小さい組織で評価とは無縁で働きたい。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0919/>ふりかえりのふりかえり、のふりかえり</a></h1><div class=post-meta><time class=post-date>2023-09-19 (Tue.) ::</time></div><span class=post-tags>#<a href=/diary/tags/postmortem/>postmortem</a>&nbsp;
#<a href=/diary/tags/issue-management/>issue management</a>&nbsp;
#<a href=/diary/tags/team-building/>team building</a>&nbsp;</span><div class=post-content><p>深夜に1-2時間仮眠をとったものの、あまりうまく眠れなくて、3時に起きて準備して5時に家を出た。新幹線でも寝ていたが、夕方にはやはり眠くなった。</p><h2 id=約4ヶ月間の開発のふりかえり>約4ヶ月間の開発のふりかえり</h2><p><a href=/diary/posts/2023/0516/#半年間の開発のふりかえり>前回のふりかえりのふりかえりはここ</a> 。2時間をとってこの約4ヶ月間の開発のふりかえりをした。</p><p>今回は2次開発というのもあって、メンバーも開発に成熟したし、1次開発でできなかったことのいろいろが改善できそうな見通しが立ってきたし、最高ではないものの最善ではあったんじゃないかと思う。私からみても十分によいものを提供できたと思う。8月の後半に私がテンパっていたのはなんだったのか？と思うぐらい、私が後半に詰め込んでやり過ぎたところもあったりはしたものの、それも終わってみればきれいにすべて回収できたのでよかったと思う。課題管理シウテムから情報を抜き出して1次開発のときと同じ指標の比較もしてみた。それによってメンバーのパフォーマンスが上がっていることも定量的に確認できた。これはまた会社のブログにもいずれ書きたい。これでメンバーも自信を付けて次の開発もがんばってくれるといいなと思う。今回はよい開発になったなと思う。</p><p>今回はいろいろ事情があって、私が東京へ出張してそのオフィスで1人でテレビ会議でふりかえりをするといったやり方になった。本当はこういう区切りになるふりかえりにもっと積極的に参加してほしい、オフラインで会議に参加してほしいと思う気持ちはある。それはそれで私の古い考えかもしれないし、メンバーからしてみたら、マネージャーがふりかえりにやかまして疎ましく思っているのかもしれない。若い人たちの考え方にあわせるという意味では、大きなふりかえりをテレビ会議で行うのも構わないのだが、オフィスで1人会議は私のテンションが上がらないことにも気付いた。先週から準備して資料を作って、わざわざ出張して会議をして、会議の場に誰もいないというのは、どう繕っても、私も出張せずにリモート会議した方が合理的だったと思えてしまう。その自分の中の違和感なのか反感に対して新しい答えを見い出さないとこの体制はうまくいかないと新たに思う一時でもあった。</p><h2 id=大崎に泊まる>大崎に泊まる</h2><p>五反田のいつもホテルに泊まるのも飽きたので気分転換に大崎の <a href=https://www.newotani-inntokyo.jp/>ニューオータニイン東京</a> に泊まってみた。五反田から大崎は一駅の距離で川沿いを歩いていける。この川にかかる橋が夜はライトアップされていて散歩していて気持ちがよい。まだちょっと暑かったけれど、15分もあれば歩ける。宿泊プランを朝食付きプランにすると素泊まりに比べて500-1000円高くなる。それでもいつも泊まっているホテルの料金と比べて大差なかったので試しに朝食付きにしてみた。料理の種類の多い朝食ビッフェでとてもよかった。外食が多いと野菜が不足しがちになる。私はこういうところで基本的に野菜サラダを大盛りにしてたくさん食べるようにしている。その野菜の種類やコンビネーションのやり方が増えるほどアレンジする楽しみも増えて楽しい。これはいいなと思って今後もしばらく大崎に泊まってみようと思う。</p></div></article><div class=pagination><div class=pagination__buttons><a href=/diary/tags/team-building/page/2/ class="button next"><span class=button__text>過去の日記</span>
<span class=button__icon>→</span></a></div></div></div></div><footer class=footer><div class=footer__inner><div class="copyright copyright--user"><span>© 2021 Tetsuya Morimoto</span>
<span>:: Theme made by <a href=https://twitter.com/panr>panr</a></span></div></div></footer><script type=text/javascript src=/diary/bundle.min.js></script></div></body></html>