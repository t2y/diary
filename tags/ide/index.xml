<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Ide on forest nook</title><link>/diary/tags/ide/</link><description>Recent content in Ide on forest nook</description><generator>Hugo -- gohugo.io</generator><language>en</language><copyright>© 2021 Tetsuya Morimoto</copyright><lastBuildDate>Thu, 25 Nov 2021 07:58:17 +0900</lastBuildDate><atom:icon>/diary/favicon.ico</atom:icon><icon>/diary/favicon.ico</icon><atom:link href="/diary/tags/ide/index.xml" rel="self" type="application/rss+xml"/><item><title>コーディングスタイルの共通化</title><link>/diary/posts/2021/1125/</link><pubDate>Thu, 25 Nov 2021 07:58:17 +0900</pubDate><guid>/diary/posts/2021/1125/</guid><description>1時半に寝て6時に起きた
ソースコードのフォーマッター go 言語の gofmt が成功をおさめたことからどんなプログラミング言語でもコーディングスタイルはツールで自動整形するのがよいという雰囲気が醸成され、とくに業務の開発においては統一すべしというルールを設けている組織が多いと思う。java はこの領域では後塵を拝していると言ってよいと思う。歴史的に java の言語仕様と ide は相性がよかったため、ide がコーディングスタイルを自動整形していた結果、ide ごとに互換性のない異なるコーディングスタイルが使われるようになってしまった。私がアリエルで開発していた頃、開発者はみんな eclipse しか使ってなかったので問題にならなかった。しかし、いまや私が知っている ide だけでも次のものがある。
eclipse intellij idea netbeans vscode この問題を解決するツールとして最もメジャーなのは google-java-format で、当初はこのツールを導入しようと考えていた。しかし、開発チームのテックリードから google-java-format のコーディングスタイルはひどい、一番優れているのは intellij idea だというお気持ちを表明された。導入を止めろと言われたわけではないが、チームに入ったばかりの私はテックリードのお気持ちに忖度して google-java-format の導入を断念した。代わりに intellij idea のデフォルトフォーマットをどうやって他の ide を共有するかを調べたところ、Manage code style on a directory level with EditorConfig で EditorConfig の設定 (.editorconfig) を intellij idea で再利用できることがわかった。
うちの開発チームのメンバーは intellij idea と vscode しか使っていないため、現状はこれで解決できるように思えた。intellij idea にはデフォルトで EditorConfig プラグインがバンドルされていて有効になっている。リポジトリのルートディレクトリに .editorconfig があれば自動的にそれを読み込んでくれる。そこで intellij idea のデフォルト設定を .editorconfig 形式でエクスポートして、それをリポジトリのルートディレクトリに配置することでコーディングスタイルのフォーマッターを共通化できた。</description><content>&lt;p>1時半に寝て6時に起きた&lt;/p>
&lt;h2 id="ソースコードのフォーマッター">ソースコードのフォーマッター&lt;/h2>
&lt;p>go 言語の &lt;a href="https://pkg.go.dev/cmd/gofmt">gofmt&lt;/a> が成功をおさめたことからどんなプログラミング言語でもコーディングスタイルはツールで自動整形するのがよいという雰囲気が醸成され、とくに業務の開発においては統一すべしというルールを設けている組織が多いと思う。java はこの領域では後塵を拝していると言ってよいと思う。歴史的に java の言語仕様と ide は相性がよかったため、ide がコーディングスタイルを自動整形していた結果、ide ごとに互換性のない異なるコーディングスタイルが使われるようになってしまった。私がアリエルで開発していた頃、開発者はみんな eclipse しか使ってなかったので問題にならなかった。しかし、いまや私が知っている ide だけでも次のものがある。&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://www.eclipse.org/">eclipse&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.jetbrains.com/idea/">intellij idea&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://netbeans.apache.org/">netbeans&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://code.visualstudio.com/">vscode&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>この問題を解決するツールとして最もメジャーなのは &lt;a href="https://github.com/google/google-java-format">google-java-format&lt;/a> で、当初はこのツールを導入しようと考えていた。しかし、開発チームのテックリードから google-java-format のコーディングスタイルはひどい、一番優れているのは intellij idea だというお気持ちを表明された。導入を止めろと言われたわけではないが、チームに入ったばかりの私はテックリードのお気持ちに忖度して google-java-format の導入を断念した。代わりに intellij idea のデフォルトフォーマットをどうやって他の ide を共有するかを調べたところ、&lt;a href="https://www.jetbrains.com/help/idea/configuring-code-style.html#editorconfig">Manage code style on a directory level with EditorConfig&lt;/a> で &lt;a href="https://editorconfig.org/">EditorConfig&lt;/a> の設定 (&lt;code>.editorconfig&lt;/code>) を intellij idea で再利用できることがわかった。&lt;/p>
&lt;p>うちの開発チームのメンバーは intellij idea と vscode しか使っていないため、現状はこれで解決できるように思えた。intellij idea にはデフォルトで EditorConfig プラグインがバンドルされていて有効になっている。リポジトリのルートディレクトリに &lt;code>.editorconfig&lt;/code> があれば自動的にそれを読み込んでくれる。そこで intellij idea のデフォルト設定を &lt;code>.editorconfig&lt;/code> 形式でエクスポートして、それをリポジトリのルートディレクトリに配置することでコーディングスタイルのフォーマッターを共通化できた。&lt;/p></content></item></channel></rss>