<!doctype html><html lang=en><head><title>Svelte :: </title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=/diary/tags/svelte/><link rel=stylesheet href=/diary/styles.css><link rel=stylesheet href=/diary/style.css><link rel="shortcut icon" href=/diary/favicon.ico><meta name=twitter:card content="summary"><meta name=twitter:site content="t2y"><meta name=twitter:creator content><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:title" content="Svelte"><meta property="og:description" content><meta property="og:url" content="/diary/tags/svelte/"><meta property="og:site_name" content><meta property="og:image" content="/diary/favicon.ico"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><link href=/diary/tags/svelte/index.xml rel=alternate type=application/rss+xml title></head><body class=green><div class="container full headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=/diary><div class=logo>forest nook</div></a></div><ul class="menu menu--mobile"><li class=menu__trigger>Menu&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=/diary/about>自己紹介</a></li><li><a href=/diary/dates>月別一覧</a></li><li><a href=/diary/tags>タグ一覧</a></li></ul></li></ul></div><nav class=navigation-menu><ul class="navigation-menu__inner menu--desktop"><li><a href=/diary/about>自己紹介</a></li><li><a href=/diary/dates>月別一覧</a></li><li><a href=/diary/tags>タグ一覧</a></li></ul></nav></header><div class=content><h1>Posts for: #Svelte</h1><div class=posts><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0120/>今日は打ち合わせの多い日だった</a></h1><div class=post-meta><time class=post-date>2023-01-20</time></div><span class=post-tags>#<a href=/diary/tags/founding/>founding</a>&nbsp;
#<a href=/diary/tags/career/>career</a>&nbsp;
#<a href=/diary/tags/communication/>communication</a>&nbsp;
#<a href=/diary/tags/svelte/>svelte</a>&nbsp;</span><div class=post-content><p>1時に寝て2時、3時、6時と起きて7時に起きた。久しぶりに胃酸が逆流して気分悪かった。</p><h2 id=隔週の雑談>隔週の雑談</h2><p>顧問のはらさんと隔週の打ち合わせ。sveltekit アプリで使う ui フレームワークの相談をして、<a href=/diary/posts/2023/0119/#課題管理の雑談>昨日の課題管理の雑談内容</a> からさらに考察を深めた。私の中では知っていたことだったはずなのに、いつの間にか、そのことを軽視してしまっていることを再認識したような発見だった。</p><p>コミュ障の私にとってはペアワークという概念がすっぽり抜けていたことは昨日書いた通りだが、それでもいまマネージャーとしてそれなりにコードレビューやインフラタスクに時間を割いている。プロジェクトマネジメントだけをやっているわけではない。それは自分が遊撃として開発者のメンバーを手伝っていることに相当するなと気付いて、そう言えば、過去に五月雨式にだらだらと遅れるようなプロジェクトでは、他のメンバーのタスクが遅れることを横からみているだけしかやってなかったような気がした。もし私が自分のタスクを投げ出して遅れている課題に介入したらどうなっただろうか？と思考実験するだけの余地はあった。</p><p>もう1つ。盛り上がった話しにおっさんはエモい話しをしにくいと私が考えていると伝えた。なぜなら、私の経験則ではエモい話しをするおっさんは総じてスキルをもっていなかった。具体的な知識やプラクティスを話すときはエモい話にならないからだ。その発言に対して、はらさんからはこんなコメントが返ってきた。おっさんもスキルはあるのだけど、そのスキルが時代にあわなくなって古くなってしまった。現場の技術とあわないスキルは、現場の人間からみるとスキルがない人と同じである。少し前に40歳の壁という本を読んだが、そのノリで言うと、40歳になるとスキルが現場に通じなくなる。</p><blockquote class=twitter-tweet><p lang=ja dir=ltr>いまマネージャーをしていて気付かないうちに遊撃というポジションをこなしているのではないかと思うようになってきた。原則として実務をやらず、プロジェクトマネジメントをしている。とはいえ、コードレビューには2-3日／週ぐらいの工数を割いてきた。</p>&mdash; Tetsuya Morimoto (@t2y) <a href="https://twitter.com/t2y/status/1616767644002291712?ref_src=twsrc%5Etfw">January 21, 2023</a></blockquote><script async src=https://platform.twitter.com/widgets.js></script><h2 id=sveltekit-アプリのデプロイ>sveltekit アプリのデプロイ</h2><p>昨日の続き。<a href=https://kit.svelte.dev/docs/building-your-app>Building your app</a> によると、sveltekit のビルドは vite と adapter の2段階で行われる。gitlab ci/cd で node.js 向けにビルドして、それを docker イメージに同梱して、コンテナレジストリに登録する。あとはテスト環境で構築している docker compose に組み込むだけ。今日中にできたらいいなと思って、ぎりぎりだったけど、テスト環境で node.js 上にデプロイしたアプリと疎通できるところまでできた。ssr を介して web api サーバーと疎通できるところまで整備した。ここから先はメンバーに管理画面を作っていってもらう。メンバーの開発着手前にデプロイが一通りできているという気持ちよさ。</p><h2 id=起業相談>起業相談</h2><p>過去に働いていた会社の、私と同い年の元同僚が起業するというので相談にのることに。私が会社を作ってなんとかやっているのをみて関心が出てきたという。いきなり会社を辞めると不安だから副業から始めて、本業の収入を上回るようになったから個人事業主から法人化しようと考えているらしい。実際に会社を辞めるかどうかはまだこれから検討するのかな？本業をやりながら最大4つか5つの副業をまわしてたというから驚き。そんなこと物理的に可能なの？と思ったら開発は人を雇ってマネジメントだけやったりしていたらしい。おそらく4人ぐらい開発者を雇っているという雰囲気だったけど、それでも本業をやりながら4つもマネジメントをするのは相当に大変だと思う。十分にその同僚の能力を認めているつもりだったけれど、それ以上の忍耐や集中力をもっていて、もしかしたら過小評価していたのかもしれない。1つの会社内でも3つ以上プロジェクトを兼任して成果を出しているマネージャーなんか私は見たことない。それを本業と副業と寄せ集めの開発者で実現しているのは類稀な能力だと思う。本人も睡眠時間削って働いてやり過ぎたとは言っていたが。法人登記、税金、節税、働き方とか、ざっくばらんに私が起業してやってきた3年間のお話しをした。なにかしら役に立って活躍されるといいな。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0119/>sveltekit の ssr を理解した</a></h1><div class=post-meta><time class=post-date>2023-01-19</time></div><span class=post-tags>#<a href=/diary/tags/svelte/>svelte</a>&nbsp;
#<a href=/diary/tags/information-exchange/>information exchange</a>&nbsp;
#<a href=/diary/tags/issue-tracking-system/>issue tracking system</a>&nbsp;</span><div class=post-content><p>2時に寝て7時に起きた。キングダムの新刊を読みながら寝てた。</p><h2 id=sveltekit-の初期プロジェクト>sveltekit の初期プロジェクト</h2><p><a href=/diary/posts/2023/0117/#svelte-アプリの開発に着手>技術選定で svelte を採用した</a> ので昨日から <a href=https://kit.svelte.dev/>SvelteKit</a> でアプリケーション開発に着手した。<a href=https://kit.svelte.dev/docs/project-structure>Project structure</a> にもだいぶ慣れてきた。開発初期はディレクトリ構成に迷うのでドキュメントに標準的な階層構造を書いてくれているのは素晴らしい。<a href=https://kit.svelte.dev/docs/routing>Routing</a> もキモいけど、ssr の場合は <code>+page.svelte</code> と <code>+page.server.ts</code> を設けるのに慣れてきた。ssr で proxy 的に web api 呼び出しも簡単に実装した。知らないフレームワークで開発するのは学ぶところが多くて楽しい。区切りのよいところで初期開発の issue はクローズして明日は gitlab ci/cd でテスト環境にデプロイするのをやってみる。</p><h2 id=課題管理の雑談>課題管理の雑談</h2><p>過去に働いていた会社の同僚と課題管理について雑談した。web3 系の会社で働いているのでブロックチェーンや dao 周りの話しも一緒にしたりしていた。一回りぐらい私より若いと思うけれど、私よりはるかに優秀な開発者だなぁと感じながら話しを聞いていた。いま一緒に働いても足手まといになるんじゃないかと思えて身が引き締まる。いくつか話題の中で学んだことを抜き出してみる。</p><ul><li>自分の知識やスキルを共有する手段の1つとしてペアワークをやる<ul><li>ペアワークを通してメンバーとの信頼関係も構築していく</li><li>いまもっている知識やスキルには個人差はあるが、模倣の能力が低い人をみたことがない</li></ul></li><li>上位の意思決定者から低いレベルにあわせる (標準化など) ように指示がきたときは反発する<ul><li>ユーザーファーストが第一ならレベルを下げるような指示はおかしい</li><li>「誰を向いて仕事しているの？」と説得する</li></ul></li><li>プロジェクトにおいて目的を明確化せずに始めてしまうのは本当によくない<ul><li>日本人は上意下達で行動するように教育されてきた弊害ではないか</li><li>目的を明確化するのは意見を言うことと同じである<ul><li>レイヤーが上がるほどエモい話しになって人生観や哲学の話しになっていく</li><li>チームのモチベーションを維持する上でも有効ではないか</li></ul></li></ul></li></ul><p>私はコミュ障だから他人と一緒に作業しようという発想がそもそもなかった。こちらから一緒にやろうと声をかけて知識やスキルを共有する手段もあるのかと気付いた。これまでも何人もの人にいろんな話しを伺っている。他人のノウハウを聞くだけでもこの雑談をすることに意味はあると思えた。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2023/0111/>svelte とはリアクティブな ui のための言語</a></h1><div class=post-meta><time class=post-date>2023-01-11</time></div><span class=post-tags>#<a href=/diary/tags/svelte/>svelte</a>&nbsp;</span><div class=post-content><p>2時半に寝て7時に起きた。なんか意味なく夜更かししたもののよく眠れた。</p><h2 id=svelte-調査>svelte 調査</h2><p><a href=/diary/posts/2022/1223/>年末から svelte のチュートリアル</a> を始めたものの、葬儀と年末年始休暇で間があいてしまった。年始やもくもく会でも少しずつやっていたものの、今日で終わらせようと最後の方は少し端折りつつチュートリアルを終わらせた。svelete と sveltekit の2つのチュートリアルをやっていて時間がかかった。svelte のシングルファイルコンポーネント (SFC) は vue.js とよく似ている。スクリプトやテンプレートの構文が違う程度の印象。vue.js よりもスクリプトやテンプレートの記述がシンプルな分、やはり簡単に思える。svelte の作者である rich harris 氏が書いたメモに次がある。</p><ul><li><a href=https://gist.github.com/Rich-Harris/0f910048478c2a6505d1c32185b61934>Rich-Harris/what-is-svelte.md</a></li></ul><p>大雑把にまとめると次のようなことが書いてある。</p><blockquote><p>svelte を ui フレームワークとして開発してきて、svelte 3 で svelte は言語だと気づいた。リアクティブな ui を記述するための言語であると。これまでそういった取り組みをしてきたプロジェクトはいくつかあるが、どれもコンパイラ以上の専用ツールが必要になってしまい、すべてを制御する必要があって、ライブラリの段階的な採用などもできないために大掛かりには導入されなかった。</p><p>html, css, js という多くの開発者が蓄積された経験をもっていて、小規模に段階的に導入するには、それらの言語をハックして拡張するのがパフォーマンスもよく、もっとも優れた解決策であると考えるに至った。</p></blockquote><p>実際に svelte のチュートリアルをやってみると、その簡潔さから rich harris 氏の言葉も理解できる。開発者によっては svelte コンパイラが拡張している javascript の構文や機能を受け入れられない人もいるだろう。純粋な javascript を書きたい人には向かないライブラリかもしれない。そこがリアクティブな ui をコンパイラレベルで実現するためのトレードオフと言える。だから svelte は javascript のハックも含めての言語なのだという解釈になる。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2022/1223/>svelte のチュートリアルで学ぶ</a></h1><div class=post-meta><time class=post-date>2022-12-23</time></div><span class=post-tags>#<a href=/diary/tags/founding/>founding</a>&nbsp;
#<a href=/diary/tags/government/>government</a>&nbsp;
#<a href=/diary/tags/svelte/>svelte</a>&nbsp;</span><div class=post-content><p>22時頃から寝てたものの、また2時頃に吐き気で苦しんで何度か起きて7時過ぎに起きた。なかなか体調が悪い。</p><h2 id=隔週の雑談>隔週の雑談</h2><p>顧問のはらさんと隔週の打ち合わせ。今週はてんやわんやで議題を整理する余裕すらなかったので近況を軽く共有した。</p><ul><li><a href=/diary/posts/2022/1214/>フロントエンドの技術選定の状況</a><ul><li>next.js と svelte kit の違いとか</li></ul></li><li><a href=/diary/posts/2022/1221/>オンラインイベントで話した課題管理の話題</a></li></ul><p>課題管理を it 業界や開発プロジェクトだけでなく、もっと様々な分野や業界で応用できるようにしたい。最初は私がノウハウをもっている業界や業務のみに特化したものになるだろうけど、いずれはスコープを拡げていきたい。その先に <a href=https://www.soumu.go.jp/main_sosiki/jichi_gyousei/c-gyousei/02gyosei08_03000066.html>地域おこし協力隊</a> のようなところにいって社会貢献ができればおもしろいのではないかといった話しをした。地域おこし協力隊の内容はおもしろそうだけど、1人あたりの経費の上限が480万円に設定されていて、ググって調べると余裕のない自治体では満額支給されていないケースもあるみたい。行政がやらないといけない業務をアウトソーシングする予算が低過ぎて、適切な実績やスキルをもった人が経済的に参加しにくい状況にある。採用の目利きができないから単価を低くして失敗を許容しやすくなっているようにもみえる。行政の予算が低い問題は専門家が入って採用も含めて改善していく必要がある。</p><h2 id=svelte-入門>svelte 入門</h2><p>昨日の続きで <a href=https://learn.svelte.dev/tutorial/welcome-to-svelte>svelte のチュートリアル</a> を始めた。このチュートリアルはファイル操作とオンラインエディタもついていて、ソースコードを変更するとすぐビルドされて結果も確認できる。フロントエンドのチュートリアル自体がフロントエンド技術のデモになっている。よく作られているよなと感心しながら取り組んでいる。svelte でスクリプトを書くときの、マジックコード的な変な構文がある。<a href=https://ohbarye.hatenablog.jp/entry/2017/11/30/012726>simple is not easy</a> の文脈で言うところの <em>easy</em> であり、私のような <em>simple</em> 派からみるとやや気持ち悪い。わりと分量があるので途中にコードレビューや勉強会の講師をやっていたら1日では終わらなかった。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>count</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>$</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>doubled</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>count</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>2</span>;
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#f92672>script</span>&gt;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>export</span> <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>answer</span>;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>script</span>&gt;
</span></span></code></pre></div></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2022/1105/>フロントエンドの技術選定</a></h1><div class=post-meta><time class=post-date>2022-11-05</time></div><span class=post-tags>#<a href=/diary/tags/react/>react</a>&nbsp;
#<a href=/diary/tags/vue.js/>vue.js</a>&nbsp;
#<a href=/diary/tags/svelte/>svelte</a>&nbsp;</span><div class=post-content><p>24時に BOOK AND BED TOKYO にチェックインして雑多なことして25時過ぎには寝て8時過ぎに起きてチェックアウトした。それから新幹線に乗って神戸まで戻ってきた。東京・品川から新神戸間は、往路は <a href=/diary/posts/2022/1031/#東京出張>EX早特21ワイド</a> だと12,630円で、復路は自由席で14,420円だった。私の中で時間の制約はストレスやエネルギーを使う。帰りは時間に縛られたくないという思いで新幹線の駅に着いてから自由席を買うようにしている。一方で2千円近い差額も大きいので次回以降は帰りの新幹線もEX早特21ワイドで取ることにした。</p><h2 id=フロントエンドの調査>フロントエンドの調査</h2><p>昼過ぎに家に戻ってきて洗濯や片付けしたら疲れてまた寝てた。晩ご飯食べて21時ぐらいからオフィスで作業してた。猫みたいな生活。オフィスからお手伝い先のネットワーク接続の設定をやったりしながらフロントエンドのコードを読んでみた。これは作り直した方がよいだろうと私の中で決意して、どういった技術で作り直すかの技術選定のための調査を開始した。既存のフロントエンド開発の背景や経緯を知らないのでまだ確定ではない。提案の準備のために調査をしておく。</p><p>ここ最近 <a href=https://svelte.dev/>svelte</a> の人気があるのをみかける。1年ほど前に三ノ宮.devで教えてもらってチュートリアルをやってみて、そのときは特にどうとも思わなくて、こんなやり方もあるんやな程度にみていた。その後 vue.js (nuxtjs) での開発を半年間ほど経験して、思いの外、私にとって vue.js がよいものにはみえなかった。react よりも簡単と聞いていたけど、私にとってはあまりそうは思えなかった。vue.js は vue.js なりの難しさ (学習コスト) があるように感じられた。管理画面のような小規模な用途に react や vue.js のようなリッチなライブラリ・フレームワークを使わなくてよい方法があるかを考えたときに svelte を思い出した。svelte の実際のアプリケーションのサンプルコードとして次のコードを読んでいた。</p><ul><li><a href=https://github.com/sveltejs/realworld>svelte realworld example</a></li></ul><p>vue.js の single-file components は svelte の前身である <a href=https://github.com/ractivejs/component-spec>ractive.js のコンポーネント</a> の概念に影響を受けているという。従って、svelte のコンポーネント開発は vue.js と考え方が近いものの、dom 操作は svelte のコンパイル時にコード生成するので仮想 dom は使わない。これがパフォーマンス上の大きなメリットと言われている。react や vue.js よりもずっと軽量なコンパイラ・フレームワークと言える。次のページに複数のフロントエンドの技術の流行をまとめている。svelte はこの2年ぐらいで人気が急上昇していることがわかる。</p><ul><li><a href=https://gist.github.com/tkrotoff/b1caa4c3a185629299ec234d2314e190>Front-end frameworks popularity (React, Vue, Angular and Svelte)</a></li></ul><p>また react と vue.js の現状もちゃんと把握しようと調べていて次の記事がおもしろかった。</p><ul><li><a href=https://zenn.dev/sa2knight/articles/why_react_folks_dont_choose_vue>[Twitter] React ユーザーが Vue を選ばない理由</a></li></ul><p>vue.js は vue3 で react になろうとしていて、その過程の過渡期には様々な問題を抱えているように私からはみえた。</p><ul><li>vue2 と vue3 は互換性がない</li><li>vue3 移行へのエコシステムの本気度がみえない</li><li>vue2 の開発者が本当に vue3 を求めているのか懐疑的</li><li>シェアだけみたら vue.js よりも react の方が高い</li></ul></div></article><div class=pagination><div class=pagination__buttons><a href=/diary/tags/svelte/ class="button previous"><span class=button__icon>←</span>
<span class=button__text>最近の日記</span></a></div></div></div></div><footer class=footer><div class=footer__inner><div class=copyright><span>© 2024 Powered by <a href=https://gohugo.io>Hugo</a></span>
<span>:: <a href=https://github.com/panr/hugo-theme-terminal target=_blank>Theme</a> made by <a href=https://github.com/panr target=_blank>panr</a></span></div></div></footer><script type=text/javascript src=/diary/bundle.min.js></script></div></body></html>