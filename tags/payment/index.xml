<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Payment on</title><link>/diary/tags/payment/</link><description>Recent content in Payment on</description><generator>Hugo -- gohugo.io</generator><language>en</language><lastBuildDate>Fri, 16 Jun 2023 09:57:15 +0900</lastBuildDate><atom:icon>/diary/favicon.ico</atom:icon><icon>/diary/favicon.ico</icon><atom:link href="/diary/tags/payment/index.xml" rel="self" type="application/rss+xml"/><item><title>アイディアのコラボレーション</title><link>/diary/posts/2023/0616/</link><pubDate>Fri, 16 Jun 2023 09:57:15 +0900</pubDate><guid>/diary/posts/2023/0616/</guid><description>2時に寝て何度か起きて7時に起きた。今日は勉強会の登板なのになにも準備できてなくてどうしようとか思いながら寝た。
パッケージングとリリースのドキュメント 5月の落ち穂拾いの時期にプロジェクトの開発ドキュメントを刷新していろいろな要項を書き残している。最後に残ったまだ書いていないドキュメントに次の2つがある。水曜日から課題管理やコードレビューの隙間時間に書き出していって3日ほどかけて一通り書き終えた。私は文章を書くのが遅いのと、1回ですべての内容を網羅できなくて、書いているうちに思い出して追記したり、寝かした文章をあとで見返して推敲したりすることが多い。そのため、ドキュメントを1週間ぐらいかけて書いたりする。
パッケージング リリース たまたまメンバーにあるモジュールをリファクタリングのために再実装してもらっている。その開発を完了したら古いモジュールと入れ替える必要があるので、開発だけではなく、パッケージングやリリース周りの作業を把握してもらう、よい機会と言える。これまでパッケージングやリリース周りのインフラはほとんど私が作って運用をまわしてきたので徐々にそれらを引き継ぐタイミングとも言える。開発者はインフラのことを気にせず、アプリケーションを開発してコミットすれば後はすべて ci/cd が自動的にいろいろやってくれて便利ぐらいの感覚で扱えるようにするのが、外資系などではプラットフォームに投資しろと言われたりするものだと推測する。うちらが開発しているプロダクトはコンテナ、RPM、Windows インストーラーとパッケージングする種類が多い。その要項に加えて QA 責任の考え方などについても書いておいた。主には私がいなくなった後に役に立つドキュメントとなるだろう。
チーム勉強会 本当は go の generics の勉強会をやりますと先週宣言していた。しかし、私が遊んでいて全然準備できなかったので代わりに決済とスマートプラグの話しをした。先週末と月曜日 に作った決済とスマートプラグを組み合わせたもの。サービスや仕組みを簡単に説明して、実際にデモを動かして電球を灯す。
参加者からスマートプラグをラズベリーパイに置き換えてパワーリレーというモジュールを使えばもっとスマートにできるんじゃないかという意見が出た。たしかにラズベリーパイなら stripe の決済イベントを受け取るサーバーをデバイス内に同梱させることもできるかもしれない。そうすると、スマートプラグのような電源の on/off だけではなく、ラズベリーパイが扱えるセンサーとインテグレーションすることもできそう。また時間のあるときにやってみたい。コラボレーションって正にこういうことを言うとわかってきた。私が1人でこの仕組みを実装していたときにはラズベリーパイというキーワードはまったく頭の中になかった。他者の視点が加わるから新しいアイディアが広がる。</description><content>&lt;p>2時に寝て何度か起きて7時に起きた。今日は勉強会の登板なのになにも準備できてなくてどうしようとか思いながら寝た。&lt;/p>
&lt;h2 id="パッケージングとリリースのドキュメント">パッケージングとリリースのドキュメント&lt;/h2>
&lt;p>5月の落ち穂拾いの時期にプロジェクトの開発ドキュメントを刷新していろいろな要項を書き残している。最後に残ったまだ書いていないドキュメントに次の2つがある。水曜日から課題管理やコードレビューの隙間時間に書き出していって3日ほどかけて一通り書き終えた。私は文章を書くのが遅いのと、1回ですべての内容を網羅できなくて、書いているうちに思い出して追記したり、寝かした文章をあとで見返して推敲したりすることが多い。そのため、ドキュメントを1週間ぐらいかけて書いたりする。&lt;/p>
&lt;ul>
&lt;li>パッケージング&lt;/li>
&lt;li>リリース&lt;/li>
&lt;/ul>
&lt;p>たまたまメンバーにあるモジュールをリファクタリングのために再実装してもらっている。その開発を完了したら古いモジュールと入れ替える必要があるので、開発だけではなく、パッケージングやリリース周りの作業を把握してもらう、よい機会と言える。これまでパッケージングやリリース周りのインフラはほとんど私が作って運用をまわしてきたので徐々にそれらを引き継ぐタイミングとも言える。開発者はインフラのことを気にせず、アプリケーションを開発してコミットすれば後はすべて ci/cd が自動的にいろいろやってくれて便利ぐらいの感覚で扱えるようにするのが、外資系などではプラットフォームに投資しろと言われたりするものだと推測する。うちらが開発しているプロダクトはコンテナ、RPM、Windows インストーラーとパッケージングする種類が多い。その要項に加えて QA 責任の考え方などについても書いておいた。主には私がいなくなった後に役に立つドキュメントとなるだろう。&lt;/p>
&lt;h2 id="チーム勉強会">チーム勉強会&lt;/h2>
&lt;p>本当は go の generics の勉強会をやりますと先週宣言していた。しかし、私が遊んでいて全然準備できなかったので代わりに決済とスマートプラグの話しをした。&lt;a href="/diary/diary/posts/2023/0612/">先週末と月曜日&lt;/a> に作った決済とスマートプラグを組み合わせたもの。サービスや仕組みを簡単に説明して、実際にデモを動かして電球を灯す。&lt;/p>
&lt;figure>&lt;img src="/diary/diary/img/2023/0616_payment-and-smartplug.png"/>
&lt;/figure>
&lt;p>参加者からスマートプラグをラズベリーパイに置き換えてパワーリレーというモジュールを使えばもっとスマートにできるんじゃないかという意見が出た。たしかにラズベリーパイなら stripe の決済イベントを受け取るサーバーをデバイス内に同梱させることもできるかもしれない。そうすると、スマートプラグのような電源の on/off だけではなく、ラズベリーパイが扱えるセンサーとインテグレーションすることもできそう。また時間のあるときにやってみたい。コラボレーションって正にこういうことを言うとわかってきた。私が1人でこの仕組みを実装していたときにはラズベリーパイというキーワードはまったく頭の中になかった。他者の視点が加わるから新しいアイディアが広がる。&lt;/p></content></item><item><title>stripe の決済プラットフォームを触ってみた</title><link>/diary/posts/2023/0610/</link><pubDate>Sat, 10 Jun 2023 13:24:28 +0900</pubDate><guid>/diary/posts/2023/0610/</guid><description>1時に寝て何度か起きて7時に起きた。帰る途中でライフに寄って淡路島牛乳を買って帰った。
ストレッチ 先週に引き続き、同じぐらいの負荷でおなぐらいの疲労度のストレッチだったような気がする。座っている時間が長いわけでもないが、右腰の張りがなかなか解消しないような気もする。今日の開脚幅は開始前156cmで、ストレッチ後158cmだった。ここ最近は下限が156cmになったような気がする。
stripe の webhook ハンドラーを試してみる カフーツさんで雑談していたのをきっかけに電子決済とスマートプラグを組み合わせた poc のためのアプリケーションを作ろうと思い立った。
stripe はメジャーなだけあって、プラットフォームもドキュメントもよく出来ていると思う。アカウント作成もすぐできたし、ドキュメントも充実しているようにみえる。【オフライン】もくもく会 の参加前からコードを書いて、イベントに参加してからも継続してコードを書き終えた。stripe で作った支払いの qr コードを読み込んで決済すると任意の webhook のエンドポイントにイベントを通知してログ出力するサンプルコードを作った。stripe-go を使ってすぐに実装できた。
https://github.com/kazamori/stripe-webhook-sample アカウント登録からサンプルコードを動かすのも丸1日ぐらいあれば出来てしまうぐらいの簡単さ。</description><content>&lt;p>1時に寝て何度か起きて7時に起きた。帰る途中でライフに寄って淡路島牛乳を買って帰った。&lt;/p>
&lt;h2 id="ストレッチ">ストレッチ&lt;/h2>
&lt;p>先週に引き続き、同じぐらいの負荷でおなぐらいの疲労度のストレッチだったような気がする。座っている時間が長いわけでもないが、右腰の張りがなかなか解消しないような気もする。今日の開脚幅は開始前156cmで、ストレッチ後158cmだった。ここ最近は下限が156cmになったような気がする。&lt;/p>
&lt;h2 id="stripe-の-webhook-ハンドラーを試してみる">stripe の webhook ハンドラーを試してみる&lt;/h2>
&lt;p>カフーツさんで雑談していたのをきっかけに電子決済とスマートプラグを組み合わせた poc のためのアプリケーションを作ろうと思い立った。&lt;/p>
&lt;p>&lt;a href="https://stripe.com">stripe&lt;/a> はメジャーなだけあって、プラットフォームもドキュメントもよく出来ていると思う。アカウント作成もすぐできたし、ドキュメントも充実しているようにみえる。&lt;a href="https://kobe-sannomiya-dev.connpass.com/event/277976/">【オフライン】もくもく会&lt;/a> の参加前からコードを書いて、イベントに参加してからも継続してコードを書き終えた。stripe で作った支払いの qr コードを読み込んで決済すると任意の webhook のエンドポイントにイベントを通知してログ出力するサンプルコードを作った。&lt;a href="https://github.com/stripe/stripe-go">stripe-go&lt;/a> を使ってすぐに実装できた。&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/kazamori/stripe-webhook-sample">https://github.com/kazamori/stripe-webhook-sample&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>アカウント登録からサンプルコードを動かすのも丸1日ぐらいあれば出来てしまうぐらいの簡単さ。&lt;/p></content></item><item><title>早起きは三文の徳</title><link>/diary/posts/2023/0604/</link><pubDate>Sun, 04 Jun 2023 17:02:38 +0900</pubDate><guid>/diary/posts/2023/0604/</guid><description>昨日は飲んだくれで帰ってきて1時に寝て何度か起きて7時に起きたものの、二日酔いではないけど、10時頃までだらだらしていた。それ以降はオフィスで作業していたのだけど、朝起きるのが遅れた分の進捗がいまいちになってしまった。翌2時過ぎまでやってもやりたかったことを完了できなかった。
レビュー対応 先日送った go-ldap の pr のレビューが付いていたので指摘されたところの修正をしたり、バグに気付いてリファクタリングしたりしていた。昨日の夜にコメントが付いていることに気付いたが、飲んだくれだったので対応が遅れた。レビューコメントの1つを除いて他はすべて対応した。残りの1つは api の設計をもっと堅牢、且つ拡張性に富んだものにしてはどうか？という提案。提案内容自体は悪くないと思う。他のレビューアのコメントも確認するためにまたしばし待つ。いまのところはよい感じ。
stripe アカウント あるアイディアの poc を作ろうと思って stripe のアカウントを作った。当初は決済手段として paypay でやろうと思ったものの、サポートに電話して聞いてみると paypay は実店舗向けにしかサービスを提供していないらしい。テスト環境もなければ、開発会社が検証用途で使うといったことも想定していないらしい。それで stripe のアカウントを作成した。即時でアカウントを発行できて使えるようになった。さすがって感じ。</description><content>&lt;p>昨日は飲んだくれで帰ってきて1時に寝て何度か起きて7時に起きたものの、二日酔いではないけど、10時頃までだらだらしていた。それ以降はオフィスで作業していたのだけど、朝起きるのが遅れた分の進捗がいまいちになってしまった。翌2時過ぎまでやってもやりたかったことを完了できなかった。&lt;/p>
&lt;h2 id="レビュー対応">レビュー対応&lt;/h2>
&lt;p>先日送った &lt;a href="/diary/diary/posts/2023/0601/#チャンネルを用いた-ldap-検索の-api">go-ldap の pr&lt;/a> のレビューが付いていたので指摘されたところの修正をしたり、バグに気付いてリファクタリングしたりしていた。昨日の夜にコメントが付いていることに気付いたが、飲んだくれだったので対応が遅れた。レビューコメントの1つを除いて他はすべて対応した。残りの1つは api の設計をもっと堅牢、且つ拡張性に富んだものにしてはどうか？という提案。提案内容自体は悪くないと思う。他のレビューアのコメントも確認するためにまたしばし待つ。いまのところはよい感じ。&lt;/p>
&lt;h2 id="stripe-アカウント">stripe アカウント&lt;/h2>
&lt;p>あるアイディアの poc を作ろうと思って &lt;a href="https://stripe.com/">stripe&lt;/a> のアカウントを作った。当初は決済手段として paypay でやろうと思ったものの、サポートに電話して聞いてみると paypay は実店舗向けにしかサービスを提供していないらしい。テスト環境もなければ、開発会社が検証用途で使うといったことも想定していないらしい。それで stripe のアカウントを作成した。即時でアカウントを発行できて使えるようになった。さすがって感じ。&lt;/p></content></item></channel></rss>