<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>government on forest nook</title><link>/diary/tags/government/</link><description>Recent content in government on forest nook</description><generator>Hugo -- gohugo.io</generator><language>ja-jp</language><copyright>© 2021 Tetsuya Morimoto</copyright><lastBuildDate>Sun, 10 Jul 2022 11:51:06 +0900</lastBuildDate><atom:icon>/diary/favicon.ico</atom:icon><icon>/diary/favicon.ico</icon><atom:link href="/diary/tags/government/index.xml" rel="self" type="application/rss+xml"/><item><title>放置していたバグを直した</title><link>/diary/posts/2022/0710/</link><pubDate>Sun, 10 Jul 2022 11:51:06 +0900</pubDate><guid>/diary/posts/2022/0710/</guid><description>1時に寝て7時に起きた。寝ていて夜中に吐き気して眠れなくて上体を起こすしかなかった。たまにある 胃食道逆流症 のひどいやつ。
参議院選挙 普段は期日前投票で済ませるのだけど、今週は他のことに注意を取られていたせいか、当日行ってきた。場所が期日前と違ったので勝手がわからなかったけど、とくに混雑もしてなかったのですぐに完了できた。タイムラインを眺めると、私のタイムライン上では投票したと発言する人が増えてきたように思う。投票率が50%程度で半分ぐらいの人が投票していない状況に懸念をもつ人たちの可視化がされている。
ふと父の選挙はどうなるんだろう？と思って検索してみた。意思表示できない状態だと選挙はできないみたい。
選挙人本人が投票所に行き自らの意思で投票することが原則であることから、意思表示が困難である場合には投票することはできません。これは投票所の係員が選挙人の投票を補助する代理投票においても同様です。したがって、家族の方が本人に代わって投票することはできません。
神戸市 FAQ &amp;gt; 市政情報 &amp;gt; 選挙
70歳以上は傷病で選挙権を行使できない人たちもいるだろうから減るのかな？と、総務省の 年代別投票率 のグラフを確認してみた。直近だと、70歳以上が61.96, 60歳代が71.43、50歳代が62.96だった。60歳代と比べて減ってはいるけど、50歳代とそう変わらないのをみると、元気な人たちに選挙へ行こうと呼びかけるのは正しい気がした。
backlog-github-integration-action のバグ修正 運用してすぐにコミットメッセージ中にシングルクォートやダブルクォートが含まれると引数を正しくパースできなくてエラーになることがわかっていた。いま運用している環境の用途だと、それほど重要ではないので後回しにしているうちに面倒になって放置していた。晩ご飯を食べてからデバッグしていたら7時間ぐらいやってた。
push subcommand is failed when a commit message includes single quote or double quote #6 bash 上の文字列の扱いと action.yml の inputs の args に引数渡しするときの振る舞いの勘違いもあって、issue の見た目以上に複雑な振る舞いをしていることがわかった。github actions 上のコンテキストに依存したくなかったため、github.event.commits の json をそのまま cli パラメーターとして渡している。bash 上の json 文字列と cli パラメーターとしての扱いが煩雑になるのでこのやり方は失敗だったかもしれない。ローカルでのテストもやりにくい。私はそのことをよく理解していたはずなのに github actoins 上のアンチパターンにはまってしまった。カスタムアクションのユーザーが簡単に使えるように cli パラメーターの設定を簡単にする意図で json 渡しにしたんだけど、エスケープの振る舞いが想像以上にややこしくなって、エスケープしたいユーザーには簡単ではなくなってしまった。それでもデバッグをがんばったおかげでシングルクォートは完全に使えるように実装できた。ダブルクォートは制限付きでエラーにならなくできるが、事実上は使わないでくださいといった仕様制限にしてしまおうと思う。引用するときはダブルクォートじゃなくてシングルクォートを使ってくださいと啓蒙することに決めた。</description><content>&lt;p>1時に寝て7時に起きた。寝ていて夜中に吐き気して眠れなくて上体を起こすしかなかった。たまにある &lt;a href="/diary/diary/posts/2021/1114/#傾斜枕">胃食道逆流症&lt;/a> のひどいやつ。&lt;/p>
&lt;h2 id="参議院選挙">参議院選挙&lt;/h2>
&lt;p>普段は期日前投票で済ませるのだけど、今週は他のことに注意を取られていたせいか、当日行ってきた。場所が期日前と違ったので勝手がわからなかったけど、とくに混雑もしてなかったのですぐに完了できた。タイムラインを眺めると、私のタイムライン上では投票したと発言する人が増えてきたように思う。投票率が50%程度で半分ぐらいの人が投票していない状況に懸念をもつ人たちの可視化がされている。&lt;/p>
&lt;figure>&lt;img src="/diary/diary/img/2022/0710_voted.jpg"/>
&lt;/figure>
&lt;p>ふと父の選挙はどうなるんだろう？と思って検索してみた。意思表示できない状態だと選挙はできないみたい。&lt;/p>
&lt;blockquote>
&lt;p>選挙人本人が投票所に行き自らの意思で投票することが原則であることから、意思表示が困難である場合には投票することはできません。これは投票所の係員が選挙人の投票を補助する代理投票においても同様です。したがって、家族の方が本人に代わって投票することはできません。&lt;/p>
&lt;p>&lt;a href="https://help.city.kobe.lg.jp/hc/ja/articles/4488187002767-%E6%84%8F%E6%80%9D%E8%A1%A8%E7%A4%BA%E3%81%8C%E5%9B%B0%E9%9B%A3%E3%81%AA%E9%81%B8%E6%8C%99%E4%BA%BA%E3%81%AB%E4%BB%A3%E3%82%8F%E3%81%A3%E3%81%A6-%E5%AE%B6%E6%97%8F%E3%81%8C%E6%8A%95%E7%A5%A8%E3%81%99%E3%82%8B%E6%96%B9%E6%B3%95%E3%81%AF%E3%81%82%E3%82%8A%E3%81%BE%E3%81%99%E3%81%8B-">神戸市 FAQ &amp;gt; 市政情報 &amp;gt; 選挙&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;p>70歳以上は傷病で選挙権を行使できない人たちもいるだろうから減るのかな？と、総務省の &lt;a href="https://www.soumu.go.jp/senkyo/senkyo_s/news/sonota/nendaibetu/">年代別投票率&lt;/a> のグラフを確認してみた。直近だと、70歳以上が61.96, 60歳代が71.43、50歳代が62.96だった。60歳代と比べて減ってはいるけど、50歳代とそう変わらないのをみると、元気な人たちに選挙へ行こうと呼びかけるのは正しい気がした。&lt;/p>
&lt;h2 id="backlog-github-integration-action-のバグ修正">backlog-github-integration-action のバグ修正&lt;/h2>
&lt;p>運用してすぐにコミットメッセージ中にシングルクォートやダブルクォートが含まれると引数を正しくパースできなくてエラーになることがわかっていた。いま運用している環境の用途だと、それほど重要ではないので後回しにしているうちに面倒になって放置していた。晩ご飯を食べてからデバッグしていたら7時間ぐらいやってた。&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/kazamori/backlog-github-integration-action/issues/6">push subcommand is failed when a commit message includes single quote or double quote #6&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>bash 上の文字列の扱いと action.yml の inputs の args に引数渡しするときの振る舞いの勘違いもあって、issue の見た目以上に複雑な振る舞いをしていることがわかった。github actions 上のコンテキストに依存したくなかったため、&lt;code>github.event.commits&lt;/code> の json をそのまま cli パラメーターとして渡している。bash 上の json 文字列と cli パラメーターとしての扱いが煩雑になるのでこのやり方は失敗だったかもしれない。ローカルでのテストもやりにくい。私はそのことをよく理解していたはずなのに github actoins 上のアンチパターンにはまってしまった。カスタムアクションのユーザーが簡単に使えるように cli パラメーターの設定を簡単にする意図で json 渡しにしたんだけど、エスケープの振る舞いが想像以上にややこしくなって、エスケープしたいユーザーには簡単ではなくなってしまった。それでもデバッグをがんばったおかげでシングルクォートは完全に使えるように実装できた。ダブルクォートは制限付きでエラーにならなくできるが、事実上は使わないでくださいといった仕様制限にしてしまおうと思う。引用するときはダブルクォートじゃなくてシングルクォートを使ってくださいと啓蒙することに決めた。&lt;/p></content></item><item><title>引越考察</title><link>/diary/posts/2022/0114/</link><pubDate>Fri, 14 Jan 2022 07:15:28 +0900</pubDate><guid>/diary/posts/2022/0114/</guid><description>0時半に寝て5時半に起きた。昨日からワールドトリガーのエンディング曲で 雲外憧憬 を聞いている。歌詞がワールドトリガーの世界観ともあっているし、タイトルの雲外憧憬という言葉に驚いた。四字熟語のように読めるけど、たぶん違う？こんな言葉よく思いつくなと感心してしまった。apple music の英語表記だと Aspiration Beyond The Clouds と訳されている。
雲外: 空のはるか遠いところ 憧憬: あこがれること 明石市の調査 1ヶ月ほど前から 泉房穂明石市長 が twitter を始めた。私のタイムラインでもフォロワーの誰かがいいねしたり、リツィートしたりしてちょくちょくみかける。泉氏の暴言などがニュースで取り上げられたりするので地方都市の市長にしては知名度が高い方だろう。神戸市の隣は明石市なのでご近所の関心はある。明石市は日本の標準時子午線があって、学生の頃に 天文科学館 にも行ったことがある。いまも成年後見人の弁護士さんの事務所は明石市にあるし、運転免許センターも明石市にあるので年に数回ぐらい行く機会もある。ツィートを眺めていると58歳の市長が初めてやっているにしてはうまく sns を使いこなしていて、始めて1ヶ月ほどしか経っていないのに8万6千人ものフォロワーがいる。ブレーンが優秀なのか、本人がやっているのかはわからないけど、すごいことだと思う。
ツィートは当然、明石市のアピールが主なのでそれを眺めているうちに明石市よいところだなと好感度があがってきた。高齢者向けのサービスを廃止して育児や教育といった子ども向けのサービスを重視していて、それが子育て世帯にうけて、全国でも有数の人口増の中核都市となっている。当然、子育てに関係ない高齢者からは不満の声もあるみたい。私もその方針は支持したいと考えて、年寄りよりも子どもの教育に行政サービスのリソースを集中すればよいと思う。
いま神戸市に住んでいるのは大阪に通勤するためだった。コロナ禍により、フルリモートワークの世の中に移行したので明石市へ引っ越してもよいかもしれないと考え始めた。明石海峡大橋があるところなので実家の淡路島へ帰るのも少し近くなる。軽く検索していくつかみた雰囲気だと、賃貸マンションの家賃も神戸市より割安感がある。比較サイトによると住民税も神戸市より年間2万円安い。ただシェアオフィスの数、起業文化やベンチャー支援みたいなところは神戸市には相当に及ばない。そこは政令指定都市としての面目躍如といったところか。オフィスさえよい場所があったら住居もオフィスも明石市へ引っ越ししてもよいかもしれない。ひとまずアンテナを張っておく。
オフィスの引っ越し 明石市の話とは別に来期のどこかでオフィスを引っ越ししようかとも考えている。いまのオフィスも大きな不満はないので急いではいない。前に Joel on Software を読んだ ときに窓のないオフィスのストレスについて考えるようになった。気付いたら気付けなかった頃には戻れない。強くはないけど、ストレスの要因はなるべく排除したい。窓以外の不満でいうと働いているうちに備品も増えて部屋が手狭になってきた。引っ越し先候補の1つとして リージャス神戸国際会館ビジネスセンター がある。問い合わせしたら来週に内覧をさせてくれるらしい。交通アクセスやビルのグレードが高いので賃料もかなり高いだろうけど、他のシェアオフィスとの比較も含めて参考のために内覧してくる。</description><content>&lt;p>0時半に寝て5時半に起きた。昨日からワールドトリガーのエンディング曲で &lt;a href="https://www.youtube.com/watch?v=p0RCsmFAXXY">雲外憧憬&lt;/a> を聞いている。歌詞がワールドトリガーの世界観ともあっているし、タイトルの雲外憧憬という言葉に驚いた。四字熟語のように読めるけど、たぶん違う？こんな言葉よく思いつくなと感心してしまった。apple music の英語表記だと Aspiration Beyond The Clouds と訳されている。&lt;/p>
&lt;ul>
&lt;li>雲外: 空のはるか遠いところ&lt;/li>
&lt;li>憧憬: あこがれること&lt;/li>
&lt;/ul>
&lt;h2 id="明石市の調査">明石市の調査&lt;/h2>
&lt;p>1ヶ月ほど前から &lt;a href="https://twitter.com/izumi_akashi">泉房穂明石市長&lt;/a> が twitter を始めた。私のタイムラインでもフォロワーの誰かがいいねしたり、リツィートしたりしてちょくちょくみかける。泉氏の暴言などがニュースで取り上げられたりするので地方都市の市長にしては知名度が高い方だろう。神戸市の隣は明石市なのでご近所の関心はある。明石市は日本の標準時子午線があって、学生の頃に &lt;a href="https://www.am12.jp/">天文科学館&lt;/a> にも行ったことがある。いまも成年後見人の弁護士さんの事務所は明石市にあるし、運転免許センターも明石市にあるので年に数回ぐらい行く機会もある。ツィートを眺めていると58歳の市長が初めてやっているにしてはうまく sns を使いこなしていて、始めて1ヶ月ほどしか経っていないのに8万6千人ものフォロワーがいる。ブレーンが優秀なのか、本人がやっているのかはわからないけど、すごいことだと思う。&lt;/p>
&lt;p>ツィートは当然、明石市のアピールが主なのでそれを眺めているうちに明石市よいところだなと好感度があがってきた。高齢者向けのサービスを廃止して育児や教育といった子ども向けのサービスを重視していて、それが子育て世帯にうけて、全国でも有数の人口増の中核都市となっている。当然、子育てに関係ない高齢者からは不満の声もあるみたい。私もその方針は支持したいと考えて、年寄りよりも子どもの教育に行政サービスのリソースを集中すればよいと思う。&lt;/p>
&lt;p>いま神戸市に住んでいるのは大阪に通勤するためだった。コロナ禍により、フルリモートワークの世の中に移行したので明石市へ引っ越してもよいかもしれないと考え始めた。明石海峡大橋があるところなので実家の淡路島へ帰るのも少し近くなる。軽く検索していくつかみた雰囲気だと、賃貸マンションの家賃も神戸市より割安感がある。比較サイトによると住民税も神戸市より年間2万円安い。ただシェアオフィスの数、起業文化やベンチャー支援みたいなところは神戸市には相当に及ばない。そこは政令指定都市としての面目躍如といったところか。オフィスさえよい場所があったら住居もオフィスも明石市へ引っ越ししてもよいかもしれない。ひとまずアンテナを張っておく。&lt;/p>
&lt;h2 id="オフィスの引っ越し">オフィスの引っ越し&lt;/h2>
&lt;p>明石市の話とは別に来期のどこかでオフィスを引っ越ししようかとも考えている。いまのオフィスも大きな不満はないので急いではいない。&lt;a href="/diary/diary/posts/2021/0930/#joel-on-software">前に Joel on Software を読んだ&lt;/a> ときに窓のないオフィスのストレスについて考えるようになった。気付いたら気付けなかった頃には戻れない。強くはないけど、ストレスの要因はなるべく排除したい。窓以外の不満でいうと働いているうちに備品も増えて部屋が手狭になってきた。引っ越し先候補の1つとして &lt;a href="https://www.regus-office.jp/area-serch/hyogo-kobe-area/kokusai-kaikan/">リージャス神戸国際会館ビジネスセンター&lt;/a> がある。問い合わせしたら来週に内覧をさせてくれるらしい。交通アクセスやビルのグレードが高いので賃料もかなり高いだろうけど、他のシェアオフィスとの比較も含めて参考のために内覧してくる。&lt;/p></content></item><item><title>資料作り完了</title><link>/diary/posts/2021/1101/</link><pubDate>Mon, 01 Nov 2021 11:38:17 +0900</pubDate><guid>/diary/posts/2021/1101/</guid><description>4時に寝て8時に起きた。夜に資料作りに集中していたので家に帰ってきたのが3時頃で、くつろいだりアニメみたりしてから寝た。遅くに帰ってきてもすぐに寝るわけじゃなくて、だらだらして実際に寝るまで1-2時間はかかる。こういうところ、生活が堕落していて改善していくべきなのかもしれない。良かったこととして、ウォーキングのせいか、夜はよく眠れた。
みんなの Python 勉強会の資料作り 昨日の続き。一晩寝てから最後の仕上げをした。時間を置く、とくに一度寝てから資料を洗練させると改善点があちこち出てきてより良いものになっていく気がする。午前中に主催者に連絡したものの、午後になってから思い付いたことをちょくちょく修正したりもした。オンラインの資料だと、先方に連絡した後でも微修正できるところがよい。業務の資料だとさらに2-3日かけて洗練させていくけど、勉強会の資料だからこれでいいかな。タイトルはすごく気に入っているというわけではないけど「本と学びの段階」とした。ひとまず完成したので自分のやりたいことに取り組める。
神戸市長選 神戸市は衆議院選挙とは別に市長選挙も一緒にあった。神戸市長選 によると、投票率は53.79％で439,749 (67.7%)の得票を得た現職の市長が完勝した。3回目の当選になるらしい。私が神戸に戻ってきてから初めての市長選挙だった。起業してから手続きなどで行政が身近になったことから関心をもつようになってきた。自分ごとで考えるというのか、どんなものでも身近なことは関心をもつのかもしれない。
データ指向アプリケーションデザイン 9.2 線形化可能性を読んだ。
線形化可能性 とは、データのコピーが1つしかなく、そのデータに対する操作がすべてアトミックであるかのようにシステムにみせることを指す。古くなったキャッシュやレプリカからの値ではないことを保証する、最新性の保証（recency guarantee） と言える。トランザクションの章に出てきた 直列化可能性 とはまったく異なる。直列化可能性が保証するのは、複数のトランザクションが何らかの順序で実行された場合に同じ結果になることを保証するもの。
あと「役に立たない CAP 定理」というコラムもおもしろい。CAP 定理とは次の3つはすべて成り立たず、2つを選択することを強いる。
一貫性（Consistency） 可用性（Availability） 分断耐性（Partition tolerance） CAP 定理は歴史的にデータベースのトランザクションのトレードオフについての議論の出発点として引用され、有名な定理ではあるが、分散データベースの研究者の中では1970年代から知られていたことであったらしい。そして、ネットワークを介した分散システムは、分断耐性が必須 (ネットワークが切断しないことはないから) であることから一貫性か可用性のどちらかを選択するしかない。ここで一貫性とは線形化可能なシステムを実装することだが、これはパフォーマンスのデメリットが大きい。そのため、現代の多くの分散データベースは線形化可能性を提供しないことを選択しており、結果として可用性と分断耐性を選択することになっている。したがって、CAP 定理から議論を始めることは無意味であると言う。</description><content>&lt;p>4時に寝て8時に起きた。夜に資料作りに集中していたので家に帰ってきたのが3時頃で、くつろいだりアニメみたりしてから寝た。遅くに帰ってきてもすぐに寝るわけじゃなくて、だらだらして実際に寝るまで1-2時間はかかる。こういうところ、生活が堕落していて改善していくべきなのかもしれない。良かったこととして、ウォーキングのせいか、夜はよく眠れた。&lt;/p>
&lt;h2 id="みんなの-python-勉強会の資料作り">みんなの Python 勉強会の資料作り&lt;/h2>
&lt;p>昨日の続き。一晩寝てから最後の仕上げをした。時間を置く、とくに一度寝てから資料を洗練させると改善点があちこち出てきてより良いものになっていく気がする。午前中に主催者に連絡したものの、午後になってから思い付いたことをちょくちょく修正したりもした。オンラインの資料だと、先方に連絡した後でも微修正できるところがよい。業務の資料だとさらに2-3日かけて洗練させていくけど、勉強会の資料だからこれでいいかな。タイトルはすごく気に入っているというわけではないけど「本と学びの段階」とした。ひとまず完成したので自分のやりたいことに取り組める。&lt;/p>
&lt;h2 id="神戸市長選">神戸市長選&lt;/h2>
&lt;p>神戸市は衆議院選挙とは別に市長選挙も一緒にあった。&lt;a href="https://www.nhk.or.jp/senkyo2/kobe/17581/skh50331.html">神戸市長選&lt;/a> によると、投票率は53.79％で439,749 (67.7%)の得票を得た現職の市長が完勝した。3回目の当選になるらしい。私が神戸に戻ってきてから初めての市長選挙だった。起業してから手続きなどで行政が身近になったことから関心をもつようになってきた。自分ごとで考えるというのか、どんなものでも身近なことは関心をもつのかもしれない。&lt;/p>
&lt;h2 id="データ指向アプリケーションデザイン">データ指向アプリケーションデザイン&lt;/h2>
&lt;p>9.2 線形化可能性を読んだ。&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>線形化可能性&lt;/strong> とは、データのコピーが1つしかなく、そのデータに対する操作がすべてアトミックであるかのようにシステムにみせることを指す。古くなったキャッシュやレプリカからの値ではないことを保証する、&lt;strong>最新性の保証（recency guarantee）&lt;/strong> と言える。トランザクションの章に出てきた &lt;strong>直列化可能性&lt;/strong> とはまったく異なる。直列化可能性が保証するのは、複数のトランザクションが何らかの順序で実行された場合に同じ結果になることを保証するもの。&lt;/p>
&lt;p>あと「役に立たない CAP 定理」というコラムもおもしろい。CAP 定理とは次の3つはすべて成り立たず、2つを選択することを強いる。&lt;/p>
&lt;ul>
&lt;li>一貫性（Consistency）&lt;/li>
&lt;li>可用性（Availability）&lt;/li>
&lt;li>分断耐性（Partition tolerance）&lt;/li>
&lt;/ul>
&lt;p>CAP 定理は歴史的にデータベースのトランザクションのトレードオフについての議論の出発点として引用され、有名な定理ではあるが、分散データベースの研究者の中では1970年代から知られていたことであったらしい。そして、ネットワークを介した分散システムは、分断耐性が必須 (ネットワークが切断しないことはないから) であることから一貫性か可用性のどちらかを選択するしかない。ここで一貫性とは線形化可能なシステムを実装することだが、これはパフォーマンスのデメリットが大きい。そのため、現代の多くの分散データベースは線形化可能性を提供しないことを選択しており、結果として可用性と分断耐性を選択することになっている。したがって、CAP 定理から議論を始めることは無意味であると言う。&lt;/p>
&lt;/blockquote></content></item></channel></rss>