<!doctype html><html lang=en><head><title>Testing :: </title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=/diary/tags/testing/><link rel=stylesheet href=/diary/styles.css><link rel=stylesheet href=/diary/style.css><link rel="shortcut icon" href=/diary/favicon.ico><meta name=twitter:card content="summary"><meta name=twitter:site content="t2y"><meta name=twitter:creator content><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:title" content="Testing"><meta property="og:description" content><meta property="og:url" content="/diary/tags/testing/"><meta property="og:site_name" content><meta property="og:image" content="/diary/favicon.ico"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><link href=/diary/tags/testing/index.xml rel=alternate type=application/rss+xml title></head><body class=green><div class="container full headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=/diary><div class=logo>forest nook</div></a></div><ul class="menu menu--mobile"><li class=menu__trigger>Menu&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=/diary/about>自己紹介</a></li><li><a href=/diary/dates>月別一覧</a></li><li><a href=/diary/tags>タグ一覧</a></li></ul></li></ul></div><nav class=navigation-menu><ul class="navigation-menu__inner menu--desktop"><li><a href=/diary/about>自己紹介</a></li><li><a href=/diary/dates>月別一覧</a></li><li><a href=/diary/tags>タグ一覧</a></li></ul></nav></header><div class=content><h1>Posts for: #Testing</h1><div class=posts><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/1011/>ひとりではできないこと</a></h1><div class=post-meta><time class=post-date>2024-10-11</time></div><span class=post-tags>#<a href=/diary/tags/founding/>founding</a>&nbsp;
#<a href=/diary/tags/issue-management/>issue management</a>&nbsp;
#<a href=/diary/tags/business/>business</a>&nbsp;
#<a href=/diary/tags/motivation/>motivation</a>&nbsp;
#<a href=/diary/tags/go/>go</a>&nbsp;
#<a href=/diary/tags/testing/>testing</a>&nbsp;</span><div class=post-content><p>今日のバドミントン練習はエアシャトルでリフティングを30分した。連続最大回数は80回だが、ほとんどの試行は20回も続かずに失敗してしまう。難しい。</p><h2 id=隔週の雑談>隔週の雑談</h2><p>顧問のはらさんと隔週の打ち合わせ。今日の議題はこれら。</p><h3 id=課題管理と-adr-の関係の考察>課題管理と adr の関係の考察</h3><iframe class=speakerdeck-iframe frameborder=0 src=https://speakerdeck.com/player/1d21876659d244a8b6c121255e2fbce9 title=ADRを運用して3年経った僕らの現在地 allowfullscreen style="border:0;background:padding-box padding-box rgba(0,0,0,.1);margin:0;padding:0;border-radius:6px;box-shadow:rgba(0,0,0,.2)0 5px 40px;width:600px;height:auto;aspect-ratio:560/315" data-ratio=1.7777777777777777></iframe><p>数年前から adr の話題や導入した会社の記事などをみかけるようになった。私はこれまで課題管理をうまくやっていれば adr はそれほど重要ではないとあまり重視してこなかった。しかし、世の中的に認知されて流行っているものはなにかしら意義があるのだろうと最近は少し見直してきているところもある。このスライドによると2017年から流行り始めたらしい。</p><ul><li>開発に関する情報を一元管理する、または全文検索ことにビジネスチャンスはある<ul><li>検索のニーズや要件は多様で言語によっても違い、技術もまだまだ発展的でもあるからずっとビジネスの種になる気はする</li><li>gitlab issues のコメントの全文検索は有料機能なので slack 通知したチャンネルを全文検索している<ul><li>課題管理システムのプラグインでテキストをシステム間連携することで検索システムを別途構築できる可能性がある</li><li>検索できなくてもデータのアーカイブをするという視点でもビジネスニーズに応える？</li></ul></li></ul></li><li><a href=https://www.elastic.co/jp/what-is/vector-search>ベクトル検索</a> を検索がまだ一般的にはなっていない？<ul><li>テックブログを読む会でメンバーが <a href=https://zenn.dev/minedia/articles/d9f01aa05bc880>医薬品検索にベクトル検索を導入したら、デフォで検索ニーズをほぼ満たせそうだった話</a> を紹介していた</li><li>いまや rdb でも全文検索機能はあるが、実運用だと rdb の i/o がボトルネックになることは多いだろうから全文検索用途に使うモチベーションが低いと想定される</li><li>普通の全文検索とベクトル検索の違いを実際に触ってみて評価してみたい</li></ul></li><li>wiki と adr の違いの1つとして wiki になにを書いてよいかわからない問題がある<ul><li>文章を書けるようになるのは経験や習熟を必要とする</li><li>adr のようなテンプレートがあることで経験の浅い開発者も書きやすくなる狙いはある</li><li>課題管理システムの wiki に adr のラッピングをして別機能としてみせるのはよいかもしれない</li><li>業務の引き継ぎにも adr は役に立つのではないか？</li><li>adr 一覧をみたり、そこから検索することで検索効率や精度は上がるという想定</li></ul></li><li>大きい会社でも巨大な課題管理システムと wiki が1つだけあって一元管理しているという噂は聞く<ul><li>ある会社では wiki は誤っている可能性があるから信用するなという教訓があった<ul><li>wiki の情報は更新されていない可能性があるから参考にしながら必ず裏をとって業務をしなさいという話し</li></ul></li><li>wiki を編集したら必ずレビューが必要になるプロセス</li></ul></li><li>notion のプロジェクト管理の使い勝手はどうか？<ul><li>テンプレートを使ってガントチャートやカンバンを作れる<ul><li>基本的に自分でカスタマイズできることの良し悪しがある<ul><li>db をどんどん改良できるが、それだけに魔改造してしまう</li><li>時間とともに複数人が改良すると保守できなくなっていく懸念がある</li></ul></li><li>中核機能をパッケージ側で提供することは堅牢性を担保する上で重要ではないか</li></ul></li><li>タスク管理と wiki がシームレスなところはよい、はらさんは日報を書いてリンクしている</li></ul></li><li>会社のインフラに日々の開発情報を書いていくと退職後に参照できない<ul><li>フリーランスのような働き方をするにはナレッジデータベースをローカルに作りたいという欲求がある</li><li>組み込みの課題管理システムにより、自身のナレッジデータベースをローカルに残すという目的はよいかもしれない</li></ul></li></ul><h3 id=仕事は楽しいかねhahahugoshortcode1112s0hbhb-の考察><a href=/diary/posts/2024/1008/>仕事は楽しいかね？</a> の考察</h3><p>まとめを見返しながら、だいたいの項目は理解または支持できる。1つだけ次の項目が私には欠けていることに気付いた。</p><blockquote><p>毎日1つ試し続ければ必ず上達や進歩ができる</p></blockquote><ul><li>新しいことを始めると、いまやっていることを継続する時間がなくなったりしないか？</li><li>プロダクト開発ではがんばってもあまり成果が出ないような時期もある<ul><li>リファクタリングやテスト追加などはまさにそう</li><li>そういったときも1つでも変化をもたらせれば日々の生活が変わるのか？</li></ul></li><li>はらさんのお奨めは梅原さんの <a href=https://www.kadokawa.co.jp/product/301305000020/>１日ひとつだけ、強くなる。 世界一プロ・ゲーマーの勝ち続ける６４の流儀</a></li><li>本書を読んではらさんのよかったところは「試してみることに失敗はない」<ul><li>それまでも試すことはやっていたはずなのに躊躇してしまう理由として失敗したら時間の無駄だと考えてしまっていた</li><li>失敗したら嫌だと考えてしまうところがあったが、この考え方があるから vision pro を購入できる<ul><li>最近は vision pro の話題を聞かなくなったがどうか？<ul><li><a href=https://internet.watch.impress.co.jp/docs/yajiuma/1630679.html>ロードマップに影響は？ Appleに26年間在籍した「Vision Pro」の開発責任者が退職へ</a></li><li>仕事にはならないのではないか？</li></ul></li></ul></li><li>やりたいことをすぐやってみるという思考につながった</li></ul></li><li>面倒くさいときもなるべくパソコンを使うようにしてなにかしら調べる</li><li>私はオフィスにいれば、家よりはなにかしら作業するモチベーションになる</li><li>目標達成や成果をあげるには環境がもっとも大事<ul><li>個人の感情を信頼しない<ul><li>人間は面倒だとすぐ怠けてやめてしまう</li></ul></li><li>環境を整えることでワークフローを洗練させて習慣化する<ul><li>日記になにか書かないといけないから調べものをする</li><li>嫌々ながらでもやっているうちに習慣になってくるとワークフローが洗練していく</li><li>人間の運用を変えていくなにかは普遍的な価値またはビジネスチャンスがある</li></ul></li><li>調子の悪いときにどうやって早く脱却するかが大事<ul><li>ひとりでは言い訳を作ったり怠けてしまう</li><li>このときに他人の助けがいるのではないか？<ul><li>話しを聞いてもらうだけでも前へ進むきっかけになる</li></ul></li></ul></li></ul></li></ul><h2 id=go-の結合テスト向けカバレッジ計測の考察>go の結合テスト向けカバレッジ計測の考察</h2><p>以前リリースパーティーで go 1.20 で結合テスト向けのカバレッジ計測の機能が入ったことを聞いていた。次のブログ記事でやり方が紹介されている。</p><ul><li><a href=https://go.dev/blog/integration-test-coverage>Code coverage for Go integration tests</a></li><li><a href=https://netdevops.me/2023/test-coverage-for-go-integration-tests/>Test coverage for Go integration tests</a></li></ul><p>将来的に結合テストを作るときにカバレッジ計測のカスタマイズを施したバイナリを使って api server を起動する仕組みにすればこの機能を使えることに気付いた。</p><p>まずは単体テストを実行して任意のディレクトリ (<code>tests/coverage</code>) にカバレッジ計測のための中間データを生成する。</p><pre tabindex=0><code>$ mkdir -p tests/coverage
$ go test -cover ./... -covermode atomic -args -test.gocoverdir=&#34;$PWD/tests/coverage&#34;
$ go tool covdata textfmt -i=./tests/coverage -o coverage.out
</code></pre><p>coverage.out がさまざまなツールの入力となる統計情報となる。例えば、このファイルを使って次のようにしてソースコードのヒートマップの html を作成できる。</p><pre tabindex=0><code>$ go tool cover -html coverage.out -o coverage.html
</code></pre><p><a href=https://github.com/nikolaydubina/go-cover-treemap>nikolaydubina/go-cover-treemap</a> を使うと treemap でカバレッジのヒートマップを確認できる。</p><pre tabindex=0><code>$ go-cover-treemap -coverprofile coverage.out &gt; treemap.svg
</code></pre><p>カバレッジ計測向けのバイナリをビルドする。そのバイナリを起動するときに環境変数 GOCOVERDIR に単体テストのカバレッジの中間データが含まれるディレクトリを指定する。</p><pre tabindex=0><code>$ go build -cover -covermode atomic -o bin/api ./cmd/api/...
$ GOCOVERDIR=&#34;$PWD/tests/coverage&#34; ./bin/api -verbose
</code></pre><p>このバイナリを使って起動した api server に対してリクエストを呼び出すことでカバレッジを計測してくれる。結合テストからバイナリ起動した api server に対してリクエストしたときに GOCOVERDIR に中間データが追加されていく。結合テストを完了したら最終的なカバレッジの統計情報を生成する。
￼</p><pre tabindex=0><code>$ go tool covdata textfmt -i=./tests/coverage -o coverage.out
</code></pre><p>textfmt のヘルプをみたら同じディレクトリじゃなくてもよいみたい。</p><pre tabindex=0><code>$ go tool covdata textfmt -help
...
Examples:

  go tool covdata textfmt -i=dir1,dir2 -o=out.txt

  	merges data from input directories dir1+dir2
  	and emits text format into file &#39;out.txt&#39;
</code></pre></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/1010/>練習場所のビル探し</a></h1><div class=post-meta><time class=post-date>2024-10-10</time></div><span class=post-tags>#<a href=/diary/tags/badminton/>badminton</a>&nbsp;
#<a href=/diary/tags/go/>go</a>&nbsp;
#<a href=/diary/tags/testing/>testing</a>&nbsp;</span><div class=post-content><p>今日のバドミントン練習はリフティングを昼夜あわせて85分 (メイビスで75分、エアで10分) した。フォア持ちとバック持ちを交互に切り替えリファクタリングで398回続けられた。目標の200回を越せるようになった。</p><h2 id=バドミントンの練習場所探し>バドミントンの練習場所探し</h2><p>お昼休みに公園へ行って20分ほど軽く練習した。そのときに連続回数が198回だった。あと2回足りなかったのが悔しかったのと、夜にがんばったらできそうかなという見通しをもっていた。</p><p>夜は近所で練習場所によさそうなビルを探してまわってみた。まずは少しおしゃれな区役所のビルの軒下へ行ってみた。</p><figure><img src=/diary/img/2024/1010_bullding1.jpg></figure><p>たまたま時間帯が悪かったのか、この場所が風の通り道になっているのか、練習を始めて5分ほどやって風の影響が強くて難しそうだったのですぐに撤収した。人通りが少なく照明もよい感じなのだけど、バドミントンの練習は風が強いとどうにもできない。</p><figure><img src=/diary/img/2024/1010_bullding2.jpg></figure><p>付近を散策しながら旧居留地にある別のビルへ。従業員の通用口がやや近いところが懸念。従業員が出てきたときにこいつ何しているの？と思うかもしれない。私の視点からもややパーソナルスペース／練習スペースを狭く感じるところはある。風の影響は受けにくい構造にはなっている。ここで15分ほど練習して267回継続できた。初めて200回を超えた。その後、あまり回数が続かなくなったのでまた散策して別のビルへ。</p><figure><img src=/diary/img/2024/1010_bullding3.jpg></figure><p>ここも広くて明るくて夜は施錠しているようにみえる。ここは従業員と会うこともない。よい場所なんだけど、照明が明る過ぎて見上げたときにシャトルと照明が重なってしまうと眩しい。照明が明る過ぎても練習しにくいことに気付いた。ここでも20分ほど練習したのに200回を超えなくて次へ移動する。照明が目に入るせいかもしれない。</p><figure><img src=/diary/img/2024/1010_bullding4.jpg></figure><p>最後はホームのビルへ。他のビルで練習してみてホームのビルのよさを実感した。もっとも練習スペースが広い。そして照明を背中側にして練習するスペースも十分にある。そうすると、見上げても照明とシャトルが重なることはないので眩しくて失敗してしまう状況を避けられる。構造的に風の影響も受けにくい。ここで20分ほど練習していたら398回、266回、349回と200回超えを3回できた。</p><p>フォア持ちとバック持ちのリフティングをしていて安定的するようになってきた。うまくラケットのスィートスポットで打てば真上にシャトルが上がる。50回ぐらいならほとんど動くこともなく上げられる。だいたい100回に1-2回ぐらい、失敗してシャトルをラケットのフレームに当てたりしてシャトル操作が乱れる。ドタバタしてリカバリする。これまではそのときに焦ってしまってシャトルを落とすことが多かった。なぜ200回以上続くかというと、その稀に失敗したときのシャトル操作をリカバリできるようになってきたから。つまり5回ぐらいミスしたときにリカバリできれば200回は続くということになる。これはメイビスフィールドのシャトルを使ったときの話し。</p><p>次にエアシャトルを使って同様にリフティングをしてみると最高で50数回ぐらいしか続かない。これはラケットのフレームまたはフレーム近くのガットで弾いてしまうと、コルク部分がプラスチックなために反発せずに落としてしまったり、あらぬ方向へ飛んでいったりしてリカバリがとても難しい。つまり、ラケットコントロールをうまくやらないとエアシャトルでリフティングを継続するのはメイビスフィールドよりもずっと難しい。次の目標としてはエアシャトルで200回を越せるようにラケットコントロールの練習をするのがよいように思える。</p><h2 id=テストとビルドタグ>テストとビルドタグ</h2><p>go ではテスト用途のパッケージを <a href=https://pkg.go.dev/net/http/httptest>httptest</a> や <a href=https://pkg.go.dev/testing/iotest>iotest</a> といった、通常アプリケーションとしてパッケージを提供しているものもある。しかし、通常のパッケージにしてしまうと、アプリケーションをビルドしたときにテストコードもバイナリにも含まれてしまう。依存パッケージの管理やバイナリサイズを減らす上で不要なコードはビルド対象外になる方が望ましい。自分たちが書いたソースコードがアプリケーションに含まれることはサイズの視点では問題ないが、テスト向けの依存パッケージもアプリケーションに含まれると意図せずバイナリサイズが大きくなってしまったり、パッケージの依存解決に時間がかかったりしてしまう懸念がある。そのため、ビルドタグを用いてテスト用途のパッケージはテストのときしかビルドしないように制御する。</p><p>例えば <code>integration</code> というビルドタグを設ける。テスト用途の <code>util</code> パッケージを定義するときは次のようにソースコードを記述する。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#75715e>//go:build integration
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>util</span>
</span></span></code></pre></div><p>ビルドタグを指定せずに結合テストを実行しようとすると次のようなエラーが発生する。</p><pre tabindex=0><code>$ go test ./tests/...
# example.com/tsets/mypackage
package example.com/tsets/mypackage_test
	imports example.com/tests/util: build constraints exclude all Go files in path/to/tests/util
FAIL	example.com/tests/mypackage [setup failed]
</code></pre><p>結合テストを実行するには次のように明示的にビルドタグを指定して、テスト用途のパッケージをビルドしてテストが実行されるようにしないといけない。</p><pre tabindex=0><code>$ go test -tags=integration ./tests/mypackage/...
</code></pre></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/0911/>openldap スキーマの validator と go のマルチエラー制御</a></h1><div class=post-meta><time class=post-date>2024-09-11</time></div><span class=post-tags>#<a href=/diary/tags/go/>go</a>&nbsp;
#<a href=/diary/tags/testing/>testing</a>&nbsp;
#<a href=/diary/tags/ldap/>ldap</a>&nbsp;</span><div class=post-content><p>今日もメンバーのコードレビューに半日以上の時間を割いたので自分の時間をあまり取れなくて開発が進捗しなかった。</p><p>隙間時間で <a href=/diary/posts/2024/0906/>openldap スキーマの情報</a> を使って validator を実装していた。バリデーションのようなものはまとめてエラーを返せるのが望ましい。go でマルチエラーを制御する仕組みが少し前に追加されていたことを思い出した。<a href=https://future-architect.github.io/articles/20230126a/>Go 1.20 Wrapping multiple errors</a> のチュートリアル記事を読みながら openldap スキーマの validator を実装して複数のエラーを返すようにした。まだ抜け・漏れはあるかもしれないけど objectClass の validator は次のようになる。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>ObjectClassValidator</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>objectClassMap</span> <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#a6e22e>ObjectClassDescription</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>v</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>ObjectClassValidator</span>) <span style=color:#a6e22e>Validate</span>(<span style=color:#a6e22e>attr</span> <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>][]<span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>errs</span> []<span style=color:#66d9ef>error</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>objClassDescs</span> []<span style=color:#a6e22e>ObjectClassDescription</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>hasStructuralKind</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>allAttrMap</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>struct</span>{}{}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>lowerAttrNameMap</span> <span style=color:#f92672>:=</span> make(<span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>struct</span>{}, len(<span style=color:#a6e22e>attr</span>))
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>k</span>, <span style=color:#a6e22e>values</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>attr</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>lowerName</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>ToLower</span>(<span style=color:#a6e22e>ParseAttribute</span>(<span style=color:#a6e22e>k</span>))
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>lowerAttrNameMap</span>[<span style=color:#a6e22e>lowerName</span>] = <span style=color:#66d9ef>struct</span>{}{}
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>lowerName</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;objectclass&#34;</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>objClassDescs</span> = make([]<span style=color:#a6e22e>ObjectClassDescription</span>, <span style=color:#ae81ff>0</span>, len(<span style=color:#a6e22e>values</span>))
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>objcName</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>values</span> {
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>lowerObjcName</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>ToLower</span>(<span style=color:#a6e22e>objcName</span>)
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>ocd</span>, <span style=color:#a6e22e>ok</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>v</span>.<span style=color:#a6e22e>objectClassMap</span>[<span style=color:#a6e22e>lowerObjcName</span>]
</span></span><span style=display:flex><span>				<span style=color:#66d9ef>if</span> !<span style=color:#a6e22e>ok</span> {
</span></span><span style=display:flex><span>					<span style=color:#a6e22e>msg</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Sprintf</span>(<span style=color:#e6db74>&#34;&#39;%s&#39; objectClass is not defined&#34;</span>, <span style=color:#a6e22e>objcName</span>)
</span></span><span style=display:flex><span>					<span style=color:#a6e22e>errs</span> = append(<span style=color:#a6e22e>errs</span>, <span style=color:#a6e22e>NewErrorValidation</span>(<span style=color:#a6e22e>msg</span>))
</span></span><span style=display:flex><span>					<span style=color:#66d9ef>continue</span>
</span></span><span style=display:flex><span>				}
</span></span><span style=display:flex><span>				<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>ocd</span>.<span style=color:#a6e22e>Kind</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>ocd</span>.<span style=color:#a6e22e>Kind</span> <span style=color:#f92672>==</span> <span style=color:#a6e22e>Structural</span> {
</span></span><span style=display:flex><span>					<span style=color:#a6e22e>hasStructuralKind</span> = <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>				}
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>objClassDescs</span> = append(<span style=color:#a6e22e>objClassDescs</span>, <span style=color:#a6e22e>ocd</span>)
</span></span><span style=display:flex><span>				<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>mustAttr</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>ocd</span>.<span style=color:#a6e22e>GetMust</span>() {
</span></span><span style=display:flex><span>					<span style=color:#a6e22e>allAttrMap</span>[<span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>ToLower</span>(<span style=color:#a6e22e>mustAttr</span>)] = <span style=color:#66d9ef>struct</span>{}{}
</span></span><span style=display:flex><span>				}
</span></span><span style=display:flex><span>				<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>mayAttr</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>ocd</span>.<span style=color:#a6e22e>GetMay</span>() {
</span></span><span style=display:flex><span>					<span style=color:#a6e22e>allAttrMap</span>[<span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>ToLower</span>(<span style=color:#a6e22e>mayAttr</span>)] = <span style=color:#66d9ef>struct</span>{}{}
</span></span><span style=display:flex><span>				}
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#75715e>// require at least 1 structural objectClass
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#66d9ef>if</span> !<span style=color:#a6e22e>hasStructuralKind</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>errs</span> = append(<span style=color:#a6e22e>errs</span>, <span style=color:#a6e22e>NewErrorValidation</span>(<span style=color:#e6db74>&#34;no structural objectClass&#34;</span>))
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#75715e>// must in objectClass requires must attributes
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>ocd</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>objClassDescs</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>mustAttr</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>ocd</span>.<span style=color:#a6e22e>GetMust</span>() {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>ok</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>lowerAttrNameMap</span>[<span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>ToLower</span>(<span style=color:#a6e22e>mustAttr</span>)]; !<span style=color:#a6e22e>ok</span> {
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>msg</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Sprintf</span>(<span style=color:#e6db74>&#34;&#39;%s&#39; objectClass requires &#39;%s&#39;&#34;</span>, <span style=color:#a6e22e>ocd</span>.<span style=color:#a6e22e>GetName</span>(), <span style=color:#a6e22e>mustAttr</span>)
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>errs</span> = append(<span style=color:#a6e22e>errs</span>, <span style=color:#a6e22e>NewErrorValidation</span>(<span style=color:#a6e22e>msg</span>))
</span></span><span style=display:flex><span>				<span style=color:#66d9ef>continue</span>
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#75715e>// all attribute keys are allowed may/must in objectClass
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>attrName</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>lowerAttrNameMap</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>ok</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>allAttrMap</span>[<span style=color:#a6e22e>attrName</span>]; !<span style=color:#a6e22e>ok</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>msg</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Sprintf</span>(<span style=color:#e6db74>&#34;&#39;%s&#39; is not allowed by objectClass&#34;</span>, <span style=color:#a6e22e>attrName</span>)
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>errs</span> = append(<span style=color:#a6e22e>errs</span>, <span style=color:#a6e22e>NewErrorValidation</span>(<span style=color:#a6e22e>msg</span>))
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>continue</span>
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>errors</span>.<span style=color:#a6e22e>Join</span>(<span style=color:#a6e22e>errs</span><span style=color:#f92672>...</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>NewObjectClassValidator</span>(
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>objectClasses</span> []<span style=color:#a6e22e>ObjectClassDescription</span>,
</span></span><span style=display:flex><span>) <span style=color:#f92672>*</span><span style=color:#a6e22e>ObjectClassValidator</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>ocm</span> <span style=color:#f92672>:=</span> make(<span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#a6e22e>ObjectClassDescription</span>, len(<span style=color:#a6e22e>objectClasses</span>))
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>v</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>objectClasses</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>n</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>v</span>.<span style=color:#a6e22e>Name</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>ocm</span>[<span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>ToLower</span>(<span style=color:#a6e22e>n</span>)] = <span style=color:#a6e22e>v</span>
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>ObjectClassValidator</span>{
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>objectClassMap</span>: <span style=color:#a6e22e>ocm</span>,
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>次のように複数のエラーを返すテストケースを定義する。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>{
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>name</span>:       <span style=color:#e6db74>&#34;multiple errors&#34;</span>,
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>objClasses</span>: <span style=color:#a6e22e>objectClasses1</span>,
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>attr</span>: <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>][]<span style=color:#66d9ef>string</span>{
</span></span><span style=display:flex><span>		<span style=color:#e6db74>&#34;objectClass&#34;</span>:           []<span style=color:#66d9ef>string</span>{<span style=color:#e6db74>&#34;top&#34;</span>, <span style=color:#e6db74>&#34;posixAccount&#34;</span>, <span style=color:#e6db74>&#34;myObjeClass&#34;</span>},
</span></span><span style=display:flex><span>		<span style=color:#e6db74>&#34;uid&#34;</span>:                   <span style=color:#66d9ef>nil</span>,
</span></span><span style=display:flex><span>		<span style=color:#e6db74>&#34;mail&#34;</span>:                  <span style=color:#66d9ef>nil</span>,
</span></span><span style=display:flex><span>		<span style=color:#e6db74>&#34;mail;lang-ja;phonetic&#34;</span>: <span style=color:#66d9ef>nil</span>,
</span></span><span style=display:flex><span>		<span style=color:#e6db74>&#34;employeeType;lang-ja&#34;</span>:  <span style=color:#66d9ef>nil</span>,
</span></span><span style=display:flex><span>		<span style=color:#e6db74>&#34;homeDirectory&#34;</span>:         <span style=color:#66d9ef>nil</span>,
</span></span><span style=display:flex><span>		<span style=color:#e6db74>&#34;GIDNumber&#34;</span>:             <span style=color:#66d9ef>nil</span>,
</span></span><span style=display:flex><span>		<span style=color:#e6db74>&#34;street&#34;</span>:                <span style=color:#66d9ef>nil</span>,
</span></span><span style=display:flex><span>	},
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>expected</span>: []<span style=color:#66d9ef>error</span>{
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>openldap</span>.<span style=color:#a6e22e>NewErrorValidation</span>(<span style=color:#e6db74>&#34;&#39;employeetype&#39; is not allowed by objectClass&#34;</span>),
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>openldap</span>.<span style=color:#a6e22e>NewErrorValidation</span>(<span style=color:#e6db74>&#34;&#39;mail&#39; is not allowed by objectClass&#34;</span>),
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>openldap</span>.<span style=color:#a6e22e>NewErrorValidation</span>(<span style=color:#e6db74>&#34;&#39;myObjeClass&#39; objectClass is not defined&#34;</span>),
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>openldap</span>.<span style=color:#a6e22e>NewErrorValidation</span>(<span style=color:#e6db74>&#34;&#39;posixAccount&#39; objectClass requires &#39;cn&#39;&#34;</span>),
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>openldap</span>.<span style=color:#a6e22e>NewErrorValidation</span>(<span style=color:#e6db74>&#34;&#39;posixAccount&#39; objectClass requires &#39;uidNumber&#39;&#34;</span>),
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>openldap</span>.<span style=color:#a6e22e>NewErrorValidation</span>(<span style=color:#e6db74>&#34;&#39;street&#39; is not allowed by objectClass&#34;</span>),
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>openldap</span>.<span style=color:#a6e22e>NewErrorValidation</span>(<span style=color:#e6db74>&#34;no structural objectClass&#34;</span>),
</span></span><span style=display:flex><span>	},
</span></span><span style=display:flex><span>},
</span></span></code></pre></div><p>テストコードで次のように返ってくる error を unwrap することで検証できる。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>tt</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>tests</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>Run</span>(<span style=color:#a6e22e>tt</span>.<span style=color:#a6e22e>name</span>, <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>t</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>testing</span>.<span style=color:#a6e22e>T</span>) {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>Parallel</span>()
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>validator</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>openldap</span>.<span style=color:#a6e22e>NewObjectClassValidator</span>(<span style=color:#a6e22e>tt</span>.<span style=color:#a6e22e>objClasses</span>)
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>validator</span>.<span style=color:#a6e22e>Validate</span>(<span style=color:#a6e22e>tt</span>.<span style=color:#a6e22e>attr</span>)
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>actual</span>, <span style=color:#a6e22e>ok</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>err</span>.(<span style=color:#66d9ef>interface</span>{ <span style=color:#a6e22e>Unwrap</span>() []<span style=color:#66d9ef>error</span> }); <span style=color:#a6e22e>ok</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>Log</span>(<span style=color:#e6db74>&#34;\n&#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>err</span>.<span style=color:#a6e22e>Error</span>())
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>diff</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>cmp</span>.<span style=color:#a6e22e>Diff</span>(<span style=color:#a6e22e>tt</span>.<span style=color:#a6e22e>expected</span>, <span style=color:#a6e22e>actual</span>.<span style=color:#a6e22e>Unwrap</span>(), <span style=color:#a6e22e>opts</span><span style=color:#f92672>...</span>); <span style=color:#a6e22e>diff</span> <span style=color:#f92672>!=</span> <span style=color:#e6db74>&#34;&#34;</span> {
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>Error</span>(<span style=color:#a6e22e>diff</span>)
</span></span><span style=display:flex><span>				<span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	})
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/0828/>集中開発の1ヶ月間</a></h1><div class=post-meta><time class=post-date>2024-08-28</time></div><span class=post-tags>#<a href=/diary/tags/project-management/>project management</a>&nbsp;
#<a href=/diary/tags/issue-management/>issue management</a>&nbsp;
#<a href=/diary/tags/testing/>testing</a>&nbsp;</span><div class=post-content><h2 id=プロジェクトの進捗報告>プロジェクトの進捗報告</h2><p>出張したときの月例報告の19回目。<a href=/diary/posts/2024/0731/>前回の進捗報告はこちら</a> 。この開発フェーズは私が経営陣へ進捗報告するものの、引き継いだマネージャーにも同席してもらって、こんな打ち合わせをしているというのを知ってもらう機会にしている。この1ヶ月間の進捗やこの開発フェーズでやろうとしていることを一通り説明して、あとはざっくばらんに経営陣と雑談するといった機会にもなった。最低限、開発のボトルネックになりそうなところは私が集中開発して解消したので見た目上はよいペースで進捗している。</p><p>進捗報告して雑談しているうちに、もうこれ以上は私がお手伝い先へ提供できる新たな価値はなさそうに思えてきた。ここからは課題管理できている issue を優先度順にひたすら fix していく、よくないところはリファクタリングする、開発の負債やボトルネックを解消していくといった、より実践的な実務が求められる。課題管理を含むプロジェクトマネジメントやチームの情報共有を改善することで開発をうまくまわしていくフェーズは十分にメンバーが実践できるようになったと思える。自身の引き出しの中身を払い出してしまって、なにも残っていないような寂しさを感じるようになった。</p><p>いまマルチブラウザ／デバイスのテストの自動化のために <a href=https://www.browserstack.com/>BrowserStack</a> というプラットフォームを評価している。まだ評価中なので採用の可否はこれから判断するところだが、採用したらコストがかかるのでその話題も経営陣に伝えてその場で議論したりしていた。おそらくこのサービスは <a href=https://www.selenium.dev/ja/documentation/grid/>Selenium Grid</a> を使っているのではないか？と推測される。うちのプロジェクトだけでなく、社内インフラとして全社共通のテスト基盤を作るという施策もあるかもしれないと話しが発散したりもした。開発においてプラットフォーム的な投資も大事だと考えられている。うちのプロダクトで作る課題管理のメトリクスに、プラットフォーム投資のための見える化ができる機能もあるとよいのかもしれないと思ったりしていた。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/0824/>multipart/form-data リクエストの扱い</a></h1><div class=post-meta><time class=post-date>2024-08-24</time></div><span class=post-tags>#<a href=/diary/tags/health/>health</a>&nbsp;
#<a href=/diary/tags/go/>go</a>&nbsp;
#<a href=/diary/tags/testing/>testing</a>&nbsp;</span><div class=post-content><p>9時に起きて2度寝して10時頃に起きたものの、お昼までだらだらしていた。それからオフィスへ行って溜まっていた日記をまとめて書いて、<a href=https://nigewaka.run/>逃げ上手の若君</a> をみながら作業をしていた。来週は出張の週だから事前にやっておくことがいくつかある。</p><h2 id=ストレッチ>ストレッチ</h2><p><a href=/diary/posts/2024/0817/>先週は実家へ帰っていた</a> ために2週間ぶりのストレッチになる。とはいっても、いまは運動をしているので筋肉痛もない。しかし、机に向かってデスクワークする時間が増えている分の負荷がかかっている。トレーナーさんからも腰から背中にかけて硬いと指摘された。今日は硬くなっているカラダ全体をほぐしてもらった感じだった。おかげで今後も体調よく机に向かえる。今日の開脚幅は開始前149cmで、ストレッチ後155cmと普段通りの数値だった。</p><h2 id=multipartform-data-リクエストを扱う結合テスト>multipart/form-data リクエストを扱う結合テスト</h2><p>昨日の夜に汎用のファイル操作の api を実装した。今日はその結合テストを追加してマージリクエストを作成した。multipart/form-data のリクエストを作るのはちょっと面倒くさい。go のライブラリのテストコードや stackoverflow のサンプルコードなどを調べながら自分で実装した。次のような multipart/form-data リクエストを扱う writer や buffer を生成するためのユーティリティを作る。一通りの結合テストを実装するのに3時間ほどかかった。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>createMultiPartFormData</span>(
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fileBody</span> []<span style=color:#66d9ef>byte</span>, <span style=color:#a6e22e>formField</span> <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>string</span>,
</span></span><span style=display:flex><span>) (<span style=color:#f92672>*</span><span style=color:#a6e22e>multipart</span>.<span style=color:#a6e22e>Writer</span>, <span style=color:#f92672>*</span><span style=color:#a6e22e>bytes</span>.<span style=color:#a6e22e>Buffer</span>, <span style=color:#66d9ef>error</span>) {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>b</span> <span style=color:#f92672>:=</span> new(<span style=color:#a6e22e>bytes</span>.<span style=color:#a6e22e>Buffer</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>mw</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>multipart</span>.<span style=color:#a6e22e>NewWriter</span>(<span style=color:#a6e22e>b</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>k</span>, <span style=color:#a6e22e>v</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>formField</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fw</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>mw</span>.<span style=color:#a6e22e>CreateFormField</span>(<span style=color:#a6e22e>k</span>)
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>, <span style=color:#a6e22e>b</span>, <span style=color:#a6e22e>err</span>
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>fw</span>.<span style=color:#a6e22e>Write</span>([]byte(<span style=color:#a6e22e>v</span>)); <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>, <span style=color:#a6e22e>b</span>, <span style=color:#a6e22e>err</span>
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fw</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>mw</span>.<span style=color:#a6e22e>CreateFormFile</span>(<span style=color:#e6db74>&#34;file&#34;</span>, <span style=color:#e6db74>&#34;path/to/file&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>, <span style=color:#a6e22e>b</span>, <span style=color:#a6e22e>err</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>fw</span>.<span style=color:#a6e22e>Write</span>(<span style=color:#a6e22e>fileBody</span>); <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>, <span style=color:#a6e22e>b</span>, <span style=color:#a6e22e>err</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>mw</span>.<span style=color:#a6e22e>Close</span>(); <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>, <span style=color:#a6e22e>b</span>, <span style=color:#a6e22e>err</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>mw</span>, <span style=color:#a6e22e>b</span>, <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>このユーティリティを使って http リクエストのテストデータを生成するのは次のようなコードになる。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>u</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>url</span>.<span style=color:#a6e22e>URL</span>{
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Scheme</span>: <span style=color:#e6db74>&#34;http&#34;</span>,
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Host</span>:   <span style=color:#e6db74>&#34;localhost&#34;</span>,
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Path</span>:   <span style=color:#a6e22e>path</span>,
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>mw</span>, <span style=color:#a6e22e>body</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>createMultiPartFormData</span>(<span style=color:#a6e22e>fileBody</span>, <span style=color:#a6e22e>formField</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>, <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Errorf</span>(<span style=color:#e6db74>&#34;failed to create multipart form data: %s&#34;</span>, <span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>req</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>NewRequest</span>(<span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>MethodPost</span>, <span style=color:#a6e22e>u</span>.<span style=color:#a6e22e>String</span>(), <span style=color:#a6e22e>body</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>, <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Errorf</span>(<span style=color:#e6db74>&#34;http create new request error. err: %s&#34;</span>, <span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>req</span>.<span style=color:#a6e22e>Header</span>.<span style=color:#a6e22e>Set</span>(<span style=color:#e6db74>&#34;Content-Type&#34;</span>, <span style=color:#a6e22e>mw</span>.<span style=color:#a6e22e>FormDataContentType</span>())
</span></span></code></pre></div><p>あと結合テストでファイルをアップロードすると実際にファイルシステム上に保存されてしまうのでそれらを削除するには <a href=https://pkg.go.dev/testing#T.Cleanup>Cleanup</a> を使うと簡単に後始末できた。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>TestFileUpload</span>(<span style=color:#a6e22e>t</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>testing</span>.<span style=color:#a6e22e>T</span>) {
</span></span><span style=display:flex><span>    <span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>Cleanup</span>(<span style=color:#66d9ef>func</span>() {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>os</span>.<span style=color:#a6e22e>RemoveAll</span>(<span style=color:#a6e22e>file</span>.<span style=color:#a6e22e>FilesDir</span>); <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>t</span>.<span style=color:#a6e22e>Errorf</span>(<span style=color:#e6db74>&#34;failed to remove files directory: %s&#34;</span>, <span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	})
</span></span><span style=display:flex><span>    <span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/0815/>プロジェクトのボトルネック解消</a></h1><div class=post-meta><time class=post-date>2024-08-15</time></div><span class=post-tags>#<a href=/diary/tags/programming/>programming</a>&nbsp;
#<a href=/diary/tags/testing/>testing</a>&nbsp;
#<a href=/diary/tags/project-management/>project management</a>&nbsp;</span><div class=post-content><p>今日は開発の設計に関する打ち合わせが2つ入っていて、どちらも私はメインではないものの、メンバーが要件ヒアリングしやすいよう、ハドルで話しを聞きながらチャットにコメントしたり質問したりしてサポートしていた。その合間に ldap サーバーのグループメンバー管理のための api を実装していた。いま ldap client はライブラリとして作っている。<a href=https://github.com/osixia/docker-openldap>docker-openldap</a> というコンテナを使って <a href=https://github.com/ory/dockertest>dockertest</a> で単体テストを実装している。openldap サーバーに対する ldap プロトコルの操作を容易にテストできるので開発がやりやすい。新規にグループメンバーを操作するための api をライブラリとしての ldap client に実装し、その後に web api としての機能を提供した。だいたい1日で完了した。この2週間ほど取り組んでいた、開発フェーズにおける私のボトルネックをこれで解消できた。ここからは私がやりたい開発ができるボーナスステージへと移行していく。これで少しストレスやプレッシャーが減っていくはず。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/0708/>今週はテストに集中</a></h1><div class=post-meta><time class=post-date>2024-07-08</time></div><span class=post-tags>#<a href=/diary/tags/testing/>testing</a>&nbsp;
#<a href=/diary/tags/exercise/>exercise</a>&nbsp;
#<a href=/diary/tags/life/>life</a>&nbsp;</span><div class=post-content><p>今日の運動は腹筋ローラー,縄跳び(両足跳),散歩,ジョギング,ハンドグリップ,ダンベルをした。統計を <a href="https://docs.google.com/spreadsheets/d/1bg85QtM-LciUgey8I79uI7vW2PEwsP6TVdeIRVkACBg/edit?usp=sharing">運動の記録</a> にまとめる。縄跳びの前後に <a href=/diary/posts/2024/0707/#右股関節をよくするための体操>右股関節の改善体操</a> をした。</p><h2 id=テスト作業は今週いっぱい>テスト作業は今週いっぱい</h2><p>来週の月曜日はお休みで火曜日がリリース日なので今週いっぱいが QA テストの最終週になる。いろいろ背景があって進捗はよくなくて、できるところまでやりましょうといった状況になっている。いろいろよくなかったことのふりかえりは後でやるとして、そうは言ってもできることをできる限り、懸念点は潰しておきたい。今週はテストだけに集中して取り組む。</p><h2 id=みなとのもりの運動>みなとのもりの運動</h2><p><a href=/diary/posts/2024/0706/#みなとのもりの運動>前回の所感</a> 。引っ越ししたことでオフィスよりも住居から公園への距離の方が近くなった。それで公園で運動するときのアイテムを入れたバッグを、オフィスから住居へ移していた。オフィスを退勤して公園へ向かう途中で住居に立ち寄り、バッグを取って公園へ行く。この寄り道が意外と面倒くさい。2週間ほどやってみて結論として慣れない。なにが面倒なのかな？と考えて思いつくのがエレベーターの乗り降りではないかと思う。エレベーターの乗り降りにかかる待ち時間は合計しても2-3分でしかないはずなのに、待って、上がって、荷物を取って、また待って、降りてくるという待つ手順が多い。この待ち時間が運動しようというテンションに悪い影響を与える。心理的によくない。</p><p>出勤するときに運動アイテムのバッグを持ってオフィスに置いておき、オフィスからバッグをもって直接、公園へ行く。運動が終わったらバッグを持って直帰するというサイクルがよいのではないかと考えた。しばらくやってみる。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/0610/>テストの依存関係をステージで表現する</a></h1><div class=post-meta><time class=post-date>2024-06-10</time></div><span class=post-tags>#<a href=/diary/tags/testing/>testing</a>&nbsp;
#<a href=/diary/tags/design/>design</a>&nbsp;
#<a href=/diary/tags/issue-management/>issue management</a>&nbsp;</span><div class=post-content><p>今日の運動は腹筋ローラー,腕立て,縄跳び(両足跳),散歩,ジョギング,ハンドグリップをした。統計を <a href="https://docs.google.com/spreadsheets/d/1bg85QtM-LciUgey8I79uI7vW2PEwsP6TVdeIRVkACBg/edit?usp=sharing">運動の記録</a> にまとめる。</p><h2 id=qa-テストの設計>qa テストの設計</h2><p>システムや機能が複雑になった後の qa テストをどう設計するか。先日 <a href=/diary/posts/2024/0607/#qa-テストのテスト設計>Full Stack Testing を読んで考察</a> したりしていた。テストでもっとも工数がかかるのはデータや設定も含めてテストできる環境を構築すること。gitlab ci/cd で3つのテスト環境を構築しているものの、それらと qa テストのテストケースとどうやって関連させるか、またはテストの依存関係をどのように表現するかといったことを設計の重要事項として考察していた。</p><p>これまで google sheets の1ファイルですべてのテストケースを管理していた。しかし、機能が増え、テストケースが増えていくにあたり、この1ファイルにより管理は破綻しかけていた。id 連携という、複数のシステムまたはモジュールを介してデータをやり取りするというアプリケーションの特性上、テストの依存関係は google sheets の1ファイルでは表現できない。そこで「ステージ」という概念を導入し、google drive のフォルダや階層構造で依存関係を表現することにした。ステージ1のテストが成功しない限り、ステージ2のテストが成功することはない。業務における本質的な難しさである依存関係を人間にとってどう管理していくかが重要になる。急にこれらの qa テストをすべてできるわけではないが、ステージを3つまで定義した。最後の手動探索テストを issue の創発という、課題管理にとって重要な位置づけにおさめたのが個人的にお気に入り。実際に手動探索テストをどのように実施できるか？というのはまだまだこれからの課題ではあるが。</p><ul><li>ステージ1<ul><li>2つのシステム間におけるテスト</li><li>特定モジュールの振る舞いの検証</li><li>ui 周りのテスト</li></ul></li><li>ステージ2<ul><li>複数のシステムをまたがるテスト</li><li>機能横断的な要求テスト<ul><li>可用性に関するテスト</li><li>エラー制御に関するテスト</li></ul></li><li>アプリケーションの機能が動作した次にある高度な要件<ul><li>セキュリティテスト</li><li>パフォーマンステスト</li><li>アクセシビリティテスト</li></ul></li></ul></li><li>ステージ3<ul><li>手動探索テスト<ul><li>issue の創発</li></ul></li></ul></li></ul></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/0607/>テスト設計についての考察</a></h1><div class=post-meta><time class=post-date>2024-06-07</time></div><span class=post-tags>#<a href=/diary/tags/biztrip/>biztrip</a>&nbsp;
#<a href=/diary/tags/testing/>testing</a>&nbsp;
#<a href=/diary/tags/design/>design</a>&nbsp;
#<a href=/diary/tags/book/>book</a>&nbsp;
#<a href=/diary/tags/sake/>sake</a>&nbsp;</span><div class=post-content><p>飲みにいっていたので今日の運動はお休み。</p><h2 id=都営浅草線>都営浅草線</h2><p>宿泊したホテルの近くにある三田駅から五反田まで都営浅草線で乗り換えなしで通勤できることに気付いた。山手線でも行けるが。芝公園は運動にもよいスポットなので五反田の京王プレッソイン以外にスーパーホテルに泊まるプランも織り交ぜてよさそうに思える。</p><h2 id=qa-テストのテスト設計>QA テストのテスト設計</h2><p>次のマイルストーンから QA テストが始まる。その前に今回の開発した成果物を踏まえてテストケースなどを整備し直さないといけない。さらに機能が増えてシステムが複雑化したことでテストのカテゴライズなども見直したいと考えていた。そういった一連のテスト設計を再構築しようと考えている。一般的なやり方としてテストケースをスプレッドシートでまとめる手法がある。それ自体は悪くないし、デフォルトのやり方だとは思うが、もっとよいやり方はないかと模索している。試しにオライリーのサブスクリプションでみつけた <a href=https://www.oreilly.com/library/view/full-stack-testing/9781098108120/>Full Stack Testing</a> の、関心のあるところだけ斜め読みした。</p><p>これまでは手動テストと自動テストの２つのカテゴリ程度でしか分類されていなかったテストに関するコンテキストを、著者は10個のスキルに分割して体系化し、これらをまとめて <em>full stack testing</em> と呼んでいる。適切な名前をつけられることから著者のテストに関する知識や経験の深さが伺える。</p><figure><img src=/diary/img/2024/0607_book1.jpg></figure><p>いくつか斜め読みした中で私が最も関心をもったところに手動探索テストの章がある。著者は「手動テスト」と「手動探索テスト」はまったく別の概念であると定義している。前者はあらかじめ決められたテスト仕様にしたがってテストするだけ。後者はアプリケーションの詳細を掘り下げ、現実的なシナリオを考えて、それらをシミュレートするようにテストしていく。</p><blockquote><p>この開発後の探索的テストを実施するために、別個の担当者を配置する必要はないかもしれない。しかし、そのアプローチの方が、アプリケーションに関する知識が蓄積され、鋭い観察力と分析力を持つ人が必要になるため、より良い結果が得られるかもしれない。コストや稼働率の問題でこれができない場合は、既存のチームメンバーが、各イテレーション期間中、総当り方式で探索的テストを実施する責任を負うべきである。実際、探索的テストのスキルを開発することは、すべての役割のパフォーマンスを向上させるのに役立つかもしれない。</p></blockquote><p>探索テストをやるときはその人の経験に応じて感覚的にあちこち触ってテストをしているように思う。次の図は、その分類を明確にすることでチェックポイントやテストのコツやプラクティスの共有をやりやすくなっていくかもしれないと思えた。</p><figure><img src=/diary/img/2024/0607_book2.jpg></figure><h2 id=雑談会>雑談会</h2><p>夜はやぎさんとおがわさんと久しぶりに会って雑談してきた。おがわさんとは1年以上会っていなかったと思う。実家が大阪なので帰ってきたら声をかけてくださいとよく伝えているものの、最近は実家に帰っておられないようだ。うちは最低でも年に1回お正月に帰るのが当たり前の家だったから何年も実家に帰っていないという家族の形態もあるんだなという所感。それぞれの家の文化がある。ホットクックで <a href=https://cocoroplus.jp.sharp/kitchen/recipe/hotcook/KN-HW24G/R4078>麻婆なす</a> を作ろうという話題になって、私も作ったことがないことに気付いた。今度うちでも作ってみようと思う。あと、まったく飲んだことのなかった焼酎で <a href=https://tsnet-web.jp/products_sake/>十割そば焼酎粋蕎 (いっきょう)</a> がおいしかった。近所の酒屋でも売っているか探してみよう。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/0317/>スマート縄跳びを購入</a></h1><div class=post-meta><time class=post-date>2024-03-17</time></div><span class=post-tags>#<a href=/diary/tags/health/>health</a>&nbsp;
#<a href=/diary/tags/event/>event</a>&nbsp;
#<a href=/diary/tags/testing/>testing</a>&nbsp;</span><div class=post-content><p>0時過ぎに寝て5時に起きて7時に起きた。CPAP 機器を装着する前に布団入ってだらだらしていたらそのまま寝てしまった。</p><p>今日の運動は腹筋ローラー,腕立て,スクワット,散歩をした。統計を <a href="https://docs.google.com/spreadsheets/d/1bg85QtM-LciUgey8I79uI7vW2PEwsP6TVdeIRVkACBg/edit?usp=sharing">運動の記録</a> にまとめる。</p><h2 id=スマート縄跳びを購入>スマート縄跳びを購入</h2><p>縄跳びにもだいぶ慣れてきて数えながら跳ぶのも面倒になってきた。回数から時間に移行しようと考えているところ。検索したら普通にデータ連携できるスマート縄跳びがあることに気付いた。どの商品がよいのかよくわかっていないのでクラウドファンディングして有名そうな <a href=https://store.tangramfactory.com/collections/frontpage/products/smart-rope-red>SmartRope LED Red</a> を直販で購入した。</p><pre tabindex=0><code>Subtotal ¥12,100
Shipping ¥1,900
Taxes ¥0
Total ¥14,000 JPY
</code></pre><p>海外から発送するなら2-4週間ぐらいはかかるかな？と予想していたら、そんなことはなくて韓国からの FedEx による発送で数日で届くみたい。</p><h2 id=フロントエンドのテストフレームワーク>フロントエンドのテストフレームワーク</h2><p><a href=https://kobe-sannomiya-dev.connpass.com/event/306844/>mswとstorybookで始めるフロントエンドテスト</a> に参加した。そごうさんがハンズオンの講師を務められていた。</p><ul><li><a href="https://docs.google.com/presentation/d/1K01uV6rWFS6zBWLZZcOdNyAZbC_EFmGY6Oe7gp-481E/edit?usp=sharing">MSW+Storybook で始めるフロントエンドテスト</a></li><li><a href=https://github.com/tenkawa0/msw-storybook-handson>https://github.com/tenkawa0/msw-storybook-handson</a></li></ul><p>うちのチームはまだフロントエンドのテストを書いていない。まだまだ ui や機能を開発している段階なのでテストを書くのはもう少し先になる。一方で storybook はドキュメントの代替に導入していたので、その延長上にテストフレームワークがあるのはステップアップとしてよいように思えた。そごうさんの説明やハンズオンのサンプルもわかりやすかった。とてもよかったと思う。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/0219/>日曜日に運動し過ぎて月曜から疲れている</a></h1><div class=post-meta><time class=post-date>2024-02-19</time></div><span class=post-tags>#<a href=/diary/tags/testing/>testing</a>&nbsp;
#<a href=/diary/tags/event/>event</a>&nbsp;
#<a href=/diary/tags/blog/>blog</a>&nbsp;</span><div class=post-content><p>1時半に寝て6時前に起きた。今日もよく眠れたと思う。1日中天気が悪かったのもあってあまり外出 (運動) せず休息の日になった。</p><p>今日の運動はレッグレイズ(椅子),腹筋ローラー,スクワット,散歩をした。統計を <a href="https://docs.google.com/spreadsheets/d/1bg85QtM-LciUgey8I79uI7vW2PEwsP6TVdeIRVkACBg/edit?usp=sharing">運動の記録</a> にまとめる。</p><h2 id=qa-テスト>QA テスト</h2><p><a href=/diary/posts/2024/0209/>先週から引き続き</a>、ずっとテストをしている。今日から windows server の active directory への連携に関するテストをしていた。プライマリグループという設定があって、その連携方法だけ分からなくてまた明日メンバーに教えてもらうことにした。テストは誰がやっても時間がかかるし、うまくいかないときに設定が悪いのか、データが誤っているのか、操作が適切ではないのか、調査にも時間がかかる。実際に手を動かしてみると、メンバーから聞いてるだけではわからない気付きも得られるのでこれはこれでよい経験になったと思う。ただ時間だけがどんどん削られるというのが欠点。</p><h2 id=テックブログを読むためのイベント考察>テックブログを読むためのイベント考察</h2><p><a href=https://blogreading.connpass.com/event/310870/>テックブログ一気読み選手権20240219杯</a> に参加した。今日はにしはらさんが都合悪かったようで誰もいなかった。1人でテックブログを読んで、1人で hackmd にまとめて、それでイベントを終えた。その時間に都合が悪くても非同期に読めばよいというイベントの主旨ではあるけれど、なんのためにイベントをやっているのか？ということについて考えてみた。確かにイベントがあることでテックブログを1つ2つ読む機会になっている。これはイベントが中止であれば読まなかったかもしれない。一方で読んで他社へ話して共有する過程で新たな価値に気付くといったこともこのイベントの主旨ではあるのでその効果は落ちてしまう。なによりもイベントに参加して、誰もいなくて、ただまとめを書いて終えるというのはなにか寂しい。</p></div></article><div class=pagination><div class=pagination__buttons><a href=/diary/tags/testing/page/2/ class="button next"><span class=button__text>過去の日記</span>
<span class=button__icon>→</span></a></div></div></div></div><footer class=footer><div class=footer__inner><div class=copyright><span>© 2024 Powered by <a href=https://gohugo.io>Hugo</a></span>
<span>:: <a href=https://github.com/panr/hugo-theme-terminal target=_blank>Theme</a> made by <a href=https://github.com/panr target=_blank>panr</a></span></div></div></footer><script type=text/javascript src=/diary/bundle.min.js></script></div></body></html>