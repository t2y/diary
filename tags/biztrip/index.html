<!doctype html><html lang=en><head><title>Biztrip :: </title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=/diary/tags/biztrip/><link rel=stylesheet href=/diary/styles.css><link rel=stylesheet href=/diary/style.css><link rel="shortcut icon" href=/diary/favicon.ico><meta name=twitter:card content="summary"><meta name=twitter:site content="t2y"><meta name=twitter:creator content><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:title" content="Biztrip"><meta property="og:description" content><meta property="og:url" content="/diary/tags/biztrip/"><meta property="og:site_name" content><meta property="og:image" content="/diary/favicon.ico"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><link href=/diary/tags/biztrip/index.xml rel=alternate type=application/rss+xml title></head><body class=green><div class="container full headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=/diary><div class=logo>forest nook</div></a></div><ul class="menu menu--mobile"><li class=menu__trigger>Menu&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=/diary/about>自己紹介</a></li><li><a href=/diary/dates>月別一覧</a></li><li><a href=/diary/tags>タグ一覧</a></li></ul></li></ul></div><nav class=navigation-menu><ul class="navigation-menu__inner menu--desktop"><li><a href=/diary/about>自己紹介</a></li><li><a href=/diary/dates>月別一覧</a></li><li><a href=/diary/tags>タグ一覧</a></li></ul></nav></header><div class=content><h1>Posts for: #Biztrip</h1><div class=posts><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/1119/>朝の飛行機ルートの実証検証</a></h1><div class=post-meta><time class=post-date>2024-11-19</time></div><span class=post-tags>#<a href=/diary/tags/biztrip/>biztrip</a>&nbsp;
#<a href=/diary/tags/failure/>failure</a>&nbsp;</span><div class=post-content><p>今日のバドミントン練習は出張と飲み会でおやすみ。</p><h2 id=朝の飛行機ルートのふりかえり>朝の飛行機ルートのふりかえり</h2><p><a href=/diary/posts/2024/1024/#飛行機ルートのふりかえり>先月は出張帰りに飛行機を使った</a> 。今回は出張の行きを飛行機にしてみた。</p><p>タイムスケジュールは次のようになった。荷造りは出来ていたので5:45に起床してすぐ出掛けた。貿易センター駅は家から近いので朝ゆっくりできる。</p><pre tabindex=0><code>6:02 (ポートライナー) 貿易センター (車内わりと満員) 発
6:17 (ポートライナー) 神戸空港 着
6:28 保安場通過して搭乗口前へ (スーツケース持込可)
6:50 搭乗手続き開始
7:02 飛行機の座席に着く
7:16 神戸空港の滑走路を発進
7:21 離陸
(前日ほとんど寝てなかったので寝てた)
8:16 羽田空港の滑走路に着陸
8:25 降機 (定刻より5分早い)
8:42 (京急本線) 羽田空港 (普通に座れる) 発
9:10 (都営浅草線) 泉岳寺乗り換え (5分待ち、普通に座れる) 着
9:18 (都営浅草線) 五反田 着
</code></pre><p>新幹線だと次のスケジュールになる。普段は三宮駅へ歩いていく時間があるので5時半前には家を出ている。地下鉄にももう1本前の便に乗ったりしている。</p><pre tabindex=0><code>5:53 (神戸市営) 三宮 発
5:55 (神戸市営) 新神戸 着
6:10 (新幹線) 新神戸 発
8:44 (新幹線) 品川 着
8:52 (JR 山手線) 品川 発
8:58 (JR 山手線) 五反田 着
</code></pre><p>飛行機と新幹線の比較は本当に難しい。どちらも一長一短ではある。飛行機の方が東京への到着時間は遅れるものの、移動時間の関係で朝1時間ほど遅く出発できる分の身体的な負担が小さい。行きの方が元気があるので移動や待ち時間が少しあってもそれほど気にならない。飛行機は新幹線と比べて遅れる可能性があることだけ懸念でもある。今回は逆に5分早く着いたので余裕をもって移動できた。身体的な負担だけ考えれば、行きを飛行機、帰りを新幹線のルートで出張する方がよいようには思える。今回で飛行機のルートをだいぶ開拓できた。来月もこのルートで出張してみる。</p><h2 id=同期飲みにおける失敗>同期飲みにおける失敗</h2><p>お仕事を終えてから昔の同期と飲みに行った。寝てなくて疲れていたせいか、たくさん失敗したのを書いておく。以前に <a href=/diary/posts/2024/0322/>公正証書の正本を紛失</a> する失敗と同じレベルで大失敗した。他人の失敗に対して寛容になること。自己の非を省みるために書いておく。</p><ul><li>友だちと待ち合わせの駅を間違う<ul><li>乗車時間が3分であったために二駅隣を一駅隣だと勘違いしてしまった</li></ul></li><li>お土産に持っていったお酒を落として割ってしまう<ul><li>もっていた紙袋の底が抜けてしまった<ul><li>紙袋ののりが劣化していた？</li></ul></li></ul></li><li>酔っ払ってスマホで改札を通ろうとしてしまった</li></ul></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/1024/>飛行機での出張帰り</a></h1><div class=post-meta><time class=post-date>2024-10-24</time></div><span class=post-tags>#<a href=/diary/tags/mongodb/>mongodb</a>&nbsp;
#<a href=/diary/tags/testing/>testing</a>&nbsp;
#<a href=/diary/tags/performance/>performance</a>&nbsp;
#<a href=/diary/tags/biztrip/>biztrip</a>&nbsp;</span><div class=post-content><p>夜に神戸に戻ってきてからオフィスに来て、機内でやっていた作業を区切りのよいところまで進めてコミットしたりしていた。その後スーパーへ買いものへ行ったりしていた。今日もバドミントン練習はおやすみ。</p><h2 id=ローカルは-standalone-mongodb>ローカルは standalone mongodb</h2><p>mongodb の <a href=https://www.mongodb.com/docs/manual/replication/>レプリケーション</a> 機能を使っていて、replica set の設定が容易なことから <a href=https://hub.docker.com/r/bitnami/mongodb>bitnami/mongodb</a> というコンテナを使っている。これまで結合テストもレプリケーション機能を設定して実行するようにしていた。結合テストの量が増えてきたのもあって実行時間が徐々に遅くなってきた。いまテストのリファクタリングをしているため、ローカルで検証のために何度も実行する必要がある。コードの品質を上げるためにテストを書きやすくする必要がある。実行時間は短いほどよい。そこでローカルでの実行はレプリケーションを設定しないようにしてみた。さらに go のデータ競合を検知する <code>-race</code> オプションも外してテストを実行してみたところ、この2つの改善で macbook の環境で改善前より45%ほど速くなった。十分な高速化を図れた。</p><h2 id=飛行機ルートのふりかえり>飛行機ルートのふりかえり</h2><p>8月に大雨で新幹線が止まってしまい <a href=/diary/posts/2024/0829/>神戸に帰れない状況</a> に直面した。私はほとんど飛行機に乗ったことがなかったため、新幹線が動かないときの迂回手段として飛行機のルートに慣れておく。普段リュックサックに小さいカッターとマイナスドライバーを携帯している。これらは飛行機の手荷物検査でとめられてしまう。荷物を預けるか、検査場で処分してもらうしかない。前回は ANA で帰ってきたが、今回は <a href=https://www.skymark.co.jp/ja/>スカイマーク</a> の飛行機に乗った。値段が安いから LCC だと思っていたら <a href=https://japantour.airtrip.jp/column/magazine/skymark-why-popularity-goodvalue/>スカイマークは安くて快適なMCC</a> らしい。ANA に比べたらずっと小さい飛行機だった。</p><p>タイムスケジュールは次のようになった。</p><pre tabindex=0><code>18:15 (都営浅草線) 五反田 発
18:56 (京急本線) 羽田空港 着
19:45 搭乗開始
19:55 飛行機の座席に着く
20:08 羽田空港の滑走路を発進
20:20 離陸
(機内は暗かった、ラップトップで作業)
21:16 神戸空港の滑走路に着陸
21:22 降機
21:25 空港内の荷物受け取り場に着く
21:30 荷物を受け取り
21:35 (ポートライナー) 神戸空港 発
21:51 (ポートライナー) 貿易センター 着
</code></pre><p>新幹線だと次のようなタイムスケジュールになる。トータルの時間でみれば新幹線の方が20-30分早いかなといったところ。一方で新幹線だと2時間半、同じ姿勢で座っている必要がある。飛行機だと座っている時間は1時間強。飛行機は搭乗手続きのチェックポイントがいくつかあってそれぞれに細かい待ち時間ができてしまうのが気になる。そのときの体調によってもどちらがよいかは変わってくるかもしれない。来月は行きは飛行機、帰りは新幹線にしてみる。</p><pre tabindex=0><code>17:57 (JR) 五反田 発
18:03 (JR) 品川 着
18:19 (新幹線) 品川 発
20:53 (新幹線) 新神戸 着
21:10 (市営地下鉄) 新神戸
21:12 (市営地下鉄) 三宮
</code></pre></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/0924/>晩酌セット</a></h1><div class=post-meta><time class=post-date>2024-09-24</time></div><span class=post-tags>#<a href=/diary/tags/biztrip/>biztrip</a>&nbsp;
#<a href=/diary/tags/food/>food</a>&nbsp;</span><div class=post-content><p>昨日はテンションがあがらなくて前泊をやめて久しぶりに始発の新幹線にのって東京へ向かう。ゼロ時頃まで作業をして帰って晩ご飯を作って食べて、お風呂入って、適当に時間を潰したり仮眠したりしているうちに5時頃になって出掛けた。新幹線でもなるべく寝ておこうと思ったものの、あまり寝付けなくて仮眠程度だったと思う。過去の経験だと、始発でいくと夕方には眠気と疲労でしんどかったりするものが、休日明けのせいか、まったくしんどくなかった。なんか体調管理もおかしい。</p><p>いつも通りマイルストーン最終日の定例会議に出席して、そのスケジュールにあわせて issue を2つ fix して、可もなく不可もなく特徴のない1日の働き方だった気がする。</p><p>お昼ご飯を食べる余裕がなくて夜にまとめて食べた。この前チームランチで行った <a href=https://tabelog.com/tokyo/A1316/A131603/13217309/>ハルピン</a> という中華料理屋さんを気に入っていて、その後も出張のときに必ず1回は行くようになった。晩酌セットというのがあって小皿3品 + 餃子3個 + 飲みもの1杯で1330円というコース。たとえば、小皿の1つは次のよだれ鶏のようなもの。</p><figure><img src=/diary/img/2024/0924_harupin2.jpg></figure><p>餃子はこんな感じ。</p><figure><img src=/diary/img/2024/0924_harupin3.jpg></figure><p>私はこの晩酌セットに単品で料理をもう1つ頼む。今回は定番料理の鶏肉のカシューナッツ炒めを食べた。おいしかった。</p><figure><img src=/diary/img/2024/0924_harupin1.jpg></figure><p>2000円ちょっとで一杯飲んでいくつか料理も味わえて満足、且つコスパもよい。今後も2泊するうちのどちらか一方の晩ご飯はこのお店になる可能性が高い。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/0829/>東京出張を新幹線に依存するリスク</a></h1><div class=post-meta><time class=post-date>2024-08-29</time></div><span class=post-tags>#<a href=/diary/tags/biztrip/>biztrip</a>&nbsp;
#<a href=/diary/tags/failure/>failure</a>&nbsp;</span><div class=post-content><h2 id=新幹線から飛行機への変更>新幹線から飛行機への変更</h2><p>いつも出張帰りは18時19分 (品川発) 〜 20時53分 (新神戸着) の新幹線を使っている。朝の時点では台風が九州にいたので大丈夫そうと考えていた。しかし、16時頃に <a href=https://traininfo.jr-central.co.jp/shinkansen/sp/ja/index.html>東海道・山陽新幹線運行状況</a> をチェックしたら東京 - 静岡間が止まっていることに気付いた。火曜日の夕方も大雨で2時間半ほど遅れたとお手伝い先の社員さんから聞いていて、静岡県の一部の地域だけ局所的に雨が降ることは事前に知っていた。台風は遠かったから待てば遅れて動き出すかな？と静岡県の天気予報を眺めていた。17-19時に雨足は少し弱まる予報なものの、19時以降はまた強い雨になっていたので18時頃に動かない状況だったから新幹線は無理だなと諦めた。実際 18:50 に新幹線の終日運転取り止めの案内が発表された。</p><p>諦めつつ、なんとなくお手伝い先の cto に声をかけてみたら飛行機に変更したら？と教えてもらった。その場で検索してもらって関空行きならまだ予約を取れるという。私は普段、飛行機を使わないから航空券の手配の方法をよくわかっていない。航空券を取るためのアカウントすらあるかも怪しい。そこで cto に航空券を予約していただいた。それから慌てて羽田空港へ向かうことに。しかし、飛行機も約1時間出発が遅れたりして22時前に出発して23時過ぎに関空へ着いた。私は関空へ行くのも初めてだった。関空からの帰りのルートもよくわからない。三宮まで帰るときの電車の最終は 22:48 で、高速バスは 23:00 となる。残念ながら三宮までは帰れないものの、23:45 の梅田行き (最終) の高速バスには乗れた。</p><p>0時半頃に梅田に着いた。そのときはどこか適当に泊まる場所を探そうと考えていた。バスを降りて移動していたら、同じバスから降りた2人組がタクシー乗り場を探しながら相乗りする人を探そうと話していた。声をかけてみたら神戸までタクシーで行くというから、一緒に乗せてもらって3人でタクシーで帰ってきた。梅田から神戸までのタクシー料金 (深夜割増) は高速道路を使わずに1万5千円弱だった。時間は1時間半ぐらいかな。1人5千円程度なのでサウナや漫画喫茶に泊まってから電車で帰るのとそれほど変わらない金額に思える。三ノ宮駅で私は降りて2時前には自宅に着いたと思う。</p><p>もし私1人だったら18時の時点で帰れないと諦めていた。台風が接近するから金曜日も土曜日も新幹線は止まることが容易に推測できた。周りに尋ねて、他者の助けを得て東京から自宅に帰ることができた。たまにこういうことがあって世の中は助け合いであることを実感する。一方で私の準備不足で右往左往したり、余分にコストがかかったりしたのをふりかえりしておく。</p><ul><li>16時の時点で飛行機へ変更をしていたらもっと早く (安く) 帰れた可能性が高い</li><li>航空券の予約方法がわからないのを改める必要がある<ul><li>飛行機予約のためのアカウントを作る</li><li>航空券の予約手続きに慣れておく</li></ul></li><li>新幹線が止まっても飛行機は飛んでいる場合がある</li><li>慣れておくために飛行機で東京出張する機会をたまに設ける</li></ul></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/0826/>親からの依頼</a></h1><div class=post-meta><time class=post-date>2024-08-26</time></div><span class=post-tags>#<a href=/diary/tags/biztrip/>biztrip</a>&nbsp;
#<a href=/diary/tags/life/>life</a>&nbsp;</span><div class=post-content><h2 id=前泊移動>前泊移動</h2><p>親からの依頼
16時半移動の19時半から友だちと東京で飲み会予定になっていた。昨日リリース作業があったそうでお仕事の影響で行けないという話しになったので新幹線の移動時間も19時52分〜に変更しての前泊になった。<a href=https://smart-ex.jp/>スマートEX</a> は新幹線の予約変更を直前までできる。こういう予定が曖昧なときに便利なのを実感した。朝にスーツケースを準備してオフィスに持ち込んで16時から移動できるような段取りは組んでいたものの、なんか16時から移動というのも違和感があったのでキャンセルになっていつも通りのスケジュールで1日を過ごせたことはよかったと思う。</p><h2 id=城崎温泉のアテンド>城崎温泉のアテンド</h2><p>親が親戚と一緒に城崎温泉へ行きたいというので11月の下旬に旅館の予約をとった。サイトで条件を入れて検索したら、<a href=https://kinosaki-kinoie.com/index.html>きのいえ</a> のすぐ前にあった <a href=https://ryokufukaku.com/>緑風閣</a> がヒットしたので (前を通って) 知っている旅館なのでここでいいなと4人一部屋で予約した。私が車で運転して連れていって案内したりすることになりそう。うちはもともと旅行したりする家族ではなかったし、親がどこかへ行きたいということもあまりないのでこういった機会はなるべく要望に応えるようにはしている。過去2回うちの会社の合宿として城崎温泉へ行った話しを親にしているうちに関心をもったようだ。別に狙った意図ではなかったが、親が楽しむ機会になるならそれはそれでよかったなと思える。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/0729/>api ドキュメント保守の考察</a></h1><div class=post-meta><time class=post-date>2024-07-29</time></div><span class=post-tags>#<a href=/diary/tags/document/>document</a>&nbsp;
#<a href=/diary/tags/openapi/>openapi</a>&nbsp;
#<a href=/diary/tags/ci/cd/>ci/cd</a>&nbsp;
#<a href=/diary/tags/biztrip/>biztrip</a>&nbsp;</span><div class=post-content><p>今晩から東京出張なので運動はおやすみ。縄跳びだけもっていく。</p><h2 id=api-ドキュメントを継続的に保守することへの考察>api ドキュメントを継続的に保守することへの考察</h2><p>お手伝い先のプロダクトを1年半以上、継続している。web api の機能もどんどん増えてきて50は超えていると思う。api ドキュメントをビルドするために <a href=https://redocly.com/docs/cli>redocly cli</a> というツールを使っている。次のスクリプトは .gitlab-ci.yml の設定だけど、このぐらいの手間で openapi.yml から1つの html ドキュメントを生成してくれる。この index.html を api サーバーに同梱している。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span>  <span style=color:#f92672>before_script</span>:
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>node --version</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>npm --version</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>npm install @redocly/cli@latest</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>npx redocly --version</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>script</span>:
</span></span><span style=display:flex><span>    - |+<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      npx redocly build-docs schema/openapi.yml \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        --output index.html \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        --theme.openapi.schemaExpansionLevel=10 \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        --theme.openapi.expandResponses=all \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        --theme.openapi.requiredPropsFirst=true \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        --theme.openapi.jsonSampleExpandLevel=10 \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        --theme.openapi.hideLoading=true \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        --theme.openapi.pathInMiddlePanel=true</span>      
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>mkdir -p public</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>mv index.html public/</span>
</span></span></code></pre></div><p>web api の機能数が少ないときはこれで十分だった。しかし、50を超えてくると yml で api ドキュメントを保守するのが辛くなってくる。xml/yml/json を問わず、サイズの大きいこれらのファイルを保守するのはつらい。人間の能は複数種別の情報を同時処理できるが、一定量を超えた情報量をうまく処理できない。もちろん機能別にファイル分割して管理しているのだけど、それでも openapi.yml のエンドポイントの定義はどんどん増えていく。それがだんだん辛くなってきたのが現状になる。</p><p>以前 <a href=/diary/posts/2024/0115/#hugo-のハンズオン資料作り>静的サイトジェネレーター勉強会の手伝い</a> をしたときに <a href=https://github.com/slatedocs/slate>slate</a> という markdown で記述できる api ドキュメントツールがあることを教えてもらった。これはいいなとそのとき思ったのだけど、コミット履歴などをみているともう保守モードで活発に開発されていない。oss あるある話しで継続的に開発されていないツールはすぐに廃れるのでいまから採用するには躊躇してしまう。</p><p><a href=https://www.postman.com/>postman</a> という api プラットフォームがある。昔から api クライアントとして使う開発者も多かったのでツール自体は知っていた。この機会に私も実際に使ってみて評価した。既存の openapi.yml + redocly cli を使っているドキュメント管理と postman との比較をした。</p><ul><li>postman はドキュメントのバージョン管理ができる</li><li>postman アプリを api ドキュメントのエディターとして使える<ul><li>テキストの説明欄に markdown を記述できる</li><li>エクスポートすると json データになる<ul><li>ドキュメントのデータとして yml と大きな違いはないが、エディターで隠蔽されるからドキュメントの保守はやりやすくなる<ul><li>但し、エディターは postman アプリに依存する</li></ul></li></ul></li></ul></li><li>postman はリクエスト CLI とレスポンスの対応関係をセットで管理できる</li><li>ドキュメントの構造や見た目はあまり変わらない</li></ul><p>postman そのものは悪くないけど、うちらのいまの開発のワークフローにすぐに適用できる状況でもない。postman の機能を有効に活用できるように開発のやり方を変えないといけない。そうしないと、ドキュメント管理だけに使うには外部サービス依存が大きくて学習コストも高くなってしまう。</p><p>別のアプローチとして openapi.yml の編集をテキストファイルで行うのではなく、人間にとって操作しやすいエディター上で行えるようにしたものが <a href=https://github.com/stoplightio/studio>stoplight studio</a> になる。ググると評判もよいし、私も実際に使ってみて機能はまさに探していたツールではある。しかし、このツールの先行きも怪しい。これまでデスクトップ版のエディターは無償で提供されていて、いまもアカウント登録すれば無償で使える。しかし、昨年あたりに SmartBear 社 (swagger を作ってた会社ね) に買収されている。おそらく <a href=https://editor.swagger.io/>swagger editor</a> の移行先を探していてちょうど都合がよいのだと思う。SmartBear 社は過去の openapi 移行時のゴダゴダがあって印象がよくないし、ビジネス寄りの会社になるので将来的に stoplight studio を無償で使い続けられるかどうかにも懸念がある。</p><ul><li><a href=https://smartbear.com/news/news-releases/smartbear-to-acquire-stoplight/>SmartBear to Acquire Stoplight to Deliver Industry’s Broadest Portfolio of API Development Capabilities</a></li></ul><p>今回は調査したどのツールにも懸念があって採用を見送ることにした。api ドキュメントを書くツールを探すのは難しい。</p><h2 id=寝台特急>寝台特急</h2><p>久しぶりの寝台特急。11時25分頃に乗車券を使って JR 三ノ宮駅の改札を通過しようとするとエラーになった。30日から有効とは書いてあるものの、以前は通過できていた気がしたので駅員さんに聞いたら30分前から通れるはずとの。その後11時38分には改札を通れた。これまで改札でエラーになったことがなかったのは11時30分をまわってからだったんだと初めて気付いた。運が悪いことに0時11分発の予定が32分遅延した。調子の悪いときはこんなもので段取りもうまくいかない。最終的に東京駅には15分ほど遅れになった。</p><p>今日は普通のB寝台シングルを予約した。下側の狭い部屋でゆっくり寝ることにした。乗車後10分ほどして車掌さんが切符確認にきた。これもわかっているから扉を開けて切符も用意して待ってた。寝台特急は薄い布団しかついていないから冬はちょっと寒い。逆に夏はエアコンが効いているし薄い布団で問題ない。寝台特急は暖かい時期に乗るのがよさそうだということもわかってきた。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/0701/>初沖縄</a></h1><div class=post-meta><time class=post-date>2024-07-01</time></div><span class=post-tags>#<a href=/diary/tags/biztrip/>biztrip</a>&nbsp;
#<a href=/diary/tags/founding/>founding</a>&nbsp;
#<a href=/diary/tags/sightseeing/>sightseeing</a>&nbsp;
#<a href=/diary/tags/food/>food</a>&nbsp;</span><div class=post-content><p>今日の運動は旅行でおやすみ。</p><h2 id=神戸空港への導線>神戸空港への導線</h2><p>初めての神戸空港から飛行機に乗る。前に車ではらさんを空港まで送って行ったことはあったが、自分が行くのは初めてで要領がわからない。6:20 三宮発のポートライナーに乗って 6:38 に神戸空港駅へ着く。18分なので近い。普段、飛行機に乗らない + 初めていく空港だから早めに行こうと1時間前には着いた。改札を出たらすぐ空港と直結していて導線がよい。カウンター横の発券機で確認番号と予約番号を入力したら搭乗券が発券された。対面でのカウンター手続きは不要だった。行きはソラシドエア、帰りはスカイマークに乗る。</p><p>搭乗券を発行したら保安検査場へ向かう。ジャケット、手荷物、携帯、ラップトップなどをカゴにのせ、スーツケースも検査機を通す。本当は先にスーツケースを手荷物として預けるのが正しい手順だけど、久しぶりで手順がわかっていなくてそのまま検査場に持ち込みした。とくに何も言われなかったからぎりぎり機内に積み込みできるスーツケースのサイズだったと言える。機内の収納にスーツケースを入れた方が受け取りの待ち時間がなくてよいから、そういうことをする人もいるというのを後で知人におしえてもらった。私は単純に手順がわからなくてそうしただけだが、飛行機も空いていたし、平日ならそれでいいのかもしれない。</p><p>保安検査場を通過したら搭乗口へ歩いていくだけ。国内線だから？簡単にチェックインの手続きができた。施設の導線や手続きに慣れれば30分前に空港へ着けばよい。保安検査場を20分前に通ればよいとチケットにも書いてあった。不慣れでも1時間前に行けば右往左往しながら搭乗口前でゆっくり過ごせる。8時発の便で 7:43 から搭乗開始、最初は乳幼児のいる家族や体の不自由な方を優先して搭乗していく。その後はグループ番号で座席位置の奥の方から登場する。神戸空港から沖縄まで2時間5分の予定だった。少し出発が遅れたため、10:10 頃に那覇空港へ着いた。</p><p>昔の知識で飛行機のチェックインは1時間前にやらないといけないと思っていたが、今回はチケットにも20分前と書いてあったし、システム化して効率がよくなってチェックイン手続きの時間が簡略化されたからだと思う。これなら新幹線じゃなくてたまに飛行機に乗ってもいいかなと思うぐらいには快適だった。機内はネットワークがつながらないから集中して本を読むこともできた。また今度、東京への出張にも神戸空港から羽田行きの経路も試してみたいと思うほどには神戸空港へのアクセスや手続きの導線がよかった。なにごとも試してみないとわからないものだ。</p><h2 id=2年目の社員旅行>2年目の社員旅行</h2><p>お手伝い先の会社の社員旅行に付いていく。<a href=/diary/posts/2023/0707/#隔週の雑談>昨年の社員旅行の所感</a> 。いずれうちの会社も社員を雇って慰労や親睦が必要になるかもしれない。そのときのために社員旅行の作り方を他社から学ぶ、私にとっては研修のような位置付けでもある。昨年はよくわからず付いていっていたが、今回は周りの社員さんの振る舞いや雰囲気を観察してみようと思う。</p><h3 id=ガンガラーの谷>ガンガラーの谷</h3><p>那覇空港から車で1時間ちょっとぐらいかな。<a href=https://gangala.com/>ガンガラーの谷</a> という洞窟と森と谷を体験できる観光地のガイドツアーに参加した。ガイドさんからそれぞれの場所の背景を説明してもらう。コンテキストがわかると観察していても解像度があがり、楽しめる幅が広がる。能楽と同じ。教養のある方が観光地もたくさん楽しめる。熟練したガイドの説明や立ち居振る舞いも見事だなと観察していた。これまであまりガイドツアーに参加したことはなかったが、けっこうよいものだと感心した。</p><figure><img src=/diary/img/2024/0701_gazumaru.jpg></figure><h3 id=ホテル--晩ご飯>ホテル & 晩ご飯</h3><p><a href=https://www.terrace.co.jp/busena/>ブセナテラス</a> というリゾートホテルに宿泊する。後にも先にも、私がこんなところに泊まることはないんやろなと思えるようなホテルだった。沖縄でも指折りのリゾートホテルの1つらしい。部屋の雰囲気やプライベートビーチやプールや施設の広さとか、こういうところに来ると自分がいるのは場違いに思えて落ち着かない想いになったりする。着いてから夕日を眺めてすぐ晩ご飯へ行った。</p><figure><img src=/diary/img/2024/0701_sunset.jpg></figure><p>鉄板焼きのレストランで目の前で焼いてくれる。オマール海老とお肉を堪能した。とてもおいしかった。会計後にぽろっと話しているのを聞いたら (飲みものを含め) 11人で34万円だったとのこと。食べものだけなら1人2-3万円といったところなのかな。個人で入るようなお店ではないかな？とか3万円だったら自分は他のことにお金を使いたいとか、会社の経費をこういった使い方をすることで個人では行かないようなお店で付加価値の高いサービスを経験するという意味もあるのかな？といか、いろいろ考えたりもした。</p><figure><img src=/diary/img/2024/0701_cook.jpg></figure><ul><li><a href=https://www.terrace.co.jp/busena/restaurants_bars/ryutan.php>鉄板焼レストラン「龍潭」</a></li></ul><p>付け合わせ沖縄のソウルフードでうむくじ天ぷらというドーナツのようなおやつを教えてもらった。普通においしかった。</p><ul><li><a href=https://www.okinawaclip.com/post/1699333267/>沖縄郷土料理・モチモチした食感の”うむくじ天ぷら”</a></li></ul><h2 id=社員旅行という舞台装置の検討>社員旅行という舞台装置の検討</h2><p>晩ご飯を食べ終えて部屋に戻ってお手伝い先の社員さん兼、もと同僚の先輩と話す。今回の社員旅行はお手伝い先の社員の半分しか参加していない。その背景をいろいろと話していた。</p><ul><li>家族がいる社員にとって3泊4日の社員旅行は長過ぎる？<ul><li>家族の都合で参加できない方が大半</li><li>昔は家族がいる社員が少なかった</li></ul></li><li>社員旅行はもはや時代遅れ？<ul><li>経営者からの社員への慰労を体現しているが、他のやり方もあるのではないか？</li></ul></li><li>昔は30-40代の社員しかいなくて趣味趣向の調整をしやすかった<ul><li>いまは20-50代の社員がいて、幅広い世代が楽しめる社員旅行を企画するのは難しい</li><li>遊びだけの社員旅行に関心がない社員もいるのではないか？</li></ul></li></ul><p>社員旅行に来ている社員さんたちは、みんな和気藹々として仲良くやっているし、こういう場で親睦することで普段の業務のコミュニケーションが円滑になるという側面はある。一方で参加できない社員も増えてきて、社員のライフステージの変化、世代の違い、時代による価値観の変化などをどうアップデートしていくのかなど、これはこれで難しい課題だなと思えた。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/0607/>テスト設計についての考察</a></h1><div class=post-meta><time class=post-date>2024-06-07</time></div><span class=post-tags>#<a href=/diary/tags/biztrip/>biztrip</a>&nbsp;
#<a href=/diary/tags/testing/>testing</a>&nbsp;
#<a href=/diary/tags/design/>design</a>&nbsp;
#<a href=/diary/tags/book/>book</a>&nbsp;
#<a href=/diary/tags/sake/>sake</a>&nbsp;</span><div class=post-content><p>飲みにいっていたので今日の運動はお休み。</p><h2 id=都営浅草線>都営浅草線</h2><p>宿泊したホテルの近くにある三田駅から五反田まで都営浅草線で乗り換えなしで通勤できることに気付いた。山手線でも行けるが。芝公園は運動にもよいスポットなので五反田の京王プレッソイン以外にスーパーホテルに泊まるプランも織り交ぜてよさそうに思える。</p><h2 id=qa-テストのテスト設計>QA テストのテスト設計</h2><p>次のマイルストーンから QA テストが始まる。その前に今回の開発した成果物を踏まえてテストケースなどを整備し直さないといけない。さらに機能が増えてシステムが複雑化したことでテストのカテゴライズなども見直したいと考えていた。そういった一連のテスト設計を再構築しようと考えている。一般的なやり方としてテストケースをスプレッドシートでまとめる手法がある。それ自体は悪くないし、デフォルトのやり方だとは思うが、もっとよいやり方はないかと模索している。試しにオライリーのサブスクリプションでみつけた <a href=https://www.oreilly.com/library/view/full-stack-testing/9781098108120/>Full Stack Testing</a> の、関心のあるところだけ斜め読みした。</p><p>これまでは手動テストと自動テストの２つのカテゴリ程度でしか分類されていなかったテストに関するコンテキストを、著者は10個のスキルに分割して体系化し、これらをまとめて <em>full stack testing</em> と呼んでいる。適切な名前をつけられることから著者のテストに関する知識や経験の深さが伺える。</p><figure><img src=/diary/img/2024/0607_book1.jpg></figure><p>いくつか斜め読みした中で私が最も関心をもったところに手動探索テストの章がある。著者は「手動テスト」と「手動探索テスト」はまったく別の概念であると定義している。前者はあらかじめ決められたテスト仕様にしたがってテストするだけ。後者はアプリケーションの詳細を掘り下げ、現実的なシナリオを考えて、それらをシミュレートするようにテストしていく。</p><blockquote><p>この開発後の探索的テストを実施するために、別個の担当者を配置する必要はないかもしれない。しかし、そのアプローチの方が、アプリケーションに関する知識が蓄積され、鋭い観察力と分析力を持つ人が必要になるため、より良い結果が得られるかもしれない。コストや稼働率の問題でこれができない場合は、既存のチームメンバーが、各イテレーション期間中、総当り方式で探索的テストを実施する責任を負うべきである。実際、探索的テストのスキルを開発することは、すべての役割のパフォーマンスを向上させるのに役立つかもしれない。</p></blockquote><p>探索テストをやるときはその人の経験に応じて感覚的にあちこち触ってテストをしているように思う。次の図は、その分類を明確にすることでチェックポイントやテストのコツやプラクティスの共有をやりやすくなっていくかもしれないと思えた。</p><figure><img src=/diary/img/2024/0607_book2.jpg></figure><h2 id=雑談会>雑談会</h2><p>夜はやぎさんとおがわさんと久しぶりに会って雑談してきた。おがわさんとは1年以上会っていなかったと思う。実家が大阪なので帰ってきたら声をかけてくださいとよく伝えているものの、最近は実家に帰っておられないようだ。うちは最低でも年に1回お正月に帰るのが当たり前の家だったから何年も実家に帰っていないという家族の形態もあるんだなという所感。それぞれの家の文化がある。ホットクックで <a href=https://cocoroplus.jp.sharp/kitchen/recipe/hotcook/KN-HW24G/R4078>麻婆なす</a> を作ろうという話題になって、私も作ったことがないことに気付いた。今度うちでも作ってみようと思う。あと、まったく飲んだことのなかった焼酎で <a href=https://tsnet-web.jp/products_sake/>十割そば焼酎粋蕎 (いっきょう)</a> がおいしかった。近所の酒屋でも売っているか探してみよう。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/0606/>増上寺の東京タワー</a></h1><div class=post-meta><time class=post-date>2024-06-06</time></div><span class=post-tags>#<a href=/diary/tags/microsoft-entra-id/>microsoft entra id</a>&nbsp;
#<a href=/diary/tags/debug/>debug</a>&nbsp;
#<a href=/diary/tags/biztrip/>biztrip</a>&nbsp;
#<a href=/diary/tags/exercise/>exercise</a>&nbsp;
</span><img src=/diary/img/2024/0606_tower.jpg class=post-cover alt=増上寺の東京タワー title="Cover Image"><div class=post-content><p>今日の運動は縄跳び(両足跳),散歩,ハンドグリップをした。統計を <a href="https://docs.google.com/spreadsheets/d/1bg85QtM-LciUgey8I79uI7vW2PEwsP6TVdeIRVkACBg/edit?usp=sharing">運動の記録</a> にまとめる。</p><h2 id=msgraph-sdk-go-のデバッグ>msgraph-sdk-go のデバッグ</h2><p><a href=/diary/posts/2024/0523/#me-id-調査>me-id の調査</a> を経て msgraph-sdk-go の delta クエリを使って変更差分を取得できるようになった。デバッグしていて、プロパティの値を変更したときに差分を取得できているものの、変更する値を空の値にする (null) にしたときの変更を検知できていないことに気付いた。実際のレスポンスは null が連携されているものの、sdk 側のコードで null を無視しているようにみえた。おそらく sdk のバグなんじゃないかと思って discussion ではなく issue として登録してみた。</p><ul><li><a href=https://github.com/microsoftgraph/msgraph-sdk-go/issues/725>Cannot get nil value from BackingStore with delta query when a property value was changed to nil (empty) #725</a></li></ul><p>もしかしたら他の api で代替できるのかもしれないけれど、そうじゃなかったら、これは致命的な不具合だと思う。こんな実運用で使ったらすぐ気付く不具合がこれまでに修正されていないとしたら go の sdk で delta クエリの運用を誰もやっていないの？とか思ってしまう。</p><h2 id=スーパーホテル>スーパーホテル</h2><p>今日から <a href=https://www.superhotel.co.jp/s_hotels/shiba/>スーパーホテル 東京・芝</a> に2泊する。スーパーホテルというホテルチェーンがあることは知っていたけれど、実際に泊まるのは初めてだった。避けていたわけではないのにこれまで機会がなかった。泊まってみてとてもよかった。施設・設備は整っているし、大浴場ではないけど個室よりは広いお風呂があるし、朝食も無料でついてきて、その上に宿泊料金が安い。コスパという視点では、いつも宿泊している京王プレッソインよりも高いと思う。他の場所のスーパーホテルにも泊まってみようという気持ちにさせるぐらいの、今回の宿泊体験はよかった。</p><h2 id=しばの上の運動>しばの上の運動</h2><p>今日もお仕事を終えてから散歩に出掛けた。<a href=https://www.tokyo-park.or.jp/park/siba/index.html>芝公園</a> や増上寺の付近をぐるぐるまわりながら縄跳びができそうな場所を探していた。芝生の広場もあったけれど、早い時間帯は人がたくさんいて、縄跳びすると変な人にみられそうだったので、弁天池という人気のないところで縄跳びをしていた。22時頃に芝生の広場の前を通ったらかなり人が減っていたので遅い時間帯ならここでもよいかもしれない。20代後半のときにこの付近に住んでいたので増上寺や東京タワーを眺めるのも懐かしかった。出張したときの運動するコースとして芝公園周りはちょうどよいと思う。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/0507/>連休明けの出張</a></h1><div class=post-meta><time class=post-date>2024-05-07</time></div><span class=post-tags>#<a href=/diary/tags/biztrip/>biztrip</a>&nbsp;
#<a href=/diary/tags/project-management/>project management</a>&nbsp;
#<a href=/diary/tags/team-building/>team building</a>&nbsp;
#<a href=/diary/tags/communication/>communication</a>&nbsp;</span><div class=post-content><p>今日の運動はスクワット,背筋,散歩,ハンドグリップをした。統計を <a href="https://docs.google.com/spreadsheets/d/1bg85QtM-LciUgey8I79uI7vW2PEwsP6TVdeIRVkACBg/edit?usp=sharing">運動の記録</a> にまとめる。</p><h2 id=出張前の前泊>出張前の前泊</h2><p>今回の出張は <a href=/diary/posts/2024/0408/#列車予約>サンライズ瀬戸・出雲の予約を取れなかった</a> ので、前日の夜の最終新幹線で東京へ行って <a href=https://do-c.jp/gotanda>ドシー五反田</a> というカプセルホテルに泊まることにした。もともと赤坂のカプセルホテルに泊まる予定が、その施設で行っていた改修工事が予定した期間内で終わらなくて営業できないという連絡をもらって、急遽、五反田のカプセルホテルに泊まることになった。価格が 2,829円 (税込) とめちゃくちゃ安かったせいか、コンクリート打ちっぱなしの最低限の設備投資をしてカプセルホテルっぽくしたような施設だった。汚いわけではないが、あまり衛生面の視点からは宿泊体験は微妙だが、価格を考えれば十分にコスパはよいと言える。地下がシャワーフロアとサウナになっていて、サウナはめっちゃ暑かったが、設備そのものは新しくてよかった。もう少し低めに温度調節すればゆっくりサウナに入ってシャワーで汗を流せてもっと快適だったと思う。しかし、格安のカプセルホテルなのでそんなことに気を配るスタッフもいないため、おもてなしの配慮が足りないところが残念だった。スーツケースは受付のスタッフが監視できる場所に置いておけるし、手荷物はスーパー銭湯にあるような鍵付きのロッカーに保管できる。カプセル内で CPAP 装置を設置して普通に眠ることもできた。進んでこのカプセルホテルに宿泊はしないけれど、他のホテルが埋まっていて場所がなくて困ったときには今後も泊まるかもしれない。</p><h2 id=定例会議>定例会議</h2><p>連休明けの初日に前マイルストーンのふりかえりをやって、新たに登録された issue の優先度を確認して、軽くメンバー間のコミュニケーションを取ったりしながらの働き始め。とくに目新しいことのない普通の一日を過ごした。ここ最近は東京出張すると、1人前に成長したメンバーが1日を通してあれこれ質問してくるようになった。彼はできるお仕事が増えて、気付きも増えたので気になることや相談した方が手っ取り早い確認などを積極的に尋ねてくれるようになった。それはそれで出張している意味があるなと思えるので私もなるべく相談にのるようにしている。出張中は自分の作業を進めることの優先度はやや低くなる。やはりリモートワークよりもオフィスにいた方がコミュニケーションの機会が増えて、コミュニケーションの質も高くなるようだ。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2024/0424/>洋食ランチ</a></h1><div class=post-meta><time class=post-date>2024-04-24</time></div><span class=post-tags>#<a href=/diary/tags/kobe/>kobe</a>&nbsp;
#<a href=/diary/tags/food/>food</a>&nbsp;
#<a href=/diary/tags/biztrip/>biztrip</a>&nbsp;</span><div class=post-content><p>昨日はキングダム第5シリーズの後半を一気見してそのまま疲れて寝てた。</p><p>今日の運動は腹筋ローラー,散歩をした。統計を <a href="https://docs.google.com/spreadsheets/d/1bg85QtM-LciUgey8I79uI7vW2PEwsP6TVdeIRVkACBg/edit?usp=sharing">運動の記録</a> にまとめる。</p><h2 id=パワーランチ>パワーランチ</h2><p>お手伝い先の会社の別チームの社員さんがたまたま神戸のお客さんの現地作業に来られるということでランチを一緒に行ってみた。私が1人だけというのも寂しいのでハニカムのやまとさんにも声をかけて一緒に行ってきた。いくつか候補を提示して先方が洋食屋へ行きたいという希望だったので <a href=https://tabelog.com/hyogo/A2801/A280102/28007317/>マックス</a> さんへ行ってきた。体脂肪コントロールする前は1週間に1回ぐらい行っていたお店だったのだけど、もう何ヶ月も行っていなかった。今日は開放食で久しぶりにミンチカツを山盛り食べた。これはちょっと体重増えるやろな。ランチを食べながら3人で雑談して、それからうちのオフィスを軽く案内して解散した。お客さんが来られたときに紹介できるお店のストックがたまってきてよい感じではある。</p><figure><img src=/diary/img/2024/0424_tonkatsu.jpg></figure><h2 id=社員旅行の目的地決定>社員旅行の目的地決定</h2><p>お手伝い先で社員旅行に今年も付いていく予定。今回は沖縄 (本島) へ行くことになったみたい。ずっと行きたいと思いつつ (いや本当の意味では思っていない) 行ったことのない場所なので楽しみではある。沖縄へ行ってもやりたいこととか全く思いつかない。おそらく他の社員さんに付いていってあちこち観光してくるような感じになるのではないだろうか。他の人たちは関心ないだろうから行かないとは思うけれど、沖縄のコワーキングスペース巡りとか、余裕があればやってみたいかもしれない。あとは本場の沖縄料理とかも食べるぐらいかなぁ。沖縄本島でなにかお勧めのアクティビティがあったら教えてほしい。</p></div></article><div class=pagination><div class=pagination__buttons><a href=/diary/tags/biztrip/page/2/ class="button next"><span class=button__text>過去の日記</span>
<span class=button__icon>→</span></a></div></div></div></div><footer class=footer><div class=footer__inner><div class=copyright><span>© 2025 Powered by <a href=https://gohugo.io>Hugo</a></span>
<span>:: <a href=https://github.com/panr/hugo-theme-terminal target=_blank>Theme</a> made by <a href=https://github.com/panr target=_blank>panr</a></span></div></div></footer><script type=text/javascript src=/diary/bundle.min.js></script></div></body></html>