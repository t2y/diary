<!doctype html><html lang=en><head><title>event :: forest nook</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=/diary/tags/event/><link rel=stylesheet href=/diary/styles.css><link rel=stylesheet href=/diary/style.css><link rel="shortcut icon" href=/diary/favicon.ico><meta name=twitter:card content="summary"><meta name=twitter:site content="t2y"><meta name=twitter:creator content><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:title" content="event"><meta property="og:description" content><meta property="og:url" content="/diary/tags/event/"><meta property="og:site_name" content="forest nook"><meta property="og:image" content="/diary/favicon.ico"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><link href=/diary/tags/event/index.xml rel=alternate type=application/rss+xml title="forest nook"></head><body class=green><div class="container full headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=/diary><div class=logo>forest nook</div></a></div><ul class="menu menu--mobile"><li class=menu__trigger>Menu&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=/diary/about>自己紹介</a></li><li><a href=/diary/dates>月別一覧</a></li><li><a href=/diary/tags>タグ一覧</a></li></ul></li></ul></div><nav class=navigation-menu><ul class="navigation-menu__inner menu--desktop"><li><a href=/diary/about>自己紹介</a></li><li><a href=/diary/dates>月別一覧</a></li><li><a href=/diary/tags>タグ一覧</a></li></ul></nav></header><div class=content><div class=posts><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2022/1215/>openapi 再び</a></h1><div class=post-meta><time class=post-date>2022-12-15 (Thu.) ::</time></div><span class=post-tags>#<a href=/diary/tags/openapi/>openapi</a>&nbsp;
#<a href=/diary/tags/event/>event</a>&nbsp;</span><div class=post-content><p>1時に寝て何度か起きて7時に起きた。1-2時頃に吐き気がして苦しむ割に後半はなにもなかったかのように眠れることがある。</p><h2 id=openapi-generator-の調査>openapi-generator の調査</h2><p>毎週の勉強会に向けて最新の <a href=https://github.com/OpenAPITools/openapi-generator>openapi-generator</a> を使って出力した go client のコードを読んだりしていた。openapi-generator を簡単に試すためのチュートリアルのようなものとして、過去にリポジトリに整理しておいた。このリポジトリを使うとコード生成とドキュメント生成の両方を試してスキーマがあることのメリットを体験できるようになっている。</p><ul><li><a href=https://github.com/kazamori/try-openapi-generator-cli>https://github.com/kazamori/try-openapi-generator-cli</a></li></ul><h2 id=chatgpt-で遊ぶ>chatgpt で遊ぶ</h2><p><a href=https://play2learn.connpass.com/event/268391/>【おあそぶ会】GPT3と遊ぶ</a> に参加した。gpt3 についてちょうさんが調べたメモにも目を通して参考になった。</p><ul><li><a href=https://peridot-balmoral-923.notion.site/20221215-GPT3-31a50d35e2b14c38a73693d1cf1d339a>20221215【おあそぶ会】GPT3と遊ぶ</a></li></ul><p>ちょうさんの gpt3 の説明を聞きながら chatgpt で葬送のフリーレンについてチャットしてた。今日の成果はこれかな。</p><figure><img src=/diary/img/2022/1215_chatgpt1.png></figure></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2022/1214/>技術選定の調査開始</a></h1><div class=post-meta><time class=post-date>2022-12-14 (Wed.) ::</time></div><span class=post-tags>#<a href=/diary/tags/frontend/>frontend</a>&nbsp;
#<a href=/diary/tags/tech-selection/>tech selection</a>&nbsp;
#<a href=/diary/tags/event/>event</a>&nbsp;</span><div class=post-content><p>1時に寝て2時に起きて吐き気に苦しんで6時に起きた。後半はよく眠れた気がする。</p><h2 id=フロントエンドの技術選定の調査>フロントエンドの技術選定の調査</h2><p>はらさんにお願いした <a href=/diary/posts/2022/1209/#フロントエンド勉強会>フロントエンド勉強会</a> の内容を踏まえて技術選定を行う。次の3つを候補とした。</p><ul><li>react</li><li>svelte</li><li>solid</li></ul><p>客観的な指標で3つの技術を調査して比較した時点で solid はうちのチームにはあわないと候補から除外することにした。なので react vs svelte の一騎討ちとなる。なにか理由がない (デファクトスタンダード) なら react だし、うちのチームにとって有効だと判断できる項目があるなら svelte になる。ここで next.js と svelte kit でちょっとコードを書いてみて自分なりの感触も探ろうと考えている。</p><ul><li><a href=https://scrimba.com/articles/svelte-vs-react/>Svelte vs React: Which framework to learn in 2023?</a></li></ul><h2 id=インフレ勉強会>インフレ勉強会</h2><p><a href=https://inflation.connpass.com/event/266172/>エンジニアのためのインフレ研究会 #1</a> に参加した。お仕事の調べものをしながら聞いてた。私はもう常連で前々から同じような話を聞いているものの、発表者の資料も説明もわかりやすいものだったと思う。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2022/1211/>休日のオンライン学習</a></h1><div class=post-meta><time class=post-date>2022-12-11 (Sun.) ::</time></div><span class=post-tags>#<a href=/diary/tags/event/>event</a>&nbsp;
#<a href=/diary/tags/migration/>migration</a>&nbsp;
#<a href=/diary/tags/team-building/>team building</a>&nbsp;
#<a href=/diary/tags/go/>go</a>&nbsp;
#<a href=/diary/tags/programming/>programming</a>&nbsp;</span><div class=post-content><p>0時に寝て夜中に吐き気がして2回ほど起きて3時と5時に起きて8時に起きた。なかなか苦しい寝方をした。</p><h2 id=ヤフートラベルと一休comのシステム統合>ヤフートラベルと一休.comのシステム統合</h2><p>アーカイブ公開されたらみようと思いつつ忘れてたので見返した。</p><div class=video-container><iframe src=https://www.youtube.com/embed/JN4kGYbQMJ8 allowfullscreen title="ヤフートラベルのシステムリニューアル 一休 com とのシステム統合 -日本語版-"></iframe></div><p>雑なめも。また機をみて見返すこともあるかも。</p><ul><li>バックエンドは完全に一休側に寄せるという大きな意志決定を2016年に行った<ul><li>この意志決定はフロントエンド統合にも大きな影響を与えた</li><li>ふじもんさんの意志決定がよかった？</li></ul></li><li>今日の話しはマルチブランドデザインシステム統合がメイン<ul><li>開発者が50-60人程度で半年ぐらいで launch できた</li><li>nuxt/vuejs で開発している</li><li>スタイルは tailwindcss を使っている</li><li>実は launch した後にこのシステムが必要だとわかった<ul><li>開発者とデザイナー間の細かい意思疎通が困難</li><li>外部からデザインシステムに詳しい人にも来てもらっていろんな議論をした</li><li>ガイドラインを言語化するところから始め、最終的にソースコードの共有ができるようになった</li></ul></li><li>終わってからデザインシステムそのものは重要ではないと気付いた<ul><li>この過程で開発者とデザイナー間のどのように共通化するか、あるいはしないかと議論を繰り返し行ったことが重要だったと当事者がインタビューで語っていた</li><li>デザインシステムの開発を通じてデザインの共通認識をもてたことがよかった</li></ul></li></ul></li><li>波及効果<ul><li>同じソースコードから少し異なる体験の開発のノウハウができた</li><li>ふるさと納税に特化した宿泊予約サイトを作った</li></ul></li><li>統合は終わりではない、lauch したところが始まり<ul><li>統合後にいろいろな施策をすることで課題がみえてくることがある</li></ul></li><li>全国旅行支援は1つの開発で2つの体験をつくることができた</li><li>Q. デザイナーと開発者はわりと仲が悪いのでは？価値観や考え方が異なるのですり合わせるのは難しいのでは？<ul><li>過去の一休でも起きていた</li><li>一休のチームはデザイナーと PM と開発者で構成されている<ul><li>このチームが一緒に働いていてチームでなるべく意志決定している</li><li>普段から一緒に働いていると仲が悪いということはなかった</li><li>とはいえ、仕事のプロセスが異なるので課題はあった<ul><li>地道に丁寧にすり合わせを行った</li><li>外部から講師を読んで中立的な立場でワークショップを何度も行った</li></ul></li></ul></li><li>デザイナーと開発者を別の組織にしているとコミュニケーションの壁ができてしまうかもしれない</li></ul></li></ul><h2 id=go-の学び直し>go の学び直し</h2><p><a href=/diary/posts/2022/1123/#go-の学び直し>テストの学び直し</a> に引き続き、<a href=https://tenntenn.connpass.com/event/267564/>Gopher塾 #2 - Goらしいコードの書き方 - DAY 1</a> に参加した。</p><p>テストの次のプログラミングの話しだったので内容そのものは難しくはなかったけど、改めて重要な項目を選抜しているのだと考えると学びはあったと思う。参考になったことをいくつか覚えている範囲でまとめる。名前の付け方について感覚的に理解していたし、実際に私はそうしているけど、コードレビューしていて自然になっていないコードを指摘する機会も多いので一定の習熟を要するのかもしれない。いま毎週勉強会をやっていて私が講師として話している。ネタがなくなってきたり大変になったきたら準備の少ないコードリーディング会もやってみたいと思った。</p><ul><li><a href=https://google.github.io/styleguide/go/>google Go Style</a></li><li><a href="https://cs.opensource.google/go/x/pkgsite/+/master:internal/derrors/derrors.go;l=237">derrors.Wrap</a></li><li>名前に文脈を与えるという概念<ul><li>相対的な名前をつける</li></ul></li><li>準備の少ないコードリーディング会<ul><li>お題（読むパッケージ）を決める</li><li>選んだお題に期待することを当日話す</li><li>時間を決めてみんなでそれぞれ読む（20分とか）</li><li>読みながらSlackのスレッドにメモをしていく</li><li>残りの時間で気になったところを議論する</li><li>自分が気づけなかった点を知ることができる</li></ul></li></ul></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2022/1209/>3年目の創立記念日</a></h1><div class=post-meta><time class=post-date>2022-12-09 (Fri.) ::</time></div><span class=post-tags>#<a href=/diary/tags/founding/>founding</a>&nbsp;
#<a href=/diary/tags/event/>event</a>&nbsp;
#<a href=/diary/tags/frontend/>frontend</a>&nbsp;
#<a href=/diary/tags/tech-selection/>tech selection</a>&nbsp;</span><div class=post-content><p>0時に寝て何度か起きて7時に起きた。金曜日は普通の週でも疲れているが、今週はハードだったからさらにバテバテ。</p><h2 id=隔週の雑談>隔週の雑談</h2><p>顧問のはらさんと隔週の打ち合わせ。オフィス移転に伴う諸々を雑談したり、おもには夕方から講師をしてもらうフロントエンド勉強会の最終確認のようなことをしていた。</p><h2 id=フロントエンド勉強会>フロントエンド勉強会</h2><p>私がマネージャーとなって今月決めないといけない大きな意志決定の1つにフロントエンドの技術選定がある。とはいえ、私はフロントエンドに関して素人なのでなにかしら取っ掛かりがほしい。その参考の1つとして、はらさんにお願いして技術選定というテーマでフロントエンド勉強会を開催してもらった。感謝。いまお手伝い先では私が毎週チーム勉強会を行っている。これも1ヶ月以上続けている。そろそろ定着しつつあってチーム外からも毎週数人が参加してくれるようになってきた。勉強会という開発文化の取り組みとしてもちょうどよいように思ったのでお手伝い先も巻き込んで講師だけ社外の人が務める勉強会となった。結果は15人以上参加してくれて質疑応答も盛り上がってよかったと思う。</p><p><a href=https://2021.stateofjs.com/ja-JP/>State of JS アンケート</a> (ここは翻訳されたサイト) という、主にはフロントエンドの開発者の調査結果がある。これはフロントエンドの開発者のみのアンケートなので偏りはあるだろうというのも考慮しつつ、最近のトレンドを理解する上でよさそうに思えた。<a href=https://reactjs.org/>React</a> をデファクトスタンダードとして、対抗する候補に <a href=https://svelte.dev/>Svelte</a> のみを私は考えていたが、もう1つ <a href=https://www.solidjs.com/>Solid</a> を加えてもよいのではないかとアンケート調査をみていて思うようになった。</p><p>私にとってもっとも参考になった技術選定の考え方としてリニューアルを前提にフロントエンドを作るというもの。技術選定で難しいことの1つは、いま流行っている技術が未来もそうかどうか誰にもわからない。未来に人気がなくなって保守されなくなって開発中止となり、フロントエンドの作り直しを強いられることを避けたいという心理や懸念は一般的だと思われる。その懸念を逆転の発想をもって、例えば、作ってから3年経ったら既存のフロントエンドはすべて捨てて作り直すと決めておけば多くの悩みは解消される。こういう言い方をすると多くのフロントエンド開発者は怒るかもしれない。私にとってはプロダクトのコアはバックエンドであってフロントエンドはそうではない。だからフロントエンドはそのときの流行りの技術で動けば何でもよいという考え方は納得感が高い。</p><h2 id=創立記念日>創立記念日</h2><p>今日が会社の創立記念日。無事に3周年を迎えた。いつか創立記念日をお休みにしたいが、未だそのときではない。</p><p>2年目は大きな失敗も経験して経営やキャリアの両方で反省する機会にもなった。その過程でうちの会社はなにをやるのかという基本方針とプロダクトの種のようなものができた。3年目はプロダクト開発の前段階としての実証実験のようなことを実際のお客さんの業務を通じて行っている。しかもそれがいま2社目。会社を作ったときに最初の10年間のステージを3つに分けた。そしてそのステージにおけるフェーズ1の終わりが近づいていて、目標としていたことも達成の見込みがたっている。うまくいけば来年の中旬以降から実証実験の結果を踏まえたプロダクト開発に移っていけるかもしれない。そうなればフェーズ2に移行する。起業してから3年経ってもありがたいことにお仕事はあるし応援してくれる人たちもいる。周りの人たちに恵まれていて感謝することも多い。過去の自分がやってきたことに自信をもっているからその人脈も継続できているし、少しずつ新しい関係性を作っていくことにも注意を払っている。あと何年働けるだろうかと考えることもしばしばある。もうそんなに長くないこともわかっているので悔いのないよう挑戦していきたい。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2022/1208/>rabbitmq 再び</a></h1><div class=post-meta><time class=post-date>2022-12-08 (Thu.) ::</time></div><span class=post-tags>#<a href=/diary/tags/auth/>auth</a>&nbsp;
#<a href=/diary/tags/rabbitmq/>rabbitmq</a>&nbsp;
#<a href=/diary/tags/event/>event</a>&nbsp;
#<a href=/diary/tags/blockchain/>blockchain</a>&nbsp;</span><div class=post-content><p>0時に寝て3時に起きて6時半に起きた。前日あまり寝てなかったから普段よりよく眠れた。</p><h2 id=rabbitmq-の認証>rabbitmq の認証</h2><p>たまたまなのだけど、前のお仕事でも rabbitmq を使っていて、いまのお仕事でも rabbitmq を使っている。私の中では <a href=https://kafka.apache.org/>kafka</a> のエコシステムに感銘を受けたので私が技術選定してよいなら kafka を使っていきたいところだけど、rabbitmq も人気があってすごいなと思う。インフラを触っていて rabbitmq の認証をしていないことに気付いた。<a href=https://hub.docker.com/_/rabbitmq>rabbitmq の docker image</a> を使うとデフォルトで guest/guest のユーザーが作られる。</p><blockquote><p>If you wish to change the default username and password of guest / guest, you can do so with the RABBITMQ_DEFAULT_USER and RABBITMQ_DEFAULT_PASS environmental variables. These variables were available previously in the docker-specific entrypoint shell script but are now available in RabbitMQ directly.</p></blockquote><p>おそらくメッセージのやり取りを通信するときも何も指定しなかったら guest ユーザーとして扱っているのかな？通信するときの <a href=https://www.rabbitmq.com/uri-spec.html>RabbitMQ URI Specification</a> によると、<code>amqp://user:pass@host:10000/vhost</code> のような、昔ながらの uri にユーザー／パスワードを埋め込むような認証になる。このやり方だと uri 自体が credentials になってしまって運用の使い勝手が悪くなってしまうものの、アプリケーションの変更は必要ないというメリットもある。おそらく歴史的に認証は後付けで追加されたのかな？ともかく実際の運用だとユーザー／パスワードでアクセス制御を行うだろうと想定されるので気付いたタイミングで開発環境の docker image の設定と uri の変更を行った。</p><h2 id=時事ネタの気軽な雑談会>時事ネタの気軽な雑談会</h2><p><a href=https://play2learn.connpass.com/event/267936/>【おはなし会】CEXだって安全にできるもん</a> に参加した。ちょうさんは fin-py のイベントで何度か発表を聞いたことがある。データサイエンス系のお仕事をされているのかな？<a href=/diary/posts/2022/1113/>ftx 事件</a> をうけて ethereum の創始者である vitalik buterin 氏がブログに投稿したアルゴリズムの解説をされていた。</p><ul><li><a href=https://vitalik.ca/general/2022/11/19/proof_of_solvency.html>Having a safe CEX: proof of solvency and beyond</a></li></ul><p>取引所の不正を防ぐための仕組みとして、それぞれの口座の残高を公開しなくても merkle tree とハッシュ関数をうまく使って、取引所が実際に管理している残高とユーザーの残高が一致しているかをチェックできるような、そんなアルゴリズムだったと思う。ちゃんとブログの記事を読んでないけど、ちょうさんの解説を聞く分にはアルゴリズムはそう難しくないように思えた。そんなすごい仕組みじゃなくて、簡易的に大きな計算コストもなく全体の残高があっていることのおおよそのチェックはできますよといったもの。</p><p>イベントが始まる前にちょうさんが大学の研究室にいた頃、研究室へ行くと同僚がいて気軽に新しい技術の話しができたけど、社会人になるとそういう機会が減ってしまったという。時事ネタを気軽に雑談できるイベントがあればという話しをされていて私も共感できた。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2022/1127/>出張前夜</a></h1><div class=post-meta><time class=post-date>2022-11-27 (Sun.) ::</time></div><span class=post-tags>#<a href=/diary/tags/agriculture/>agriculture</a>&nbsp;
#<a href=/diary/tags/event/>event</a>&nbsp;
#<a href=/diary/tags/day-off/>day off</a>&nbsp;</span><div class=post-content><p>0時に寝て6時前に起きた。昨日は夜にサッカーの試合をみながら寝た。早朝から田んぼ作業やって、慌てて戻ってイベント行って、バテバテで夕方はやや熱が出て寝込んでた。</p><h2 id=玉ねぎを植える準備>玉ねぎを植える準備</h2><p>昨日の続き。6時から田んぼへ行ける状態ではあったけど、まだ外が暗かったので7時から始めることに。畝を軽く耕して草をひき、苗を植えるための筋を作って、玉ねぎの苗を植えていく。途中から近所の手伝ってくれている方も参加して3人で作業をしていた。玉ねぎの苗を引く人、苗植えのために畝を耕す人、玉ねぎの苗を植えていく人といった役割分担。お昼休憩を含めて私は13時半まで手伝って神戸へ戻ることに。</p><p>草をひいたり玉ねぎの苗を植えたりするのに中腰で立ったり座ったりを繰り返す。筋トレに例えるとスクワット運動を何度も繰り返しているのに近い。太ももが筋肉痛になった。</p><h2 id=ホームパーティー>ホームパーティー</h2><p>13時50分に実家を出て15時頃に三ノ宮に戻る。ガソリンを満タンにしてレンタカーを返すのに10分ほどかかった。高速道路を降りて近くのガソリンスタンドへ行くルートを開拓しないといけない。一旦家に戻ってから三ノ宮.dev のホームパーティーイベントがあるというので行ってきた。13時からやっていたが、私は実家に戻ってたので16時前ぐらいから参加した。どういうイベントかまったく理解してなかった。いつもとは違う場所を借りてもくもく会みたいなのをやるのかと考えていたら普通にゲームしたり雑談したりするイベントだった。だからホームパーティーという名前なのかと行ってみて理解した。<a href=https://www.instabase.jp/space/5027865478>LienSpace</a> という部屋貸しのレンタルスペースを借りて行われた。普通にマンションの一室を借りるような感じ。 3000円/時で4時間借りてたみたい。私が行ってから軽く雑談して人生ゲームやってそれでお開きになった。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2022/1123/>go の学び直し テスト編</a></h1><div class=post-meta><time class=post-date>2022-11-23 (Wed.) ::</time></div><span class=post-tags>#<a href=/diary/tags/go/>go</a>&nbsp;
#<a href=/diary/tags/testing/>testing</a>&nbsp;
#<a href=/diary/tags/event/>event</a>&nbsp;</span><div class=post-content><p>23時に寝て2時に起きて気分悪くて寝付けずにだらだらしながら気付いたら5時になっていた。その後いつの間にか寝て8時に起きた。</p><h2 id=go-の学び直し>go の学び直し</h2><p><a href=https://tenntenn.connpass.com/event/265342/>Gopher塾 #1 - Testing - DAY 3</a> に参加した。</p><p>マネージャーとして go 開発のマネジメントをしているため、メンバーの開発者よりは知識やスキルが高くないとコードレビューや適切な指示ができない。2018年ぐらいまで go 開発をしていたが、その後はずっと java 開発をしていたため、最近の go 開発の話題はあまり把握していない。毎週チーム勉強会 (いまのところ、go 開発の話題) をやっていると、チーム外からも開発者が参加してくれるようになった。チーム外からの開発者が go 開発するときの参考にもなるよう、マネージャーのお仕事の付加価値として、組織全体へ go 開発の知識やスキルを提供できればと考えながら働いている。</p><p>今回はテストについて話題で7割ぐらいは知っている知識ではあったが、3割ぐらいは最近の話題や静的解析の知見からの深い洞察を話されていてとても参考になった。知っている知識でも幅広いテストの話題の中で厳選されたコンテンツになるのだろうから本質的に大事なことや最初に学ぶべき優先事項を知ることもできた。私がメンバーに教えるときのコンテンツの参考として役に立つ。まったく知らなかった話題としては、txtar というテキストをアーカイブしたフォーマットをファイルシステムとして扱えるようにした <a href=https://github.com/josharian/txtarfs>txtarfs</a> や、1.18 から追加された <a href=https://go.dev/security/fuzz/>fuzzing</a> というテストの入力値を自動生成する機能が追加されたこと。あと groovy でいうところの power assert に近い機能を提供するライブラリとして <a href=https://github.com/google/go-cmp>google/go-cmp</a> をいまはテストに使うらしい。たまたま <a href=https://github.com/golang/go/wiki/TestComments#equality-comparison-and-diffs>Go Test Comments</a> を読んでいたら go-cmp は go の開発チームが保守していて go のバージョンに依らずほとんどの比較の要件にあうツールのように説明されていて利用を推奨している。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2022/1118/>新しいお仕事で3週間</a></h1><div class=post-meta><time class=post-date>2022-11-18 (Fri.) ::</time></div><span class=post-tags>#<a href=/diary/tags/event/>event</a>&nbsp;
#<a href=/diary/tags/go/>go</a>&nbsp;</span><div class=post-content><p>2時に寝て4時に起きて仮眠して6時半に起きた。たぶん寝たんだろうぐらいの感覚。10月まで対外的には週4日で働いていたのを、11月から週5日フルタイムの働き方に移行して、やっぱりしんどいという実感がある。対外的に週4日でも10月もオフィスに来て自社のお仕事をしていたり、半日ぐらいは社外のお仕事をしたりはしていた。それでも働く義務の有無によって、意識の違いか、プレッシャーやストレスの面からなにか働き方が違うように思える。生活も働き方もまったく同じなのに。</p><h2 id=盛り上がってないイベント>盛り上がってないイベント</h2><p><a href="https://twitter.com/hashtag/techverse_ja?src=hashtag_click&f=live">ハッシュタグ</a> をみてもほとんど関係者や発表者しかコメントしていないようにみえた。過去に新規事業の立ち上げに協力したプロジェクトの発表があると元同僚のタイムラインで知ったのでその発表だけみてみた。私が辞めてから3年ほど経つので新規サービスも追加されていてその内容がメインだったように思う。</p><ul><li><a href=https://tech-verse.me/ja/sessions/133>DataSolution事業を支える技術</a></li></ul><iframe class=speakerdeck-iframe frameborder=0 src=https://speakerdeck.com/player/86cb588632a647e9baf4697c8f79110e title="Technologies that Support the Data Solution Business" allowfullscreen mozallowfullscreen=true webkitallowfullscreen=true style="border:0;background:padding-box padding-box rgba(0,0,0,.1);margin:0;padding:0;border-radius:6px;box-shadow:rgba(0,0,0,.2)0 5px 40px;width:560px;height:314px" data-ratio=1.78343949044586></iframe><p>あまり技術的な内容ではなく、ビジネス向けでもなく、どういった属性の聴衆向けの発表なのか、私にはあまりピンとこなかった。発表の準備不足な印象を受けた。発表を無理やり押し付けられたのかもしれない。</p><h2 id=go-の-time-型とタイムゾーン>go の Time 型とタイムゾーン</h2><p>go の <a href=https://pkg.go.dev/time#Time>Time</a> 型は <a href=https://pkg.go.dev/time#Location>Location</a> をもっていて、タイムゾーンも一緒に扱える。モダンな言語なら時刻を扱うときにタイムゾーンをセットで扱うのでよいと私も思う。タイムゾーンをもっていない時刻型とタイムゾーンを設定するための余分なコードのことを考えずに済む。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;time&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>mustGetJST</span>() <span style=color:#f92672>*</span><span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>Location</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>jst</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>LoadLocation</span>(<span style=color:#e6db74>&#34;Asia/Tokyo&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		panic(<span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>jst</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>now</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>Now</span>()
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;now:&#34;</span>, <span style=color:#a6e22e>now</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;jst:&#34;</span>, <span style=color:#a6e22e>now</span>.<span style=color:#a6e22e>In</span>(<span style=color:#a6e22e>mustGetJST</span>()))
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;utc:&#34;</span>, <span style=color:#a6e22e>now</span>.<span style=color:#a6e22e>UTC</span>())
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>実行結果。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ export TZ<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;CET&#34;</span>
</span></span><span style=display:flex><span>$ go run test_time_now.go
</span></span><span style=display:flex><span>now: 2022-11-18 17:00:30.08305121 +0100 CET m<span style=color:#f92672>=</span>+0.000011788
</span></span><span style=display:flex><span>jst: 2022-11-19 01:00:30.08305121 +0900 JST
</span></span><span style=display:flex><span>utc: 2022-11-18 16:00:30.08305121 +0000 UTC
</span></span></code></pre></div></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2022/1116/>デジタルノマドへの関心</a></h1><div class=post-meta><time class=post-date>2022-11-16 (Wed.) ::</time></div><span class=post-tags>#<a href=/diary/tags/mermaid/>mermaid</a>&nbsp;
#<a href=/diary/tags/coworking/>coworking</a>&nbsp;
#<a href=/diary/tags/community/>community</a>&nbsp;
#<a href=/diary/tags/event/>event</a>&nbsp;</span><div class=post-content><p>0時に寝て2時に起きて6時に起きた。いまは眠れる状態に落ち着きつつある。</p><h2 id=pandoc-と-mermaid-charts-の扱い>pandoc と mermaid charts の扱い</h2><p>markdown のドキュメントに <a href=https://mermaid-js.github.io/mermaid/#/>mermaid</a> で図を描く機会が増えてきた。markdown を pdf に変換するツールがあって内部的に pandoc を使っている。そのツールで pdf 変換してみたら mermaid 記法がそのままテキストで出力されたので変換するときに図に置き換えられないかを調べてみた。例えば、次のようにして markdown から html に変換できる。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ pandoc mydoc.md -f gfm -o mydoc.html
</span></span></code></pre></div><p>次のように mermaid 記法がそのまま出力される。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;pre</span> <span style=color:#a6e22e>class=</span><span style=color:#e6db74>&#34;mermaid&#34;</span><span style=color:#f92672>&gt;&lt;code&gt;</span>flowchart TB
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>subgraph cr [Container Registry]
</span></span><span style=display:flex><span>  repo[repository]
</span></span><span style=display:flex><span>end
</span></span><span style=display:flex><span>...
</span></span></code></pre></div><p>mermaid を cli ツールとして <a href=https://github.com/mermaid-js/mermaid-cli>mermaid-cli</a> がある。markdown を直接渡しても mermaid のコードブロックを検出して画像変換してくれる。複数あってもよい。これはちょっと驚いた。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ git clone git@github.com:mermaid-js/mermaid-cli.git
</span></span><span style=display:flex><span>$ cd mermaid-cli
</span></span><span style=display:flex><span>$ yarn add @mermaid-js/mermaid-cli
</span></span><span style=display:flex><span>$ npx mmdc --version
</span></span><span style=display:flex><span>9.1.7
</span></span><span style=display:flex><span>$ npx mmdc -i mydoc.md -o mydiagram.png
</span></span><span style=display:flex><span>Found <span style=color:#ae81ff>2</span> mermaid charts in Markdown input
</span></span><span style=display:flex><span> ✅ ./mydiagram-1.png
</span></span><span style=display:flex><span> ✅ ./mydiagram-2.png
</span></span></code></pre></div><p>cli でできるなら何とでもなるんじゃないかともう少し調べていたら次の gist をみつけた。</p><ul><li><a href=https://gist.github.com/letientai299/2c974b4f5e7b05be52d369ff8693c29a>Render PDF from Markdonw that using mermaid</a></li></ul><p><a href=https://pandoc.org/filters.html>pandoc filters</a> という仕組みがあって、pandoc の ast を操作するためのインターフェースを提供している。その仕組みを使って mermaid の変換を行う <a href=https://github.com/raghur/mermaid-filter>mermaid-filter</a> を誰かが作ってくれていた。このツールをインストールして次のように pandoc を実行すると base64 でエンコードした画像を使って html に変換できた。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ npm i -g mermaid-filter
</span></span><span style=display:flex><span>$ pandoc mydoc.md -F mermaid-filter -f gfm -o mydoc.html
</span></span><span style=display:flex><span>$ vi mydoc.html
</span></span><span style=display:flex><span>&lt;p&gt;システム構成図&lt;/p&gt;
</span></span><span style=display:flex><span>&lt;p&gt;&lt;img src<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;data:image/png;base64,iVBORw0KGgoAAAANSU...EnAAAAAElFTkSuQmCC&#34;</span> alt<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;&#34;</span> /&gt;&lt;/p&gt;
</span></span></code></pre></div><p>mermaid-cli を使うか mermaid-filter を使うかは要件や好みにもよるけど、すでにツールがあるので組み合わせれば何とかできそうというところまで確認した。</p><h2 id=コワーキングのオンラインイベント>コワーキングのオンラインイベント</h2><p>月例のカフーツさんのオンラインイベントに参加した。<a href=/diary/posts/2022/1029/#コワーキングのオンラインイベント>先月の所感はここ</a> 。いとうさんが岩手県普代村のコワーキングスペースに行ってきてそのお話しから始まった。私はまだ岩手県に行ったことすらないんやけど、めっちゃ田舎の、断崖絶壁の眺めのよい高台にある国民宿舎にコワーキングスペースがあるらしい。</p><ul><li><a href=https://note.com/kanzan10to9/n/n7802c47b1174>人口2500人弱の村でコワーキング運営の研修をしてきた〜ローカルコワーキングこそ地方創生の鍵〜</a></li></ul><p>研修の講師として、いとうさんは呼ばれてワークショップをしたらしい。参加者が付箋に課題を書き出してグループワークするといった作業に不慣れで、グループ内で話しはしているものの、あまり付箋に書いてくれなかったとかぼやいていた。<a href=https://www.soumu.go.jp/main_sosiki/jichi_gyousei/c-gyousei/02gyosei08_03000066.html>地域おこし協力隊</a> として19歳の隊員が参加者にいたらしい。19歳で地域おこし協力隊になれるの？といとうさんが驚いていた。どうやら年齢は自治体の募集要項次第らしく、たまたま普代村の要項が18歳以上で自治体もまさかそんな若い人がくるとは思ってなかったと19歳の隊員が活躍していたという。若いから頭の回転も速いし活発でワークショップもてきぱきとこなしていたらしい。</p><p>先月のお仕事探しでマネージャー実績のない私を雇う会社はほぼないという現実に直面した。いまのお仕事を終えた後で、地域おこし協力隊の要件を私が満たすなら課題管理を実践する場として行ってみてもいいかもしれないなと話しを聞いていて少し思った。ソフトウェア開発に特化した課題管理しかできないというスコープの狭さが私のスキルの欠点でもある。仮に地域おこし協力隊としてなにかに役立てられるなら、そのスコープをさらに広げられる可能性も出てくる。</p><p>それから次の記事の話題に移っていった。<a href=https://nomadlist.com/>Nomad List</a> というデジタルノマド向けポータル兼 sns のようなサイトを紹介してくれた。</p><ul><li><a href=https://workmill.jp/jp/webzine/future-coworking-20221108/>世界のデジタルノマドが集まるサイトはホスピタリティに満ちている　テクノロジーとヒトが持ち寄る情報の力</a></li></ul><p>試しに <a href=https://nomadlist.com/kobe>kobe</a> のスコアをみてみる。現時点のランキングは1182位と低い。日本はこの2年ほどコロナ禍で鎖国していたからノマドを受け入れてないのでどの都市もランキングは下がっているらしい。ざっとみてスコアがよくないのは次の項目。神戸に住んでいる私の感覚とも合致しているのでこのスコアは一定の信頼ができると思う。神戸の大半のお店は21時までには閉まるし、スタートアップ企業なんか数えるほどしかいない。とはいえ、全体としてはスコアは良好だし世界に誇れる都市の1つとしてデジタルノマドを受け入れる器はあると思う。</p><ul><li>Cost</li><li>Vulnerability to climate change</li><li>English speaking</li><li>Nightlife</li><li>Free WiFi in city</li><li>Startup Score</li></ul><figure><img src=/diary/img/2022/1116_nomadlist-kobe.png></figure><p>あと <a href=https://livinganywherecommons.com/base/mima/>徳島県美馬市脇町</a> の町興しのようなコワーキングやデジタルノマド向けの取り組みの話しがあって関心をもって聞いていた。徳島県なら実家から近い。こんな場所あったんやと聞いていた。このサイトで紹介されているのどけやさんというゲストハウスはいつ行っても外国人がいるといとうさんが話されていた。そう言われると本当なんやろか？と確かめに行きたくなる。たぶん実家から車で1時間もあれば行けそうな気がする。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2022/1109/>軽量のコンテナオーケストレーションツールは存在しない</a></h1><div class=post-meta><time class=post-date>2022-11-09 (Wed.) ::</time></div><span class=post-tags>#<a href=/diary/tags/docker/>docker</a>&nbsp;
#<a href=/diary/tags/kubernetes/>kubernetes</a>&nbsp;
#<a href=/diary/tags/event/>event</a>&nbsp;</span><div class=post-content><p>0時に寝て6時に起きた。冷蔵庫に飲みものなくて不安。</p><h2 id=docker-の-swarm-mode>docker の swarm mode</h2><p>昨日から docker の <a href=https://docs.docker.com/engine/swarm/>swarm mode</a> について調べていた。</p><p>オンプレにコンテナのアプリケーションをデプロイするにあたり、軽量のコンテナオーケストレーションツールはないかと調べ始めた。<a href=https://www.portainer.io/blog/orchestrator-wars-continue>Kubernetes vs Docker Swarm vs Nomad - the orchestrator wars continue?</a> を記事を読むと、軽量のオーケストレーションツールと言えるのは swarm mode か <a href=https://www.nomadproject.io/>Nomad</a> ぐらいしかない。docker に付属しているならまずはそれを調べるべきだろうと調査した。そして swarm mode の採用は見送った。現時点でこの機能が廃止されるというアナウンスはないが、あまり保守されておらず、docker 社も積極的に推進していない。近い将来、機能が廃止される可能性が高いと私は判断した。</p><p>docker のドキュメントをみながら3台の ec2 インスタンスでクラスターを構築してみて簡単であることは間違いない。コマンド2つで swarm クラスターを構築できる。一通り触ってみて数台のマシンを管理する軽量のコンテナオーケストレーションツールとしては十分だと私は思うけれど、残念ながらこのツールが求められる業務やビジネスは少ないのだろうと思う。みんな k8s に持ってかれたという感じかな。調べていて読んだ記事など。</p><ul><li><a href=https://dockerswarm.rocks/>Docker Swarm Rocks</a></li><li><a href=https://levelup.gitconnected.com/six-tips-for-running-swarm-cluster-in-production-e0f2ef367694>Six Tips For Running Swarm Cluster in Production</a></li><li><a href=https://www.reddit.com/r/docker/comments/936924/docker_swarm_in_production_anyone_using_it/>Docker swarm in production - Anyone using it?</a></li></ul><h2 id=hannali-dao-雑談>hannali dao 雑談</h2><p><a href=https://hannari-python.connpass.com/event/265098/>Hannali DAO #02</a> に参加した。</p><p>最初は dao とは何かをみんなで雑談してた。私はお仕事しながら軽く聞いているつもりだったのが、議論に口出しして熱中してた。技術的に私が理解できないことが出てくると、私の認識が誤っていたり新しい気付きがあったりする可能性があるので、ついつい詳細を聞いてみたくなる。hannali dao でトークンをばら撒く戦略をみんなで考えていて dao の宣伝をしたら貢献の1つとみなしてトークンをもらえる。私は twitter でいくつか hannali dao のツィートをしていて、1ツィートが 300 PROG とかで、合計で 1250 PROG のトークンをもらった。PROG というのは hannali dao でのみ使えるトークンね。</p><p>その後、ウォレットに名前を付けられる <a href=https://ens.domains/ja/>ENS (Ethereum Name Service)</a> というサービスがあるのを教えてもらった。ちょうどいくらか ethereum をもってたので metamask に送金して、metamask で ens の登録 (購入) をやってみた。初めて ethereum を使ってサービスの支払いをやってみた。これで私も web3 を完全に理解したよ。ens で名前を登録 (購入) するのに $22.58 、ドメイン名みたいなものでサブドメインも登録できる。サブドメインを付けるのに $2.96 かかり、その ens を metamask に紐付けるのに $7.49 がかかった。metamask に紐付けると <a href=https://etherscan.io/>https://etherscan.io/</a> などで検索したときにウォレットのアドレスではなく、ens で購入した名前が表示されるようになる。トランザクションの履歴に名前が付いてそれが誰なのかが他人にもわかってしまうことがどういった影響を及ぼすのか、プライバシー云々の他に私はまだわかっていない。web3 なので購入した名前は一般公開されているものだけど、その名前は知り合いにしかまだ教えていない。暗号資産のウォレットに名前を付けることの意味や体験などをこれから経験してみる。</p></div></article><article class="post on-list"><h1 class=post-title><a href=/diary/posts/2022/1103/>オフラインのもくもく会</a></h1><div class=post-meta><time class=post-date>2022-11-03 (Thu.) ::</time></div><span class=post-tags>#<a href=/diary/tags/event/>event</a>&nbsp;
#<a href=/diary/tags/management/>management</a>&nbsp;</span><div class=post-content><p>19時ぐらいに一口寝ようと思って寝たら0時過ぎまで寝てしまって、それから4時過ぎまで作業して寝て7時に起きた。出張の慣れない環境で生活が不規則になってきた。</p><h2 id=ドラム式洗濯機>ドラム式洗濯機</h2><p>泊まっているホテルの部屋に備え付けられていたので洗濯・乾燥した。館内設備として有償のコインランドリーがあるのは普通だと思うけど、部屋に洗濯機があって無料で使えるのは長期出張客を対象とした差別化の1つだと思う。乾燥もしてくれるならうちの洗濯機もドラム式に変えようかなと使いながら思った。</p><h2 id=もくもく会>もくもく会</h2><p><a href=https://kazamori.connpass.com/event/262898/>出張もくもく会</a> を開催した。8人が参加してくれた。知り合いが5人でそうじゃない人が3人も来てくれた。初めて行った場所のコワーキングスペースの会議室だから設備をわかっていなかった。8人で作業するにはちょっと窮屈な部屋と外の工事と換気扇がややうるさかった。もくもく会をやる上で我慢できないほどではないが、あまり参加者の満足度は高くなかったかもしれない。私は3つの作業を目標として作業してた。</p><ul><li>日記を書く</li><li>課題管理勉強会の資料作り</li><li>go 言語の勉強</li></ul><p>上の2つはできたが、それで疲れて go 言語の勉強はしなかった。17時から成果発表。なんだかんだで全員発表してくれたと思う。物理的にモニターやプロジェクターに接続しなくても zoom に参加してマイク／スピーカーをオフにして画面共有すればよいと教えてもらった。これはテレビ会議が当たり前になったいまのプラクティスとしてよいなと思えた。</p><h2 id=後の飲み会>後の飲み会</h2><p>もくもく会が終わってから5人で飲みにいった。参加者が知り合いを1人呼んで6人になった。2時間半制で18時から始めて20時半で終わった。眠かったのと翌日も飲みに行く予定があったので私はそこで帰ってホテルで2時間ほど寝てた。昔は当たり前だった勉強会後の飲み会というのも久しぶりの感覚で楽しかった。</p><p>知り合いだけならうちの会社の経費で落とそうかと考えていたものの、その考えがまとまらないうちに割り勘になってしまって、自身の優柔不断さを悔いた。会社の経費を使う理由は売上につながるかどうかというのが原則になる。知人であれば、日常的にお世話になっているからという大義名分が私の中で成り立つものの、そうじゃない状況になってしまったことで私の中で論理的に説明がつかなくなって接待として経費で落とすという決断ができなかった。個人ではなく経営者として判断するときは理論武装してないと固まってしまうことに気付いた。</p></div></article><div class=pagination><div class=pagination__buttons><a href=/diary/tags/event/page/6/ class="button previous"><span class=button__icon>←</span>
<span class=button__text>最近の日記</span></a>
<a href=/diary/tags/event/page/8/ class="button next"><span class=button__text>過去の日記</span>
<span class=button__icon>→</span></a></div></div></div></div><footer class=footer><div class=footer__inner><div class="copyright copyright--user"><span>© 2021 Tetsuya Morimoto</span>
<span>:: Theme made by <a href=https://twitter.com/panr>panr</a></span></div></div></footer><script type=text/javascript src=/diary/bundle.min.js></script></div></body></html>